<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset="utf-8">
    <meta name="description"
          content="An online assembler,disassembler and emulator for the Motorola 6809 CPU. Test snippets of machine code and see the results on simulated text and graphic displays.">
    <title>Online Motorola 6809 Emulator</title>

    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
        }

        table {
            border-spacing: 2px;
        }

        h1 {
            color: #808080;
            margin-top: 0;
            margin-bottom: 0.25em;
            font-style: italic;
        }

        h3 {
            margin-top: 0;
            margin-bottom: 0.25em;
        }

        .controlCaption {
            color: #ff0000;
            font-weight: bold;
        }

        .anydig {
            font-family: monospace, Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 2px;
            background-color: #f8f8f8;
            border: 1px solid #C0C0C0;
        }

        .anydig.hex {
            font-size: 1.5em;
        }

        .anydig.hex.big {
            font-size: 2.5em;
        }

        .anydig.bin {
            font-size: 0.66em;
        }

        .anydig.flag {
            font-size: 0.8em;
        }

        .anydig.label {
            font-size: 0.8em;
        }

        .reglabel {
            text-align: center;
            font-size: 1.25em;
            font-weight: bold;
            color: #4040F0;
        }

        .regitem {
            margin: 0 auto;
        }

        .txtScreen {
            font-family: monospace, Arial, sans-serif;
            font-size: 1em;
            border-spacing: 0;
        }

        .txtFG {
            color: #000000;
            background-color: #20c020;
            padding: 0;
            margin: 0;
        }

        .txtBG {
            color: #20c020;
            background-color: #000000;
            padding: 0;
            margin: 0;
        }

        .txtGGreen {
            color: #20c020;
            background-color: #000000;
            padding: 0;
            margin: 0;
        }

        .txtGYellow {
            color: #c0c020;
            background-color: #000000;
            padding: 0;
            margin: 0;
        }

        .txtGBlue {
            color: #2020C0;
            background-color: #000000;
            padding: 0;
            margin: 0;
        }

        .txtGRed {
            color: #c02020;
            background-color: #000000;
            padding: 0;
            margin: 0;
        }

        .txtGWhite {
            color: #c0c0c0;
            background-color: #000000;
            padding: 0;
            margin: 0;
        }

        .txtGCyan {
            color: #20c0c0;
            background-color: #000000;
            padding: 0;
            margin: 0;
        }

        .txtGMagenta {
            color: #c020c0;
            background-color: #000000;
            padding: 0;
            margin: 0;
        }

        .txtGOrange {
            color: #a06020;
            background-color: #000000;
            padding: 0;
            margin: 0;
        }

        .watchWindow {
            color: #c0c0c0;
            background-color: #e0e0e0;
            font-family: "Courier New", Courier, monospace;
            font-size: 1.25em;
            vertical-align: baseline;
            border-style: solid;
            border-color: #c0c0c0;
            border-width: 1px;
            border-collapse: collapse;
            border-spacing: 0px;
            padding-left: 0.25em;
            padding-right: 0.25em;
            border-collapse: separate;
            border-spacing: 0 0.25em;
        }

        .watchControl {
            color: red;
            background-color: orange;
            font-weight: bold;
            padding-left: 0.25em;
            padding-right: 0.25em;
            cursor: pointer;
        }

        .watchControl:hover {
            background-color: magenta;
        }

        .watchAddr {
            color: #e0a020;
            background-color: black;
            font-weight: bold;
            padding-left: 1em;
            padding-right: 1em;
        }

        .watchHex {
            background-color: black;
            color: #e0a020;
            padding-left: 0.5em;
            padding-right: 0.5em;
        }

        .DSM {
            color: #808080;
            font-family: "Courier New", Courier, monospace;
            font-size: 1em;
            vertical-align: baseline;
            border-style: solid;
            border-color: #404040;
            border-width: 1px;
            border-collapse: collapse;
            border-spacing: 0px;
            padding: 0;
        }

        .DSMhi {
            background-color: #107010;
        }

        .DSMlo {
            background-color: #000000;
        }

        .DSM.ADDR {
            color: #e0a020;
            font-size: 0.9em;
            font-weight: bold;
            padding-left: 0.5em;
            padding-right: 0.5em;
            width: 3em;
        }

        .DSM.BYTES {
            color: #e0a020;
            font-size: 0.8em;
            padding-left: 0.5em;
            padding-right: 0.5em;
            width: 9em;

        }

        .DSM.MNEM {
            color: #c0c0c0;
            font-weight: bold;
            padding-left: 0.5em;
            padding-right: 0.5em;
            width: 12em
        }

        .DSM.Edit {
            color: #f02020;
            background-color: #d0d0f0;
            padding-left: 0.5em;
            padding-right: 0.5em;
            font-weight: bold;
            font-size: 0.9em;
        }

        .cellEdit {
            color: #2020F0;
            background-color: #d0d0f0;
            margin: 0;
            padding: 0;
            font-weight: bold;
            font-size: 0.8em;
            width: 100%;
        }

        .usageNote {
            font-size: 0.9em;
            font-style: italic;
            margin-top: 0.25em;
            margin-bottom: 0.25em;
        }

        .statusText {
            color: #606060;
            background-color: #f0f0f0;
            border: 1px solid #404040;
            font-size: 1em;
            font-weight: bold;
            padding-top: 0.25em;
            padding-bottom: 0.25em;
            padding-left: 1em;
            padding-right: 1em;

        }

        .panel {
            background-color: #f0f0f0;
            padding: 0.5em;
        }

        .labelsContainer {
            display: flex;
            flex-direction: column;
            border: 1px solid black;
            height: 40em;
            width: 12em;
        }

        .labelList {
            flex-grow: 1;
        }

        .interrupts {
            text-align: center;
        }

        .buttonRun {
            background-color: #30d050;
            border-radius: 16px;
            border: 3px solid #18ab29;
            display: inline-block;
            cursor: pointer;
            color: #ffffff;
            font-family: Arial, sans-serif;
            font-size: 20px;
            font-weight: bold;
            padding: 4px 32px;
            text-decoration: none;
        }

        .buttonRun:hover {
            background-color: #5cbf2a;
        }

        .buttonRun:active {
            position: relative;
            top: 1px;
        }

        .buttonStep {
            background-color: #c0c040;
            border-radius: 8px;
            border: 1px solid #808080;
            display: inline-block;
            cursor: pointer;
            color: #ffffff;
            font-family: Arial, sans-serif;
            font-size: 14px;
            font-weight: bold;
            padding: 2px 16px;
            text-decoration: none;
        }

        .buttonStep:hover {
            background-color: #e09030;
        }

        .buttonStep:active {
            position: relative;
            top: 1px;
        }

        .buttonHalt {
            background-color: #e04040;
        }

        .buttonHalt:hover {
            background-color: #e09030;
        }

        .buttonIRQ {
            border-radius: 4px;
            padding: 2px 8px;
            font-size: 12px;
            background-color: #6060c0;
        }

        .buttonIRQ:hover {
            background-color: #4040e0;
        }

        .buttonReset {
            font-size: 16px;
            background-color: #a060c0;
        }

        .buttonReset:hover {
            background-color: #6040e0;
        }

        .machinePanel {
            vertical-align: top;
            padding: 0.5em;
            background-color: #f4f4f4;
        }

        .screenPanel {
            vertical-align: top;
            padding: 0.5em;
            background-color: #e8e8e8;
        }

        .examplesList {
            display: none;
            position: absolute;
            background-color: #d0d0e0;
            color: #202020;
            min-width: 8em;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            text-shadow: none;
            border: 1px solid black;
            z-index: 1;
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
            border-radius: 4px;

        }

        .dropDown {
            position: relative;
        }

        .buttonExamples {
            position: relative;
            background-color: #c0c040;
            border-radius: 4px;
            border: 1px solid #808080;
            display: inline-block;
            cursor: pointer;
            color: #ffffff;
            font-family: Arial, sans-serif;
            font-size: 14px;
            font-weight: bold;
            padding: 2px 16px;
            text-decoration: none;
        }

        .menuItem {
            color: #4040c0;
            margin: 0.25em;
            padding: 0.25em;
            font-size: 0.9em;
            font-weight: bold;
        }

        .menuItem:hover {
            background-color: #f8f8f8;
        }

        .dropDown:hover .examplesList {
            display: block
        }

        .dropDown:hover .buttonExamples {
            background-color: #e09030;
        }


    </style>

</head>

<body style='margin:1em'>

<h1>Motorola 6809 Emulator</h1>
<p style='margin:0'>A single page assembler, disassembler, and emulator for entry-level tinkering with the 6809 CPU. See
<a target='6809help' href='http://6809.ukdragons.org.uk/help.html'>full instructions</a>. Version 1.1.4.
<a target="updates" href="http://6809.ukdragons.org.uk/notices.html">Updates and changes</a></p>

<table id='main-container' style='border-collapse:separate; border-spacing: 0.5em;'>
    <tr>
        <td class='machinePanel'>

            <table id='registers-container' tabindex='0'>
                <tr>
                    <td>
                        <table id='regA' class='regitem'>
                        </table>
                    </td>
                    <td>
                        <table id='regB' class='regitem'>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td colspan=2>
                        <table id='regX' class='regitem'>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td colspan=2>
                        <table id='regY' class='regitem'>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td colspan=2>
                        <table id='regU' class='regitem'>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td colspan=2>
                        <table id='regS' class='regitem'>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td colspan=2>
                        <table id='regCC' class='regitem'>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td colspan=2>
                        <table id='regDP' class='regitem'>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td colspan=2>
                        <table id='regPC' class='regitem'>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td colspan=2>
                        <table class='interrupts' style='margin-top:0.5em; margin-bottom:0.5em;'>
                            <tr>
                                <td>
                                    <button onclick='machineInterrupt ("irq");' class='buttonStep buttonIRQ'>IRQ
                                    </button>
                                </td>
                                <td>
                                    <button onclick='machineInterrupt ("firq");' class='buttonStep buttonIRQ'>FIRQ
                                    </button>
                                </td>
                                <td>
                                    <button onclick='machineInterrupt ("nmi");' class='buttonStep buttonIRQ'>NMI
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td colspan='3'>
                                    <button onclick='machineReset();' class='buttonStep buttonReset'>RESET</button>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td colspan='2' style='text-align:center'>
                        <input type='range' min='1' max='10' value='3' class='slider' id='speed'/>
                    </td>
                <tr>
                    <td class='controlCaption' style='text-align:right'><label for="speed">Speed</label></td>
                    <td class='controlData' style='text-align:left'><span class='controlData' id='speedVal'></span></td>
                </tr>
                <tr>
                    <td class='controlCaption' style='text-align:right'><label for="refreshCheck">Refresh</label></td>
                    <td class='controlData'><input type='checkbox' id='refreshCheck' onclick='machineRefresh()'
                                                   style='text-align: left' checked/></td>
                </tr>

                <tr>
                    <td colspan=2>
                        <table class='interrupts' style='margin-top:0.5em; margin-bottom:0.5em;'>
                            <tr>
                                <td colspan='2' style='text-align:center'>
                                    <button onclick='machineRun ();' class='buttonRun'>Run</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button onclick='machineHalt ();' class='buttonStep buttonHalt'>&nbsp;Halt&nbsp;
                                    </button>
                                </td>
                                <td>
                                    <button onclick='machineStep ();' class='buttonStep'>Step</button>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>

            </table>

        </td>

        <td class='machinePanel'>

            <h3>Disassembly output</h3>

            <div id='DSMTable-container'></div>

            <p class='usageNote'>
                Right-click on an address to set/reset breakpoints.<br/>
                Right-click on an instruction to edit.
            </p>


        </td>

        <td class='machinePanel'>
            <h3>Labels</h3>

            <div id='labelMap-container'></div>

            <p class='usageNote' style='width: 12em'>
                Click on a label to display disassembled code starting at that address.
            </p>

        </td>


        <td class='machinePanel'>

            <div style='width:max-content'>

                <h3 style='float:left'>Assembly language input</h3>

                <div style='float:right'>


                    <div class='dropDown' style='display:inline-block'>

                        <div class='examplesList' style='margin-top:1em; margin-left:2em;'>
                            <p class='menuItem'
                               onclick="document.getElementById ('assembly-code').value=document.getElementById ('demo-checks').value">
                                Check pattern</p>
                            <p class='menuItem'
                               onclick="document.getElementById ('assembly-code').value=document.getElementById ('demo-hiscore').value">
                                High scores</p>
                            <p class='menuItem'
                               onclick="document.getElementById ('assembly-code').value=document.getElementById ('demo-plotpix').value">
                                Pixel plot</p>
                            <p class='menuItem'
                               onclick="document.getElementById ('assembly-code').value=document.getElementById ('demo-quickline').value">
                                Line draw</p>
                            <p class='menuItem'
                               onclick="document.getElementById ('assembly-code').value=document.getElementById ('demo-life').value">
                                Game of Life</p>
                            <p class='menuItem'
                               onclick="document.getElementById ('assembly-code').value=document.getElementById ('demo-sprite').value">
                                Sprites</p>
                            <p class='menuItem' style='color:#a0a0a0'>- - - - - - -</p>
                            <p class='menuItem'
                               onclick="document.getElementById ('assembly-code').value=document.getElementById ('demo-helloworld').value">
                                Hello World</p>
                            <p class='menuItem'
                               onclick="document.getElementById ('assembly-code').value=document.getElementById ('demo-charset').value">
                                Character set</p>
                            <p class='menuItem'
                               onclick="document.getElementById ('assembly-code').value=document.getElementById ('demo-clearscr').value">
                                Clear screen</p>
                            <p class='menuItem'
                               onclick="document.getElementById ('assembly-code').value=document.getElementById ('demo-core6809').value">
                                Core OS</p>
                        </div>

                        <button class='buttonExamples' style='margin-left:1em;'>Examples</button>

                    </div>

                    <button onclick="document.getElementById ('assembly-code').value=''" class='buttonStep buttonHalt'
                            style='margin-left:1em;'>Clear
                    </button>

                </div>

            </div>

            <textarea id='assembly-code' name='assembly-code' rows='38' cols='60'>
        ; pmode set x,y,c

; entry
; A is Y (0-191)
; B is X (0-127)
; Y is colour 0-7 (with 4 dithered colours)

        org $4000
start:
        lda #73
        ldb #127
        ldy #3

	; Initial part, normalise co-ordinates
	; Want out pixel number 0-3
	; Screen byte position 0-6143


	pshs d	; save co-ordinates
	andb #3	; get pixel number
	stb ,s	; save it
	ldb 1,s	; restore b
	subb ,s ; ensure no carries out of the bottom of b

	aslb 	; b <128 so no carry
	rora	; join X + Y
	rorb	; d = x + y * 128

	rora
	rorb	; d = x/2 + y * 64

	rora
	rorb	; d = x/4 + y * 32

	tfr d,x	; x now has byte address
	lda ,s++ ; stack restored, pix num in a

; determine plot
; get byte pixel pattern
; and byte mask


	leax $c00,x		; add screen base with dos
	leau ptble,y	; pix table entry
	andb #$20		; check for dither adjust
	beq si			; if even line, skip increment
	leau 8,u		; chose alternate dither entry

si:
	ldb ,u			; get pixel pattern
	leay mtble,y	; get mask address
	andb ,y  		; mask it

; now	 x is screen address
; 		 b is pixel pattern to add
;		 need com of mask to clear screen byte

	coma

; plot

;	x byte address
;	b pixel value
;	a clr screen pixel mask

	anda ,x
	sta <$0f	; ECB temporary result byte in direct
	orb <$0f
	stb ,x
	rts


mtble:
	fcb $c0
	fcb $30
	fcb $0c
	fcb $03

ptble:
	fcb $FF		; red
	fcb $cc		; red / green
	fcb $dd		; red / yellow
	fcb $55		; yellow
	fcb $11		; yellow / green
	fcb $00		; green
	fcb $88		; green / blue
	fcb $99		; blue


	fcb $FF
	fcb $33		; green / red
	fcb $77		; switched etc
	fcb $55
	fcb $44
	fcb $00
	fcb $22
	fcb $99

</textarea>

            <textarea id='demo-helloworld' rows='38' cols='60' style='display:none'>
;
;  Enter your 6809 assembly language program here
;  Press the Assemble button below
;
;  No errors? Press Run in the panel to the left
;  The CPU will stop on breakpoints (in red)
;  Press Run to continue
;


start:
    leay helloworld,pcr
    jsr print
    rts

const textscreenbase=$400

print:
    pshs a,x,y
    ldx #textscreenbase
printloop:
    lda ,y+
    beq printover
    cmpa #$40
    bhs print6847
    adda #$40
print6847:
    sta ,x+
    bra printloop
printover:
    puls a,x,y
    rts


helloworld:
    fcb "HELLO WORLD",0

</textarea>


            <textarea id='demo-checks' rows='38' cols='60' style='display:none'>

; Display a chequerboard pattern on the text screen
; Then do the same on the graphics screen

const baseTextScreen=$400, baseGraphicScreen=$0600
const space=$20, inverse=%01000000
const widthText=32, heightText=16
const widthGraphics=32, heightGraphics=24
const charHeight=8, charVal=%00000000

start:
  jsr chequerboardText

; Un-comment the next lines for the graphics version
; Warning: it is slow

;  ldd #$0204       ; select 4 colour graphics mode
;  swi3
;  jsr chequerboardGraphics

  rts

chequerboardText:
  ldx #baseTextScreen
  lda #heightText
  pshs a
  lda #space
loopRow:
  ldb #widthText
loopChar:
  sta ,x+
  eora #inverse
  decb
  bne loopChar
  eora #inverse
  dec ,s
  bne loopRow
  puls a,pc

chequerboardGraphics:
  ldx #baseGraphicScreen
  lda #heightGraphics
  pshs a
  lda #charVal
loopRowG:
  ldb #widthGraphics
loopCharG:
  bsr drawChar
  leax 1,x
  coma
  decb
  bne loopCharG
  coma
  leax ,y
  dec ,s
  bne loopRowG
  puls a,pc

drawChar;
  pshs b,x
  ldb #charHeight
drawCLp:
  sta ,x
  leax widthGraphics,x
  decb
  bne drawCLp
  leay -widthGraphics+1,x
  puls b,x,pc

</textarea>


            <textarea id='demo-hiscore' rows='38' cols='60' style='display:none'>

; High score table routine for games
; Scores are stored as <scLen> ASCII characters
; They are followed by <scInitials> initials
; Here we use text screen memory to see what's happening
; Note ASCII chars less than $40 show as inverse video

const scLen=7, scInitials=3, scDif=32, hiScores=10

start:
  leax score,pcr     ; X points to the player's score
  leay hiTable,pcr   ; Y points to the high score table
  jsr insertHiTable
  rts

insertHiTable:
; Insert a score at X into high score table at Y
  pshs a,b,y
  lda #hiScores-1
  ldb #scDif
  mul
  leay d,y           ; Y points at hi score to compare
  lda #$ff           ; flag true only on first pass
  ldb #hiScores
insertHiLp:
  bsr scoreCompare   ; compare X with Y
  bcs insertHiDone   ; carry set if less than or equal
  leay -scDif,y      ; move one row higher up table
  clra               ; clear flag
  decb               ; keep count of digits
  bne insertHiLp
insertHiDone:
  puls a,b,y,pc

scoreCompare:
; Compare a score at X with one at Y
; If higher, move the score at Y down one row
;   then insert X in its place
; If A non-zero means at lowest score so don't shift down
  pshs a,b,x,y
  ldb #scLen
scCmpLp:
  lda ,x+
  cmpa ,y+           ; compare digits, highest first
  blo scCmpOut       ; if X is lower then quit
  bhi scInsert       ; if X is higher then insert score
  decb               ; keep count of digits
  bne scCmpLp
  orcc #$01          ; equal scores, set carry then quit
  bra scCmpOut
scInsert:
  tst ,s             ; test last entry flag (A was stacked)
  bne scSkipShift    ; don't shift down a row if first pass
  ldx 4,s            ; X is loaded with Y value from stack
  leay scDif,x       ; destination is one row down
  bsr scCopy         ; copy score from Y to Y+scDif
scSkipShift:
  ldx 2,s            ; restore X & Y from stack
  ldy 4,s
  bsr scCopy         ; copy score from X to Y
scCmpOut:
  puls a,b,x,y,pc

scCopy:
; Copy a score from address X to address Y
  ldb #scLen+scInitials
scCpLp:
  lda ,x+            ; copy from X into table
  sta ,y+
  decb
  bne scCpLp         ; keep count of chars
  rts


const textScreen=$0400, indent=11
const spacing=scDif-scLen-scInitials

  org textScreen

  fill $20, $200

  org textScreen+$20+indent

score:
  fcb "1271300 ME"

  org textScreen+$60+indent

hiTable:
  fcb "1272700 JM"
  rmb spacing
  fcb "1271100 RL"
  rmb spacing
  fcb "1260700 RL"
  rmb spacing
  fcb "1259000 JM"
  rmb spacing
  fcb "1249500 JM"
  rmb spacing
  fcb "1247700 RL"
  rmb spacing
  fcb "1230100 RL"
  rmb spacing
  fcb "1218000 WC"
  rmb spacing
  fcb "1195100 WC"
  rmb spacing
  fcb "1190200 RL"
  rmb spacing

</textarea>


            <textarea id='demo-plotpix' rows='38' cols='60' style='display:none'>

const graphicsBase=$600, gLineBytes=$20

start:
    ldd #$0210       ; select 16 colour graphics mode
    swi3
    bsr testPixels
    rts

testPixels:
    lda #$00
    ldy #16
testP2:
    ldx #16
testP1:
    anda #$0f
    pshs a
    lsla
    lsla
    lsla
    lsla
    ora ,s+
    lbsr plotPix4bit
    inca
    leax 2,x
    cmpx #80
    blo testP1
    deca
    leay 2,y
    cmpy #80
    blo testP2
    rts

; Mask lookup tables, x=xPos, y=yPos, a=colour
; repeated at all 8 bit positions, eg. $00 or $ff

plotMask1bit:
    fcb %10000000, %01000000, %00100000, %00010000
    fcb %00001000, %00000100, %00000010, %00000001
plotMask2bit:
    fcb %11000000, %11000000, %00110000, %00110000
    fcb %00001100, %00001100, %00000011, %00000011
plotMask4bit:
    fcb %11110000, %11110000, %00001111, %00001111
    fcb %11110000, %11110000, %00001111, %00001111,

; Plot a pixel at 4, 2, or 1 bits be pixel
; Inputs:-
; X-coordinate in X, Y-coordinate in Y
; Logical grid is always (0,0) top left
; to (255,191) bottom right
; Physical pixels are 2:2, 2:1, 1:1
; for 4, 2, or 1 bit modes respectively
; stored left to right, top to bottom
; Colour in A, repeated 2, 4 or 8 times
; for 4, 2, or 1 bit modes respectively
; to fill the byte
; eg. in 2 bit mode colour %01 is %01010101

plotPix4bit:
    pshs d,x,y,u
    leau <plotMask4bit,pcr
    tfr y,d
    andb #$fe
    lda #gLineBytes
    mul
    addd #graphicsBase
    tfr d,x
    ldd 2,s
    bra plotPix2

plotPix2bit:
    pshs d,x,y,u
    leau <plotMask2bit,pcr
    bra plotPix1

plotPix1bit:
    pshs d,x,y,u
    leau <plotMask1bit,pcr
plotPix1:
    tfr y,d
    lda #gLineBytes
    mul
    addd #graphicsBase
    tfr d,x
    ldd 2,s
    lsrb
plotPix2:
    lsrb
    lsrb
    abx
    ldb 3,s
    andb #$07
    leau b,u
    lda ,u          ; mask out screen bits of pixel
    coma
    anda ,x
    sta ,x
    lda ,u
    anda ,s         ; merge with foreground colours
    ora ,x
    sta ,x
    puls d,x,y,u,pc

</textarea>

            <textarea id='demo-quickline' rows='38' cols='60' style='display:none'>

; Graphics demo:- draw some lines

const graphicsBase=$600, gLineBytes=$20

start:
    ldd #$0202       ; select 2 colour graphics mode
    swi3
    bsr testQLine
    rts

testQLine:
    ldd #$00f3
tql1:
    lbsr quickLine
    decb
    adda #3
    cmpa #183
    blo tql1
    rts

; quickLine A=height, B=width
;
; Simplified line draw illustrating Bresenham algorithm
; Starting point is a fixed byte
; Displacements to the right and down (width, height)
; are passed in B & A respectively (width >= height)
; The algorithm works simply by subtracting the fractional
; gradient (height/width) on every pixel step to the right
; until the running total is <=0 . Then the line moves down
; and 1 is added to the running total
; The initial fraction is width/2 to even out the steps
; Pixels are drawn by ORing an onscreen byte with a
; bit mask that is rotated with every pixel

quickLine:
   pshs d,x          ; save registers used
   lda #$80          ; initial mask is leftmost pixel
   pshs d            ; save mask @ < ,s >, width @ < 1,s >
   ldx #graphicsBase+gLineBytes+1
   lsrb              ; fraction initial value=width/2
   lda ,x            ; grab first byte from the screen
qline3:
   ora ,s            ; combine 1 pixel to the fragment of
   lsr ,s            ; screen cached in A
   bcc qline1        ; rotate mask one pixel to the right
   ror ,s            ; wrap around if necessary
   sta ,x+           ; restoring cached byte, incrementing
   lda ,x            ; and caching the next byte
qline1:
   subb 2,s          ; sub (rolling fraction, height)
   bhi qline2        ; if fraction <=0,
   addb 3,s          ; add width to fraction,
   sta ,x            ; restore cached byte and
   leax gLineBytes,x ; move down 1 line
   lda ,x            ; fetch another cached byte
qline2:
   dec 1,s           ; dec loop count (initially=width)
   bne qline3
   sta ,x            ; restore final cached byte
   leas 2,s          ; clean up stack
   puls d,x,pc       ; restore registers and return

</textarea>

            <textarea id='demo-life' rows='38' cols='60' style='display:none'>

; Game of Life demo on 256 x 192 grid
; 6809 assembly language
; for Dragon 32 & compatibles

const pixWide=256, pixHigh=192
const baseGraphicScreen=$0600, bytesWide=32
const liveCellBase=7
const generations=50000

start:
;  ldd #$0202       ; select 2 colour graphics mode
;  swi3             ; (optional depending on hardware)
  ldd #0
lifeLoop:
  lbsr initVars
  lbsr lifeCycle
  addd #1
  cmpd #generations
  blo lifeLoop
  rts

lifeCycle:
  pshs d
  ldd #-1
  pshs d
lCycleLp:
; Loop from lines -1 to <pixHigh-2>
; followed by the final line
; X, Y, U point to three line buffers
; of unpacked screen pixels which
; are cycled in turn
  pshs y,u
  lbsr countPixRow
; Count a line of screen pixels
; into three line buffers
  ldd 4,s
  cmpd #0
  blt onFirstRun
; Don't write pixels for first runthrough
  ldu >screenPtr
; X=oldest buffer + pixWide
  lbsr writePixRow
; Display a completed line of cells
  bra lCycleNoSkip
onFirstRun:
  leau -pixWide,x
lCycleNoSkip:
  ldx >screenPtr
  leax bytesWide,x
; U=written buffer start
  lbsr initBuffer
  puls x, y
; X=middle buffer
; Y=last buffer
  ldd ,s
  addd #1
  std ,s
  cmpd #pixHigh-1
  blt lCycleLp
; Write out final contents of buffer
  leax pixWide,x
  ldu >screenPtr
  leau bytesWide,u
  lbsr writePixRow
  leas 2,s
  puls d,pc


countPixRow:
; Read row of pixels and count into buffers
; X points to line-1 buffer start
; Y points to line buffer start
; U points to line+1 buffer start
; X, Y, U incremented by pixWide
; <screenPtr> incremented by bytesWide
  lda #bytesWide
  pshs a
next8Pix:
; Read A from screen at screenPtr
; Self-modifying code
; Quick and saves a register
  lda >0
next8Ptr:
const screenPtr=next8Ptr-2
; Move to next screen byte
  inc screenPtr+1
  bne not256
  inc screenPtr
not256:
  ldb #8
nextPix
  tsta
  beq noMoreCells
  lsla
  bcc noCell
; If cell present, increment 8 neighbours
  inc ,x+
  inc ,x
  inc 1,x
  inc ,y+
  inc 1,y
  inc ,u+
  inc ,u
  inc 1,u
  bra nextCell
noCell:
  leax 1,x
  leay 1,y
  leau 1,u
nextCell:
  decb
  bne nextPix
  bra skipPix
nomoreCells:
  leax b,x
  leay b,y
  leau b,u
skipPix:
  dec ,s
  bne next8Pix
  puls a,pc


writePixRow:
; Display row of cells on screen, right to left
; U=(row+1)+bytesWide
; X=buffer+pixWide
; Return freed buffer start in U
  leau -bytesWide,u
  leax 1,x
  ldy #cellNextGenList
  lda #bytesWide
  pshs a
wPixRowLp:
  clra
  ldb ,-x
  adda b,y
  lsra
  ldb ,-x
  adda b,y
  lsra
  ldb ,-x
  adda b,y
  lsra
  ldb ,-x
  adda b,y
  lsra
  ldb ,-x
  adda b,y
  lsra
  ldb ,-x
  adda b,y
  lsra
  ldb ,-x
  adda b,y
  lsra
  ldb ,-x
  adda b,y
  sta ,-u
  dec ,s
  bne wPixRowLp
  leau -1,x
  puls a,pc


initBuffer:
; Unpack screen pixels into byte buffer, right to left
; X points to screen line start - unchanged
; U points to buffer start - unchanged
  cmpx #$0700
  blo ok1
  nop
ok1:
  pshs dp, u
; init 4 zero bytes
  clrb
  tfr b,dp
  ldy #0
; point to end of line for predecrement
  leax bytesWide,x
; point to end of buffer, allowing for border bytes
  leau pixWide+1,u
  lda #bytesWide
  pshs a
iBufLp:
  lda ,-x
  bne iBufCells
; quick write for empty pixels
  pshu b, dp, y
  pshu b, dp, y
  dec ,s
  bne iBufLp
  bra iBufOut
iBufCells:
  ldb #liveCellBase
iBufCell0:
  lsra
  bcs iBufCellLive1
  clr ,-u
  bra iBufCell1
iBufCellLive1:
  pshu b
iBufCell1:
  lsra
  bcs iBufCellLive2
  clr ,-u
  bra iBufCell2
iBufCellLive2:
  pshu b
iBufCell2:
  lsra
  bcs iBufCellLive3
  clr ,-u
  bra iBufCell3
iBufCellLive3:
  pshu b
iBufCell3:
  lsra
  bcs iBufCellLive4
  clr ,-u
  bra iBufCell4
iBufCellLive4:
  pshu b
iBufCell4:
  lsra
  bcs iBufCellLive5
  clr ,-u
  bra iBufCell5
iBufCellLive5:
  pshu b
iBufCell5:
  lsra
  bcs iBufCellLive6
  clr ,-u
  bra iBufCell6
iBufCellLive6:
  pshu b
iBufCell6:
  lsra
  bcs iBufCellLive7
  clr ,-u
  bra iBufCell7
iBufCellLive7:
  pshu b
iBufCell7:
  lsra
  bcs iBufCellLive8
  clr ,-u
  bra iBufCellDone
iBufCellLive8:
  pshu b
iBufCellDone:
  clrb
  dec ,s
  bne iBufLp
iBufOut:
  leas 1,s
  puls dp, u, pc


initVars:
  pshs d
  ldx #baseGraphicScreen
  stx >screenPtr
  ldu #buf2
  lbsr initBuffer
  leax bytesWide,x
  ldu #buf3
  lbsr initBuffer
  ldx #buf1
  ldy #buf2
  puls d,pc

cellNextGenList:
  fcb 0,0,0,$80,0,0,0
  fcb 0,0,$80,$80,0,0,0,0,0

buf1 rmb pixWide+2
buf2 rmb pixWide+2
buf3 rmb pixWide+2

org baseGraphicScreen
  fill 0,$1800

org baseGraphicScreen
glider:
  fcb %00000000
  rmb bytesWide-1
  fcb %01000000
  rmb bytesWide-1
  fcb %00100000
  rmb bytesWide-1
  fcb %11100000

org baseGraphicScreen+$000d
glidergun:
  fcb %00000000, %00000000, %00000000, %01000000
  rmb bytesWide-4
  fcb %00000000, %00000000, %00000001, %01000000
  rmb bytesWide-4
  fcb %00000000, %00000110, %00000110, %00000000, %00011000
  rmb bytesWide-5
  fcb %00000000, %00001000, %10000110, %00000000, %00011000
  rmb bytesWide-5
  fcb %01100000, %00010000, %01000110
  rmb bytesWide-3
  fcb %01100000, %00010001, %01100001, %01000000
  rmb bytesWide-4
  fcb %00000000, %00010000, %01000000, %01000000
  rmb bytesWide-4
  fcb %00000000, %00001000, %10000000
  rmb bytesWide-3
  fcb %00000000, %00000110,
  rmb bytesWide-2

org baseGraphicScreen+$0b90
rPentomino:
  fcb %01100000
  rmb bytesWide-1
  fcb %11000000
  rmb bytesWide-1
  fcb %01000000
  rmb bytesWide-1

org baseGraphicScreen+$17a0
  fcb %01000000
  rmb bytesWide-1
  fcb %01000110
  rmb bytesWide-1
  fcb %01000110

</textarea>


            <textarea id='demo-sprite' rows='38' cols='60' style='display:none'>

; Graphics demo:- animate and move a sprite

const graphicsBase=$600, gLineBytes=$20, vectorFIRQ=$fff6, vectorIRQ=$fff8

start:
    ldd #$0204       ; select 4 colour graphics mode
    swi3
    bsr testSprites
    rts

testSprites:
    leax serviceIRQ,pcr         ; point interrupt vector
    stx vectorIRQ               ; at flag-clearing sub
    andcc #$EF                  ; clear IRQ mask flag
    ldd #$0808                  ; starting coordinates
testSpr1:
    leay invadera00,pcr         ; sprite of 16-bit lines
    bsr drawSprite88c           ; draw animation frame 1
    lbsr syncIRQ                ; wait
    bsr drawSprite88c           ; erase (repeat EOR)
    leay invadera01,pcr
    bsr drawSprite88c           ; draw animation frame 2
    lbsr syncIRQ                ; wait
    bsr drawSprite88c           ; erase
    adda #2                     ; move sprite
    addb #1
    cmpa #224
    blo testSpr1
    rts


drawSprite88c:
    pshs d,x,y
    ldx #graphicsBase
    lda #gLineBytes
    mul                     ; calculate starting
    leax d,x                ; line on graphics screen
    ldb ,s                  ; as (32*Y)
    lsrb                    ; plus TRUNC (X/8)
    lsrb
    lsrb
    abx
    ldb ,s
    andb #$07               ; calculate loopback offset
    lslb                    ; -4 bytes per rotation
    lslb                    ; minus a constant
    negb
    subb #d88cloopcalc-d88cloopmin
    stb d88cloopback+1
    ldb #8+1
    pshs d                  ; counter & overflow byte
    bra d88cloopin          ; join WHILE loop
d88cloopfull:
    lsra                    ; rotate right 1 bit
    rorb
    ror ,s
    lsra                    ; repeat up to 7 times
    rorb
    ror ,s
    lsra
    rorb
    ror ,s
    lsra
    rorb
    ror ,s
    lsra
    rorb
    ror ,s
    lsra
    rorb
    ror ,s
    lsra
    rorb
    ror ,s
d88cloopmin:
    eora ,x                 ; once each sprite line
    eorb 1,x                ; is rotated, draw it
    std ,x                  ; to screen using
    lda ,s                  ; exclusive-or operation
    eora 2,x
    sta 2,x
    leax GLineBytes,x       ; move 1 line down
d88cloopin:
    ldd ,y++                ; fetch next line of sprite
    clr ,s                  ; clear overflow byte
    dec 1,s                 ; loop count
d88cloopback:
    bne d88cloopfull        ; loopback is self-modified
d88cloopcalc:
    leas 2,s
    puls d,x,y,pc

invadera00:
    fdb %0000100000100000
    fdb %1000101010100010
    fdb %1010011010011010
    fdb %0010101010101000
    fdb %0000101111100000
    fdb %0000111010110000
    fdb %0011110000111100
    fdb %0011000000001100

invadera01:
    fdb %0010000000001000
    fdb %0000101010100000
    fdb %0010011010011000
    fdb %1010100101101010
    fdb %1000101111100010
    fdb %0011111010111100
    fdb %1111000000001111
    fdb %0000000000000000


    org $4400

    var 1,flagIRQ

syncIRQ:
    clr flagIRQ       ; set a flag
    com flagIRQ
syncWait;
    sync              ; wait for interrupt
    tst flagIRQ       ; if interrupts are enabled
    bne syncWait      ; the flag will be cleared
    rts

serviceIRQ:
    clr flagIRQ       ; clear a flag on interrupt
    rti

</textarea>


            <textarea id='demo-charset' rows='38' cols='60' style='display:none'>

; Display the character set
; from 0 to 255

start:
    jsr displayAllChars
    rts

const textScreenBase=$0400

displayAllChars:
    lda #0
    ldx #textScreenBase
displayLoop:
    sta ,x+
    inca
    bne displayLoop
    rts

</textarea>

            <textarea id='demo-clearscr' rows='38' cols='60' style='display:none'>

const graphicsBase=$600, gLineBytes=$20

start:
    ldd #$0210       ; select 16 colour graphics mode
    swi3
    bsr refreshScreen
    bsr clearScreen
    rts


refreshScreen:
    pshs d,x,y
    ldx #graphicsBase
    ldy #$0600
refreshS1:
    tst ,x+
    tst ,x+
    tst ,x+
    tst ,x+
    leay -1,y
    bne refreshS1
    puls d,x,y,pc


clearScreen:
    pshs d,x,y
    ldx #graphicsBase
    ldd #0
    ldy #$0600
clearS1:
    std ,x++
    std ,x++
    leay -1,y
    bne clearS1
    puls d,x,y,pc

</textarea>


            <textarea id='demo-core6809' rows='38' cols='60' style='display:none'>

const SIbaseaddress=$ff80, SIrefreshOff=0, SIrefreshOn=1, SIgraphicsMode=2
const textScrBase=$0400, textScrEnd=$0600, graphicsBase=$0600, gLineBytes=$20


start:
  rts

org $f000

hookrestart:
  lbra servicerestart

hooknmi:
  lbra servicenop

hookswi:
  lbra servicenop

hookirq:
  lbra servicenop

hookfirq:
  lbra servicenop

hookswi2:
  lbra servicenop

hookswi3:
  lbra serviceswi3

osloop:
  jsr start
  bra osloop


servicenop:
  rti

; service in A, parameter in B

serviceswi3:
  pshs b
  tfr a,b
  clra
  lslb
  rola
  leay switableend,pcr
  pshs y
  leay switable,pcr
  leay d,y
  cmpy ,s++
  puls b
  bhs servsw0
  jsr (,y)
servsw0:
  rti

servicezero:
  rts

servicerefresh:
  tstb
  bne refreshon
refreshoff:
  clr SIbaseAddress+SIrefreshOff
  rts
refreshon:
  clr SIbaseAddress+SIrefreshOn
  rts

servicegmode:
  stb SIbaseAddress+SIgraphicsMode
  rts

switable:
  fdb servicezero
  fdb servicerefresh
  fdb servicegmode
switableend:


servicerestart:
  orcc #$50
  andcc #$50
  lds #$8000
  bsr osregclear
  lbra osloop

osregclear:
  ldd #$0000
  tfr a,dp
  tfr d,x
  tfr d,y
  tfr d,u
  rts


org $fff0

vreserve: rmb 2
vswi3: fdb hookswi3
vswi2: fdb hookswi2
vfirq: fdb hookfirq
virq: fdb hookirq
vswi: fdb hookswi
vnmi: fdb hooknmi
vrestart: fdb hookrestart

</textarea>


            <br style='clear:both'/>
            <div style='text-align:center'>
                <button id="compileRun" onclick="compileRun('assembly-code');" class='buttonRun'>Assemble source code</button>
                <button onclick="codeDump('assembly-code');"
                        style='display:none; background-color: green; padding: 0.5em; border: 2px solid black; font-size: 1em; font-weight:bold'>
                    Dump object code
                </button>
                <p id='assemblyStatus' class='statusText'>Status</p>
            </div>
            <p class='usageNote'>
                See the <a href='http://6809.uk/doc/doku.php?id=assembler_syntax'>assembler syntax reference</a> for full details.
            </p>
        </td>


    </tr>
</table>

<br style='clear:both'/>

<div class='panel' style='width:max-content'>

    <button onclick="addWatchpoint ('ea')" style='float:left'><b>Add memory watch point at last effective address</b>
    </button>
    <button onclick="addWatchpoint ('append')" style='margin-left: 2em'><b>Extend last memory watch point</b></button>
    <button onclick="addWatchpoint ('x')" style='margin-left: 2em'><b>Add memory watch point at X</b></button>

    <div id='watchWindow-container'>

    </div>
    <p class='usageNote'>Left-click on a byte to set its value from register A, right-click from register B</p>

</div>

<br style='clear:both'/>

<div>
    <table style='border-collapse:separate; border-spacing: 0.5em;'>
        <tr>

            <td class='screenPanel'>
                <h3>Text screen</h3>
                <div id='txtScreenTable-container'>
                </div>
                <p class='usageNote' style='width:20em'>Text screen is 16 lines of 32 characters starting at address
                    $0400.</p>
            </td>

            <td class='screenPanel'>
                <h3>Graphics screen</h3>
                <div id='grphScreenHolder'>
                    <canvas id='graphicsScreen' width='512' height='384'></canvas>
                </div>
                <p class='usageNote' style='width:36em'>Graphics screen is (256*192 | 128*192 | 128*96) at (1 | 2 | 4)
                    bits per
                    pixel, starting at address $0600.</p>
            </td>

        </tr>
    </table>

</div>

<br style='clear:both'/>

<p style='background-color:#e0e0e0; font-size:0.75em; margin-top:1em; margin-bottom:0; padding:0.25em; text-align:left'>
    <a href='http://6809.uk/'><i><b>6809.uk</b></i></a> design and coding &copy; Gwilym Thomas 2020 -
    <a href='http://6809.ukdragons.org.uk/'><i><b>6809.ukdragons.org.uk</b></i></a> assembler revision by Julian Brown
    2023</p>

<script>/*! For license information please see bundle.js.LICENSE.txt */
var bundle;(()=>{var e={2289:(e,t,r)=>{var n=r(5108),i={};e.exports=i,i.themes={};var o=r(9539),s=i.styles=r(8982),a=Object.defineProperties,c=new RegExp(/[\r\n]+/g);i.supportsColor=r(8136).supportsColor,void 0===i.enabled&&(i.enabled=!1!==i.supportsColor()),i.enable=function(){i.enabled=!0},i.disable=function(){i.enabled=!1},i.stripColors=i.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")},i.stylize=function(e,t){if(!i.enabled)return e+"";var r=s[t];return!r&&t in i?i[t](e):r.open+e+r.close};var l=/[|\\{}()[\]^$+*?.]/g;function u(e){var t=function e(){return p.apply(e,arguments)};return t._styles=e,t.__proto__=d,t}var f,h=(f={},s.grey=s.gray,Object.keys(s).forEach((function(e){s[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(l,"\\$&")}(s[e].close),"g"),f[e]={get:function(){return u(this._styles.concat(e))}}})),f),d=a((function(){}),h);function p(){var e=Array.prototype.slice.call(arguments).map((function(e){return null!=e&&e.constructor===String?e:o.inspect(e)})).join(" ");if(!i.enabled||!e)return e;for(var t=-1!=e.indexOf("\n"),r=this._styles,n=r.length;n--;){var a=s[r[n]];e=a.open+e.replace(a.closeRe,a.open)+a.close,t&&(e=e.replace(c,(function(e){return a.close+e+a.open})))}return e}i.setTheme=function(e){if("string"!=typeof e)for(var t in e)!function(t){i[t]=function(r){if("object"==typeof e[t]){var n=r;for(var o in e[t])n=i[e[t][o]](n);return n}return i[e[t]](r)}}(t);else n.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var g=function(e,t){var r=t.split("");return(r=r.map(e)).join("")};for(var m in i.trap=r(8763),i.zalgo=r(750),i.maps={},i.maps.america=r(6278)(i),i.maps.zebra=r(848)(i),i.maps.rainbow=r(8823)(i),i.maps.random=r(9353)(i),i.maps)!function(e){i[e]=function(t){return g(i.maps[e],t)}}(m);a(i,function(){var e={};return Object.keys(h).forEach((function(t){e[t]={get:function(){return u([t])}}})),e}())},8763:e=>{e.exports=function(e,t){var r="";e=(e=e||"Run the trap, drop the bass").split("");var n={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return e.forEach((function(e){e=e.toLowerCase();var t=n[e]||[" "],i=Math.floor(Math.random()*t.length);r+=void 0!==n[e]?n[e][i]:e})),r}},750:e=>{e.exports=function(e,t){e=e||"   he is here   ";var r={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},n=[].concat(r.up,r.down,r.mid);function i(e){return Math.floor(Math.random()*e)}function o(e){var t=!1;return n.filter((function(r){t=r===e})),t}return function(e,t){var n,s,a="";for(s in(t=t||{}).up=void 0===t.up||t.up,t.mid=void 0===t.mid||t.mid,t.down=void 0===t.down||t.down,t.size=void 0!==t.size?t.size:"maxi",e=e.split(""))if(!o(s)){switch(a+=e[s],n={up:0,down:0,mid:0},t.size){case"mini":n.up=i(8),n.mid=i(2),n.down=i(8);break;case"maxi":n.up=i(16)+3,n.mid=i(4)+1,n.down=i(64)+3;break;default:n.up=i(8)+1,n.mid=i(6)/2,n.down=i(8)+1}var c=["up","mid","down"];for(var l in c)for(var u=c[l],f=0;f<=n[u];f++)t[u]&&(a+=r[u][i(r[u].length)])}return a}(e,t)}},6278:e=>{e.exports=function(e){return function(t,r,n){if(" "===t)return t;switch(r%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}},8823:e=>{e.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(r,n,i){return" "===r?r:e[t[n++%t.length]](r)}}},9353:e=>{e.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,i){return" "===r?r:e[t[Math.round(Math.random()*(t.length-2))]](r)}}},848:e=>{e.exports=function(e){return function(t,r,n){return r%2==0?t:e.inverse(t)}}},8982:e=>{var t={};e.exports=t;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach((function(e){var n=r[e],i=t[e]=[];i.open="["+n[0]+"m",i.close="["+n[1]+"m"}))},3719:(e,t,r)=>{"use strict";var n=r(4155);e.exports=function(e,t){var r=(t=t||n.argv).indexOf("--"),i=/^-{1,2}/.test(e)?"":"--",o=t.indexOf(i+e);return-1!==o&&(-1===r||o<r)}},8136:(e,t,r)=>{"use strict";var n=r(4155),i=r(7435),o=r(3719),s=n.env,a=void 0;function c(e){var t=function(e){if(!1===a)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&!0!==a)return 0;var t=a?1:0;if("win32"===n.platform){var r=i.release().split(".");return Number(n.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(e){return e in s}))||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in s){var c=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return c>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:(s.TERM,t)}(e);return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(t)}o("no-color")||o("no-colors")||o("color=false")?a=!1:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=!0),"FORCE_COLOR"in s&&(a=0===s.FORCE_COLOR.length||0!==parseInt(s.FORCE_COLOR,10)),e.exports={supportsColor:c,stdout:c(n.stdout),stderr:c(n.stderr)}},3645:(e,t,r)=>{var n=r(2289);e.exports=n},2524:(e,t,r)=>{e.exports=r(519)},519:(e,t,r)=>{var n=r(4099)((function e(t,r){return(r=r||{}).namespace=t,r.prod=!0,r.dev=!1,r.force||e.force?e.yep(r):e.nope(r)}));e.exports=n},4099:e=>{var t=[],r=[],n=function(){};function i(e){return!~t.indexOf(e)&&(t.push(e),!0)}function o(e){n=e}function s(e){for(var r=[],n=0;n<t.length;n++)if(t[n].async)r.push(t[n]);else if(t[n](e))return!0;return!!r.length&&new Promise((function(t){Promise.all(r.map((function(t){return t(e)}))).then((function(e){t(e.some(Boolean))}))}))}function a(e){return!~r.indexOf(e)&&(r.push(e),!0)}function c(){n.apply(n,arguments)}function l(e){for(var t=0;t<r.length;t++)e=r[t].apply(r[t],arguments);return e}function u(e,t){var r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e}function f(e){return e.enabled=!1,e.modify=a,e.set=o,e.use=i,u((function(){return!1}),e)}function h(e){return e.enabled=!0,e.modify=a,e.set=o,e.use=i,u((function(){var t=Array.prototype.slice.call(arguments,0);return c.call(c,e,l(t,e)),!0}),e)}e.exports=function(e){return e.introduce=u,e.enabled=s,e.process=l,e.modify=a,e.write=c,e.nope=f,e.yep=h,e.set=o,e.use=i,e}},9282:(e,t,r)=>{"use strict";var n=r(4155),i=r(5108);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var s,a,c=r(2136).codes,l=c.ERR_AMBIGUOUS_ARGUMENT,u=c.ERR_INVALID_ARG_TYPE,f=c.ERR_INVALID_ARG_VALUE,h=c.ERR_INVALID_RETURN_VALUE,d=c.ERR_MISSING_ARGS,p=r(5961),g=r(9539).inspect,m=r(9539).types,y=m.isPromise,b=m.isRegExp,v=Object.assign?Object.assign:r(8091).assign,w=Object.is?Object.is:r(609);function _(){var e=r(9158);s=e.isDeepEqual,a=e.isDeepStrictEqual}new Map;var E=!1,S=e.exports=O,x={};function k(e){if(e.message instanceof Error)throw e.message;throw new p(e)}function A(e,t,r,n){if(!r){var i=!1;if(0===t)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new p({actual:r,expected:!0,message:n,operator:"==",stackStartFn:e});throw o.generatedMessage=i,o}}function O(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];A.apply(void 0,[O,t.length].concat(t))}S.fail=function e(t,r,o,s,a){var c,l=arguments.length;if(0===l?c="Failed":1===l?(o=t,t=void 0):(!1===E&&(E=!0,(n.emitWarning?n.emitWarning:i.warn.bind(i))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===l&&(s="!=")),o instanceof Error)throw o;var u={actual:t,expected:r,operator:void 0===s?"fail":s,stackStartFn:a||e};void 0!==o&&(u.message=o);var f=new p(u);throw c&&(f.message=c,f.generatedMessage=!0),f},S.AssertionError=p,S.ok=O,S.equal=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");t!=r&&k({actual:t,expected:r,message:n,operator:"==",stackStartFn:e})},S.notEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");t==r&&k({actual:t,expected:r,message:n,operator:"!=",stackStartFn:e})},S.deepEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===s&&_(),s(t,r)||k({actual:t,expected:r,message:n,operator:"deepEqual",stackStartFn:e})},S.notDeepEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===s&&_(),s(t,r)&&k({actual:t,expected:r,message:n,operator:"notDeepEqual",stackStartFn:e})},S.deepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===s&&_(),a(t,r)||k({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:e})},S.notDeepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===s&&_(),a(t,r)&&k({actual:t,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:e})},S.strictEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");w(t,r)||k({actual:t,expected:r,message:n,operator:"strictEqual",stackStartFn:e})},S.notStrictEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");w(t,r)&&k({actual:t,expected:r,message:n,operator:"notStrictEqual",stackStartFn:e})};var R=function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.forEach((function(e){e in t&&(void 0!==n&&"string"==typeof n[e]&&b(t[e])&&t[e].test(n[e])?i[e]=n[e]:i[e]=t[e])}))};function T(e,t,r,n){if("function"!=typeof t){if(b(t))return t.test(e);if(2===arguments.length)throw new u("expected",["Function","RegExp"],t);if("object"!==o(e)||null===e){var i=new p({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var c=Object.keys(t);if(t instanceof Error)c.push("name","message");else if(0===c.length)throw new f("error",t,"may not be an empty object");return void 0===s&&_(),c.forEach((function(i){"string"==typeof e[i]&&b(t[i])&&t[i].test(e[i])||function(e,t,r,n,i,o){if(!(r in e)||!a(e[r],t[r])){if(!n){var s=new R(e,i),c=new R(t,i,e),l=new p({actual:s,expected:c,operator:"deepStrictEqual",stackStartFn:o});throw l.actual=e,l.expected=t,l.operator=o.name,l}k({actual:e,expected:t,message:n,operator:o.name,stackStartFn:o})}}(e,t,i,r,c,n)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function P(e){if("function"!=typeof e)throw new u("fn","Function",e);try{e()}catch(e){return e}return x}function C(e){return y(e)||null!==e&&"object"===o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function j(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!C(t=e()))throw new h("instance of Promise","promiseFn",t)}else{if(!C(e))throw new u("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return x})).catch((function(e){return e}))}))}function L(e,t,r,n){if("string"==typeof r){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],r);if("object"===o(t)&&null!==t){if(t.message===r)throw new l("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===r)throw new l("error/message",'The error "'.concat(t,'" is identical to the message.'));n=r,r=void 0}else if(null!=r&&"object"!==o(r)&&"function"!=typeof r)throw new u("error",["Object","Error","Function","RegExp"],r);if(t===x){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var s="rejects"===e.name?"rejection":"exception";k({actual:void 0,expected:r,operator:e.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:e})}if(r&&!T(t,r,n,e))throw t}function B(e,t,r,n){if(t!==x){if("string"==typeof r&&(n=r,r=void 0),!r||T(t,r)){var i=n?": ".concat(n):".",o="doesNotReject"===e.name?"rejection":"exception";k({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function I(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];A.apply(void 0,[I,t.length].concat(t))}S.throws=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];L.apply(void 0,[e,P(t)].concat(n))},S.rejects=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return j(t).then((function(t){return L.apply(void 0,[e,t].concat(n))}))},S.doesNotThrow=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];B.apply(void 0,[e,P(t)].concat(n))},S.doesNotReject=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return j(t).then((function(t){return B.apply(void 0,[e,t].concat(n))}))},S.ifError=function e(t){if(null!=t){var r="ifError got unwanted exception: ";"object"===o(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?r+=t.constructor.name:r+=t.message:r+=g(t);var n=new p({actual:t,expected:null,operator:"ifError",message:r,stackStartFn:e}),i=t.stack;if("string"==typeof i){var s=i.split("\n");s.shift();for(var a=n.stack.split("\n"),c=0;c<s.length;c++){var l=a.indexOf(s[c]);if(-1!==l){a=a.slice(0,l);break}}n.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw n}},S.strict=v(I,S,{equal:S.strictEqual,deepEqual:S.deepStrictEqual,notEqual:S.notStrictEqual,notDeepEqual:S.notDeepStrictEqual}),S.strict.strict=S.strict},5961:(e,t,r)=>{"use strict";var n=r(4155);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return l(e,arguments,f(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},c(e)}function l(e,t,r){return l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&u(i,r.prototype),i},l.apply(null,arguments)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var d=r(9539).inspect,p=r(2136).codes.ERR_INVALID_ARG_TYPE;function g(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}var m="",y="",b="",v="",w={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function _(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){r[t]=e[t]})),Object.defineProperty(r,"message",{value:e.message}),r}function E(e){return d(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var S=function(e){function t(e){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==h(e)||null===e)throw new p("options","Object",e);var i=e.message,o=e.operator,c=e.stackStartFn,l=e.actual,u=e.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=i)r=s(this,f(t).call(this,String(i)));else if(n.stderr&&n.stderr.isTTY&&(n.stderr&&n.stderr.getColorDepth&&1!==n.stderr.getColorDepth()?(m="[34m",y="[32m",v="[39m",b="[31m"):(m="",y="",v="",b="")),"object"===h(l)&&null!==l&&"object"===h(u)&&null!==u&&"stack"in l&&l instanceof Error&&"stack"in u&&u instanceof Error&&(l=_(l),u=_(u)),"deepStrictEqual"===o||"strictEqual"===o)r=s(this,f(t).call(this,function(e,t,r){var i="",o="",s=0,a="",c=!1,l=E(e),u=l.split("\n"),f=E(t).split("\n"),d=0,p="";if("strictEqual"===r&&"object"===h(e)&&"object"===h(t)&&null!==e&&null!==t&&(r="strictEqualObject"),1===u.length&&1===f.length&&u[0]!==f[0]){var _=u[0].length+f[0].length;if(_<=10){if(!("object"===h(e)&&null!==e||"object"===h(t)&&null!==t||0===e&&0===t))return"".concat(w[r],"\n\n")+"".concat(u[0]," !== ").concat(f[0],"\n")}else if("strictEqualObject"!==r&&_<(n.stderr&&n.stderr.isTTY?n.stderr.columns:80)){for(;u[0][d]===f[0][d];)d++;d>2&&(p="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,r-e.length)}(" ",d),"^"),d=0)}}for(var S=u[u.length-1],x=f[f.length-1];S===x&&(d++<2?a="\n  ".concat(S).concat(a):i=S,u.pop(),f.pop(),0!==u.length&&0!==f.length);)S=u[u.length-1],x=f[f.length-1];var k=Math.max(u.length,f.length);if(0===k){var A=l.split("\n");if(A.length>30)for(A[26]="".concat(m,"...").concat(v);A.length>27;)A.pop();return"".concat(w.notIdentical,"\n\n").concat(A.join("\n"),"\n")}d>3&&(a="\n".concat(m,"...").concat(v).concat(a),c=!0),""!==i&&(a="\n  ".concat(i).concat(a),i="");var O=0,R=w[r]+"\n".concat(y,"+ actual").concat(v," ").concat(b,"- expected").concat(v),T=" ".concat(m,"...").concat(v," Lines skipped");for(d=0;d<k;d++){var P=d-s;if(u.length<d+1)P>1&&d>2&&(P>4?(o+="\n".concat(m,"...").concat(v),c=!0):P>3&&(o+="\n  ".concat(f[d-2]),O++),o+="\n  ".concat(f[d-1]),O++),s=d,i+="\n".concat(b,"-").concat(v," ").concat(f[d]),O++;else if(f.length<d+1)P>1&&d>2&&(P>4?(o+="\n".concat(m,"...").concat(v),c=!0):P>3&&(o+="\n  ".concat(u[d-2]),O++),o+="\n  ".concat(u[d-1]),O++),s=d,o+="\n".concat(y,"+").concat(v," ").concat(u[d]),O++;else{var C=f[d],j=u[d],L=j!==C&&(!g(j,",")||j.slice(0,-1)!==C);L&&g(C,",")&&C.slice(0,-1)===j&&(L=!1,j+=","),L?(P>1&&d>2&&(P>4?(o+="\n".concat(m,"...").concat(v),c=!0):P>3&&(o+="\n  ".concat(u[d-2]),O++),o+="\n  ".concat(u[d-1]),O++),s=d,o+="\n".concat(y,"+").concat(v," ").concat(j),i+="\n".concat(b,"-").concat(v," ").concat(C),O+=2):(o+=i,i="",1!==P&&0!==d||(o+="\n  ".concat(j),O++))}if(O>20&&d<k-2)return"".concat(R).concat(T,"\n").concat(o,"\n").concat(m,"...").concat(v).concat(i,"\n")+"".concat(m,"...").concat(v)}return"".concat(R).concat(c?T:"","\n").concat(o).concat(i).concat(a).concat(p)}(l,u,o)));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var S=w[o],x=E(l).split("\n");if("notStrictEqual"===o&&"object"===h(l)&&null!==l&&(S=w.notStrictEqualObject),x.length>30)for(x[26]="".concat(m,"...").concat(v);x.length>27;)x.pop();r=1===x.length?s(this,f(t).call(this,"".concat(S," ").concat(x[0]))):s(this,f(t).call(this,"".concat(S,"\n\n").concat(x.join("\n"),"\n")))}else{var k=E(l),A="",O=w[o];"notDeepEqual"===o||"notEqual"===o?(k="".concat(w[o],"\n\n").concat(k)).length>1024&&(k="".concat(k.slice(0,1021),"...")):(A="".concat(E(u)),k.length>512&&(k="".concat(k.slice(0,509),"...")),A.length>512&&(A="".concat(A.slice(0,509),"...")),"deepEqual"===o||"equal"===o?k="".concat(O,"\n\n").concat(k,"\n\nshould equal\n\n"):A=" ".concat(o," ").concat(A)),r=s(this,f(t).call(this,"".concat(k).concat(A)))}return Error.stackTraceLimit=d,r.generatedMessage=!i,Object.defineProperty(a(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=l,r.expected=u,r.operator=o,Error.captureStackTrace&&Error.captureStackTrace(a(r),c),r.stack,r.name="AssertionError",s(r)}var r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),r=t,c=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:d.custom,value:function(e,t){return d(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}({},t,{customInspect:!1,depth:0}))}}],c&&o(r.prototype,c),t}(c(Error));e.exports=S},2136:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}var s,a,c={};function l(e,t,r){r||(r=Error);var s=function(r){function s(r,o,a){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),c=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,i(s).call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,o,a))),c.code=e,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(s,r),s}(r);c[e]=s}function u(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",(function(e,t,i){var o,a,c,l,f;if(void 0===s&&(s=r(9282)),s("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(a="not ",t.substr(0,4)===a)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))c="The ".concat(e," ").concat(o," ").concat(u(t,"type"));else{var h=("number"!=typeof f&&(f=0),f+1>(l=e).length||-1===l.indexOf(".",f)?"argument":"property");c='The "'.concat(e,'" ').concat(h," ").concat(o," ").concat(u(t,"type"))}return c+". Received type ".concat(n(i))}),TypeError),l("ERR_INVALID_ARG_VALUE",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===a&&(a=r(9539));var i=a.inspect(t);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(n,". Received ").concat(i)}),TypeError,RangeError),l("ERR_INVALID_RETURN_VALUE",(function(e,t,r){var i;return i=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(i,".")}),TypeError),l("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0===s&&(s=r(9282)),s(t.length>0,"At least one arg needs to be specified");var i="The ",o=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),o){case 1:i+="".concat(t[0]," argument");break;case 2:i+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:i+=t.slice(0,o-1).join(", "),i+=", and ".concat(t[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),e.exports.codes=c},9158:(e,t,r)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o=void 0!==/a/g.flags,s=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},a=function(e){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t},c=Object.is?Object.is:r(609),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},u=Number.isNaN?Number.isNaN:r(360);function f(e){return e.call.bind(e)}var h=f(Object.prototype.hasOwnProperty),d=f(Object.prototype.propertyIsEnumerable),p=f(Object.prototype.toString),g=r(9539).types,m=g.isAnyArrayBuffer,y=g.isArrayBufferView,b=g.isDate,v=g.isMap,w=g.isRegExp,_=g.isSet,E=g.isNativeError,S=g.isBoxedPrimitive,x=g.isNumberObject,k=g.isStringObject,A=g.isBooleanObject,O=g.isBigIntObject,R=g.isSymbolObject,T=g.isFloat32Array,P=g.isFloat64Array;function C(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||r>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function j(e){return Object.keys(e).filter(C).concat(l(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function L(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}var B=0,I=1,M=2,D=3;function N(e,t,r,n){if(e===t)return 0!==e||!r||c(e,t);if(r){if("object"!==i(e))return"number"==typeof e&&u(e)&&u(t);if("object"!==i(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==i(e))return(null===t||"object"!==i(t))&&e==t;if(null===t||"object"!==i(t))return!1}var s,a,l,f,h=p(e);if(h!==p(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var d=j(e),g=j(t);return d.length===g.length&&F(e,t,r,n,I,d)}if("[object Object]"===h&&(!v(e)&&v(t)||!_(e)&&_(t)))return!1;if(b(e)){if(!b(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(w(e)){if(!w(t)||(l=e,f=t,!(o?l.source===f.source&&l.flags===f.flags:RegExp.prototype.toString.call(l)===RegExp.prototype.toString.call(f))))return!1}else if(E(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(y(e)){if(r||!T(e)&&!P(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===L(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}(e,t))return!1;var C=j(e),N=j(t);return C.length===N.length&&F(e,t,r,n,B,C)}if(_(e))return!(!_(t)||e.size!==t.size)&&F(e,t,r,n,M);if(v(e))return!(!v(t)||e.size!==t.size)&&F(e,t,r,n,D);if(m(e)){if(a=t,(s=e).byteLength!==a.byteLength||0!==L(new Uint8Array(s),new Uint8Array(a)))return!1}else if(S(e)&&!function(e,t){return x(e)?x(t)&&c(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):k(e)?k(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):A(e)?A(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):O(e)?O(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):R(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return F(e,t,r,n,B)}function U(e,t){return t.filter((function(t){return d(e,t)}))}function F(e,t,r,o,c,u){if(5===arguments.length){u=Object.keys(e);var f=Object.keys(t);if(u.length!==f.length)return!1}for(var p=0;p<u.length;p++)if(!h(t,u[p]))return!1;if(r&&5===arguments.length){var g=l(e);if(0!==g.length){var m=0;for(p=0;p<g.length;p++){var y=g[p];if(d(e,y)){if(!d(t,y))return!1;u.push(y),m++}else if(d(t,y))return!1}var b=l(t);if(g.length!==b.length&&U(t,b).length!==m)return!1}else{var v=l(t);if(0!==v.length&&0!==U(t,v).length)return!1}}if(0===u.length&&(c===B||c===I&&0===e.length||0===e.size))return!0;if(void 0===o)o={val1:new Map,val2:new Map,position:0};else{var w=o.val1.get(e);if(void 0!==w){var _=o.val2.get(t);if(void 0!==_)return w===_}o.position++}o.val1.set(e,o.position),o.val2.set(t,o.position);var E=function(e,t,r,o,c,l){var u=0;if(l===M){if(!function(e,t,r,n){for(var o=null,a=s(e),c=0;c<a.length;c++){var l=a[c];if("object"===i(l)&&null!==l)null===o&&(o=new Set),o.add(l);else if(!t.has(l)){if(r)return!1;if(!V(e,t,l))return!1;null===o&&(o=new Set),o.add(l)}}if(null!==o){for(var u=s(t),f=0;f<u.length;f++){var h=u[f];if("object"===i(h)&&null!==h){if(!z(o,h,r,n))return!1}else if(!r&&!e.has(h)&&!z(o,h,r,n))return!1}return 0===o.size}return!0}(e,t,r,c))return!1}else if(l===D){if(!function(e,t,r,o){for(var s=null,c=a(e),l=0;l<c.length;l++){var u=n(c[l],2),f=u[0],h=u[1];if("object"===i(f)&&null!==f)null===s&&(s=new Set),s.add(f);else{var d=t.get(f);if(void 0===d&&!t.has(f)||!N(h,d,r,o)){if(r)return!1;if(!Z(e,t,f,h,o))return!1;null===s&&(s=new Set),s.add(f)}}}if(null!==s){for(var p=a(t),g=0;g<p.length;g++){var m=n(p[g],2),y=(f=m[0],m[1]);if("object"===i(f)&&null!==f){if(!H(s,e,f,y,r,o))return!1}else if(!(r||e.has(f)&&N(e.get(f),y,!1,o)||H(s,e,f,y,!1,o)))return!1}return 0===s.size}return!0}(e,t,r,c))return!1}else if(l===I)for(;u<e.length;u++){if(!h(e,u)){if(h(t,u))return!1;for(var f=Object.keys(e);u<f.length;u++){var d=f[u];if(!h(t,d)||!N(e[d],t[d],r,c))return!1}return f.length===Object.keys(t).length}if(!h(t,u)||!N(e[u],t[u],r,c))return!1}for(u=0;u<o.length;u++){var p=o[u];if(!N(e[p],t[p],r,c))return!1}return!0}(e,t,r,u,o,c);return o.val1.delete(e),o.val2.delete(t),E}function z(e,t,r,n){for(var i=s(e),o=0;o<i.length;o++){var a=i[o];if(N(t,a,r,n))return e.delete(a),!0}return!1}function q(e){switch(i(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(u(e))return!1}return!0}function V(e,t,r){var n=q(r);return null!=n?n:t.has(n)&&!e.has(n)}function Z(e,t,r,n,i){var o=q(r);if(null!=o)return o;var s=t.get(o);return!(void 0===s&&!t.has(o)||!N(n,s,!1,i))&&!e.has(o)&&N(n,s,!1,i)}function H(e,t,r,n,i,o){for(var a=s(e),c=0;c<a.length;c++){var l=a[c];if(N(r,l,i,o)&&N(n,t.get(l),i,o))return e.delete(l),!0}return!1}e.exports={isDeepEqual:function(e,t){return N(e,t,!1)},isDeepStrictEqual:function(e,t){return N(e,t,!0)}}},4409:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.isAsync)(e)?function(...t){const r=t.pop();return a(e.apply(this,t),r)}:(0,n.default)((function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}if(n&&"function"==typeof n.then)return a(n,r);r(null,n)}))};var n=s(r(3519)),i=s(r(3111)),o=r(8993);function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return e.then((e=>{c(t,null,e)}),(e=>{c(t,e&&e.message?e:new Error(e))}))}function c(e,t,r){try{e(t,r)}catch(e){(0,i.default)((e=>{throw e}),e)}}e.exports=t.default},1846:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(5616)),i=u(r(1605)),o=u(r(7388)),s=u(r(6979)),a=u(r(3362)),c=u(r(8993)),l=u(r(2795));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r){r=(0,s.default)(r);var n=0,o=0,{length:c}=e,l=!1;function u(e,t){!1===e&&(l=!0),!0!==l&&(e?r(e):++o!==c&&t!==i.default||r(null))}for(0===c&&r(null);n<c;n++)t(e[n],n,(0,a.default)(u))}function h(e,t,r){return(0,o.default)(e,1/0,t,r)}t.default=(0,l.default)((function(e,t,r){return((0,n.default)(e)?f:h)(e,(0,c.default)(t),r)}),3),e.exports=t.default},7388:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(6954)),i=s(r(8993)),o=s(r(2795));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,r,o){return(0,n.default)(t)(e,(0,i.default)(r),o)}),4),e.exports=t.default},667:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(7388)),i=o(r(2795));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)((function(e,t,r){return(0,n.default)(e,1,t,r)}),3),e.exports=t.default},8058:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1846)),i=a(r(6529)),o=a(r(8993)),s=a(r(2795));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,s.default)((function(e,t,r){return(0,n.default)(e,(0,i.default)((0,o.default)(t)),r)}),3),e.exports=t.default},8617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){let o=!1,s=!1,a=!1,c=0,l=0;function u(){c>=t||a||o||(a=!0,e.next().then((({value:e,done:t})=>{if(!s&&!o){if(a=!1,t)return o=!0,void(c<=0&&n(null));c++,r(e,l,f),l++,u()}})).catch(h))}function f(e,t){if(c-=1,!s)return e?h(e):!1===e?(o=!0,void(s=!0)):t===i.default||o&&c<=0?(o=!0,n(null)):void u()}function h(e){s||(a=!1,o=!0,n(e))}u()};var n,i=(n=r(1605))&&n.__esModule?n:{default:n};e.exports=t.default},2795:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=e.length){if(!t)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[t-1]?e.apply(this,r):new Promise(((n,i)=>{r[t-1]=(e,...t)=>{if(e)return i(e);n(t.length>1?t:t[0])},e.apply(this,r)}))}},e.exports=t.default},1605:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},6954:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(6979)),i=l(r(9733)),o=l(r(3362)),s=r(8993),a=l(r(8617)),c=l(r(1605));function l(e){return e&&e.__esModule?e:{default:e}}t.default=e=>(t,r,l)=>{if(l=(0,n.default)(l),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return l(null);if((0,s.isAsyncGenerator)(t))return(0,a.default)(t,e,r,l);if((0,s.isAsyncIterable)(t))return(0,a.default)(t[Symbol.asyncIterator](),e,r,l);var u=(0,i.default)(t),f=!1,h=!1,d=0,p=!1;function g(e,t){if(!h)if(d-=1,e)f=!0,l(e);else if(!1===e)f=!0,h=!0;else{if(t===c.default||f&&d<=0)return f=!0,l(null);p||m()}}function m(){for(p=!0;d<e&&!f;){var t=u();if(null===t)return f=!0,void(d<=0&&l(null));d+=1,r(t.value,t.key,(0,o.default)(g))}p=!1}m()},e.exports=t.default},7818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()},e.exports=t.default},3519:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(...t){var r=t.pop();return e.call(this,t,r)}},e.exports=t.default},5616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0},e.exports=t.default},9733:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,o,s,a=(0,i.default)(e);return a?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(a):(r=(t=e)?Object.keys(t):[],o=-1,s=r.length,function e(){var n=r[++o];return"__proto__"===n?e():o<s?{value:t[n],key:n}:null})};var n=o(r(5616)),i=o(r(7818));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},6979:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t},e.exports=t.default},3362:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}},e.exports=t.default},3409:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(5616)),i=s(r(8993)),o=s(r(2795));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)(((e,t,r)=>{var o=(0,n.default)(t)?[]:{};e(t,((e,t,r)=>{(0,i.default)(e)(((e,...n)=>{n.length<2&&([n]=n),o[t]=n,r(e)}))}),(e=>r(e,o)))}),3),e.exports=t.default},3111:(e,t,r)=>{"use strict";var n=r(4155);Object.defineProperty(t,"__esModule",{value:!0}),t.fallback=c,t.wrap=l;var i,o=t.hasQueueMicrotask="function"==typeof queueMicrotask&&queueMicrotask,s=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,a=t.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function c(e){setTimeout(e,0)}function l(e){return(t,...r)=>e((()=>t(...r)))}i=o?queueMicrotask:s?setImmediate:a?n.nextTick:c,t.default=l(i)},6529:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(t,r,n)=>e(t,n)},e.exports=t.default},8993:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=t.isAsyncGenerator=t.isAsync=void 0;var n,i=(n=r(4409))&&n.__esModule?n:{default:n};function o(e){return"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){if("function"!=typeof e)throw new Error("expected a function");return o(e)?(0,i.default)(e):e},t.isAsync=o,t.isAsyncGenerator=function(e){return"AsyncGenerator"===e[Symbol.toStringTag]},t.isAsyncIterable=function(e){return"function"==typeof e[Symbol.asyncIterator]}},8415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(i.default,e,t)};var n=o(r(3409)),i=o(r(667));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=a(e),s=o[0],c=o[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,c)),u=0,f=c>0?s-4:s;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[u++]=255&t),1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,l=n-i;a<l;a+=s)o.push(c(e,a,a+s>l?l:a+s));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},4505:(e,t,r)=>{"use strict";var n=r(8764).Buffer,i=r(4155),o=r(9282),s=r(2292),a=r(405),c=r(7948),l=r(1619);for(var u in l)t[u]=l[u];function f(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,f.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,o(this.init_done,"close before init"),o(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||c.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},f.prototype.write=function(e,t,r,n,i,o,s){return this._write(!0,e,t,r,n,i,o,s)},f.prototype.writeSync=function(e,t,r,n,i,o,s){return this._write(!1,e,t,r,n,i,o,s)},f.prototype._write=function(e,r,s,a,c,l,u,f){if(o.equal(arguments.length,8),o(this.init_done,"write before init"),o(this.mode!==t.NONE,"already finalized"),o.equal(!1,this.write_in_progress,"write already in progress"),o.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,o.equal(!1,void 0===r,"must provide flush value"),this.write_in_progress=!0,r!==t.Z_NO_FLUSH&&r!==t.Z_PARTIAL_FLUSH&&r!==t.Z_SYNC_FLUSH&&r!==t.Z_FULL_FLUSH&&r!==t.Z_FINISH&&r!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==s&&(s=n.alloc(0),c=0,a=0),this.strm.avail_in=c,this.strm.input=s,this.strm.next_in=a,this.strm.avail_out=f,this.strm.output=l,this.strm.next_out=u,this.flush=r,!e)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return i.nextTick((function(){h._process(),h._after()})),this},f.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},f.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=c.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=c.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=c.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=c.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},f.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},f.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},f.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},f.prototype.init=function(e,r,n,i,s){o(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),o(e>=8&&e<=15,"invalid windowBits"),o(r>=-1&&r<=9,"invalid compression level"),o(n>=1&&n<=9,"invalid memlevel"),o(i===t.Z_FILTERED||i===t.Z_HUFFMAN_ONLY||i===t.Z_RLE||i===t.Z_FIXED||i===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(r,e,n,i,s),this._setDictionary()},f.prototype.params=function(){throw new Error("deflateParams Not supported")},f.prototype.reset=function(){this._reset(),this._setDictionary()},f.prototype._init=function(e,r,n,i,o){switch(this.level=e,this.windowBits=r,this.memLevel=n,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new s,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=c.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=o,this.write_in_progress=!1,this.init_done=!0},f.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},f.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=c.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=f},2635:(e,t,r)=>{"use strict";var n=r(4155),i=r(8764).Buffer,o=r(2830).Transform,s=r(4505),a=r(9539),c=r(9282).ok,l=r(8764).kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";s.Z_MIN_WINDOWBITS=8,s.Z_MAX_WINDOWBITS=15,s.Z_DEFAULT_WINDOWBITS=15,s.Z_MIN_CHUNK=64,s.Z_MAX_CHUNK=1/0,s.Z_DEFAULT_CHUNK=16384,s.Z_MIN_MEMLEVEL=1,s.Z_MAX_MEMLEVEL=9,s.Z_DEFAULT_MEMLEVEL=8,s.Z_MIN_LEVEL=-1,s.Z_MAX_LEVEL=9,s.Z_DEFAULT_LEVEL=s.Z_DEFAULT_COMPRESSION;for(var f=Object.keys(s),h=0;h<f.length;h++){var d=f[h];d.match(/^Z/)&&Object.defineProperty(t,d,{enumerable:!0,value:s[d],writable:!1})}for(var p={Z_OK:s.Z_OK,Z_STREAM_END:s.Z_STREAM_END,Z_NEED_DICT:s.Z_NEED_DICT,Z_ERRNO:s.Z_ERRNO,Z_STREAM_ERROR:s.Z_STREAM_ERROR,Z_DATA_ERROR:s.Z_DATA_ERROR,Z_MEM_ERROR:s.Z_MEM_ERROR,Z_BUF_ERROR:s.Z_BUF_ERROR,Z_VERSION_ERROR:s.Z_VERSION_ERROR},g=Object.keys(p),m=0;m<g.length;m++){var y=g[m];p[p[y]]=y}function b(e,t,r){var n=[],o=0;function s(){for(var t;null!==(t=e.read());)n.push(t),o+=t.length;e.once("readable",s)}function a(){var t,s=null;o>=l?s=new RangeError(u):t=i.concat(n,o),n=[],e.close(),r(s,t)}e.on("error",(function(t){e.removeListener("end",a),e.removeListener("readable",s),r(t)})),e.on("end",a),e.end(t),s()}function v(e,t){if("string"==typeof t&&(t=i.from(t)),!i.isBuffer(t))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(t,r)}function w(e){if(!(this instanceof w))return new w(e);R.call(this,e,s.DEFLATE)}function _(e){if(!(this instanceof _))return new _(e);R.call(this,e,s.INFLATE)}function E(e){if(!(this instanceof E))return new E(e);R.call(this,e,s.GZIP)}function S(e){if(!(this instanceof S))return new S(e);R.call(this,e,s.GUNZIP)}function x(e){if(!(this instanceof x))return new x(e);R.call(this,e,s.DEFLATERAW)}function k(e){if(!(this instanceof k))return new k(e);R.call(this,e,s.INFLATERAW)}function A(e){if(!(this instanceof A))return new A(e);R.call(this,e,s.UNZIP)}function O(e){return e===s.Z_NO_FLUSH||e===s.Z_PARTIAL_FLUSH||e===s.Z_SYNC_FLUSH||e===s.Z_FULL_FLUSH||e===s.Z_FINISH||e===s.Z_BLOCK}function R(e,r){var n=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,o.call(this,e),e.flush&&!O(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!O(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||s.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:s.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!i.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new s.Zlib(r);var a=this;this._hadError=!1,this._handle.onerror=function(e,r){T(a),a._hadError=!0;var n=new Error(e);n.errno=r,n.code=t.codes[r],a.emit("error",n)};var c=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(c=e.level);var l=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,c,e.memLevel||t.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=i.allocUnsafe(this._chunkSize),this._offset=0,this._level=c,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!n._handle},configurable:!0,enumerable:!0})}function T(e,t){t&&n.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function P(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),t.Deflate=w,t.Inflate=_,t.Gzip=E,t.Gunzip=S,t.DeflateRaw=x,t.InflateRaw=k,t.Unzip=A,t.createDeflate=function(e){return new w(e)},t.createInflate=function(e){return new _(e)},t.createDeflateRaw=function(e){return new x(e)},t.createInflateRaw=function(e){return new k(e)},t.createGzip=function(e){return new E(e)},t.createGunzip=function(e){return new S(e)},t.createUnzip=function(e){return new A(e)},t.deflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),b(new w(t),e,r)},t.deflateSync=function(e,t){return v(new w(t),e)},t.gzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),b(new E(t),e,r)},t.gzipSync=function(e,t){return v(new E(t),e)},t.deflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),b(new x(t),e,r)},t.deflateRawSync=function(e,t){return v(new x(t),e)},t.unzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),b(new A(t),e,r)},t.unzipSync=function(e,t){return v(new A(t),e)},t.inflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),b(new _(t),e,r)},t.inflateSync=function(e,t){return v(new _(t),e)},t.gunzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),b(new S(t),e,r)},t.gunzipSync=function(e,t){return v(new S(t),e)},t.inflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),b(new k(t),e,r)},t.inflateRawSync=function(e,t){return v(new k(t),e)},a.inherits(R,o),R.prototype.params=function(e,r,i){if(e<t.Z_MIN_LEVEL||e>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==e||this._strategy!==r){var o=this;this.flush(s.Z_SYNC_FLUSH,(function(){c(o._handle,"zlib binding closed"),o._handle.params(e,r),o._hadError||(o._level=e,o._strategy=r,i&&i())}))}else n.nextTick(i)},R.prototype.reset=function(){return c(this._handle,"zlib binding closed"),this._handle.reset()},R.prototype._flush=function(e){this._transform(i.alloc(0),"",e)},R.prototype.flush=function(e,t){var r=this,o=this._writableState;("function"==typeof e||void 0===e&&!t)&&(t=e,e=s.Z_FULL_FLUSH),o.ended?t&&n.nextTick(t):o.ending?t&&this.once("end",t):o.needDrain?t&&this.once("drain",(function(){return r.flush(e,t)})):(this._flushFlag=e,this.write(i.alloc(0),"",t))},R.prototype.close=function(e){T(this,e),n.nextTick(P,this)},R.prototype._transform=function(e,t,r){var n,o=this._writableState,a=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||i.isBuffer(e)?this._handle?(a?n=this._finishFlushFlag:(n=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||s.Z_NO_FLUSH)),void this._processChunk(e,n,r)):r(new Error("zlib binding closed")):r(new Error("invalid input"))},R.prototype._processChunk=function(e,t,r){var n=e&&e.length,o=this._chunkSize-this._offset,s=0,a=this,f="function"==typeof r;if(!f){var h,d=[],p=0;this.on("error",(function(e){h=e})),c(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(t,e,s,n,this._buffer,this._offset,o)}while(!this._hadError&&b(g[0],g[1]));if(this._hadError)throw h;if(p>=l)throw T(this),new RangeError(u);var m=i.concat(d,p);return T(this),m}c(this._handle,"zlib binding closed");var y=this._handle.write(t,e,s,n,this._buffer,this._offset,o);function b(l,u){if(this&&(this.buffer=null,this.callback=null),!a._hadError){var h=o-u;if(c(h>=0,"have should not go down"),h>0){var g=a._buffer.slice(a._offset,a._offset+h);a._offset+=h,f?a.push(g):(d.push(g),p+=g.length)}if((0===u||a._offset>=a._chunkSize)&&(o=a._chunkSize,a._offset=0,a._buffer=i.allocUnsafe(a._chunkSize)),0===u){if(s+=n-l,n=l,!f)return!0;var m=a._handle.write(t,e,s,n,a._buffer,a._offset,a._chunkSize);return m.callback=b,void(m.buffer=e)}if(!f)return!1;r()}}y.buffer=e,y.callback=b},a.inherits(w,R),a.inherits(_,R),a.inherits(E,R),a.inherits(S,R),a.inherits(x,R),a.inherits(k,R),a.inherits(A,R)},8764:(e,t,r)=>{"use strict";var n=r(5108);const i=r(9742),o=r(645),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function c(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|m(e,t);let n=c(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);const i=function(e){if(l.isBuffer(e)){const t=0|g(e.length),r=c(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||K(e.length)?c(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return f(e),c(e<0?0:0|g(e))}function d(e){const t=e.length<0?0:0|g(e.length),r=c(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,l.prototype),n}function g(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),K(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(l(e,o)===l(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(l(e,o+n)!==l(t,n)){r=!1;break}if(r)return o}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(K(n))return s;e[r+s]=n}return s}function E(e,t,r,n){return Y(G(t,e.length-r),e,r,n)}function S(e,t,r,n){return Y(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return Y(W(t),e,r,n)}function k(e,t,r,n){return Y(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=R));return r}(n)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||void 0===n||"function"!=typeof n.error||n.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?c(e):void 0!==t?"string"==typeof r?c(e).fill(t,r):c(e).fill(t):c(e)}(e,t,r)},l.allocUnsafe=function(e){return h(e)},l.allocUnsafeSlow=function(e){return h(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=l.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))i+t.length>n.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<a;++e)if(c[e]!==u[e]){o=c[e],s=u[e];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const R=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function C(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=J[e[n]];return i}function j(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n,i){V(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function M(e,t,r,n,i){V(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Q((function(e){Z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=Q((function(e){Z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Q((function(e){Z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=Q((function(e){Z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||B(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||B(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Q((function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Q((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Q((function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Q((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const F={};function z(e,t,r){F[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function V(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){Z(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||H(t,e.length-(r+1))}(n,i,o)}function Z(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,r){if(Math.floor(e)!==e)throw Z(e,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=q(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function W(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?ee:e}function ee(){throw new Error("BigInt not supported")}},584:e=>{e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},1924:(e,t,r)=>{"use strict";var n=r(210),i=r(5559),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},5559:(e,t,r)=>{"use strict";var n=r(8612),i=r(210),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||n.call(s,o),c=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),u=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function(e){var t=a(n,s,arguments);return c&&l&&c(t,"length").configurable&&l(t,"length",{value:1+u(0,e.length-(arguments.length-1))}),t};var f=function(){return a(n,o,arguments)};l?l(e.exports,"apply",{value:f}):e.exports.apply=f},5108:(e,t,r)=>{var n=r(9539),i=r(9282);function o(){return(new Date).getTime()}var s,a=Array.prototype.slice,c={};s=void 0!==r.g&&r.g.console?r.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var l=[[function(){},"log"],[function(){s.log.apply(s,arguments)},"info"],[function(){s.log.apply(s,arguments)},"warn"],[function(){s.warn.apply(s,arguments)},"error"],[function(e){c[e]=o()},"time"],[function(e){var t=c[e];if(!t)throw new Error("No such label: "+e);delete c[e];var r=o()-t;s.log(e+": "+r+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),s.error(e.stack)},"trace"],[function(e){s.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=a.call(arguments,1);i.ok(!1,n.format.apply(null,t))}},"assert"]],u=0;u<l.length;u++){var f=l[u],h=f[0],d=f[1];s[d]||(s[d]=h)}e.exports=s},4289:(e,t,r)=>{"use strict";var n=r(2215),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=r(1044)(),l=a&&c,u=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(i=n)||"[object Function]"!==o.call(i)||!n())return;var i;l?a(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r},f=function(e,t){var r=arguments.length>2?arguments[2]:{},o=n(t);i&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)u(e,o[a],t[o[a]],r[o[a]])};f.supportsDescriptors=!!l,e.exports=f},8091:e=>{"use strict";function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o=Object.keys(Object(i)),s=0,a=o.length;s<a;s++){var c=o[s],l=Object.getOwnPropertyDescriptor(i,c);void 0!==l&&l.enumerable&&(r[c]=i[c])}}return r}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},7187:(e,t,r)=>{"use strict";var n,i=r(5108),o="object"==typeof Reflect?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}e.exports=c,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}b(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&b(e,"error",t,{once:!0})}(e,i)}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var o,s,a,c;if(u(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=f(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,i&&i.warn&&i.warn(c)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function g(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):y(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function b(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return f(this)},c.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var l=c.length,u=y(c,l);for(r=0;r<l;++r)s(u[r],this,t)}return!0},c.prototype.addListener=function(e,t){return h(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return h(this,e,t,!0)},c.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},c.prototype.removeListener=function(e,t){var r,n,i,o,s;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},c.prototype.listeners=function(e){return g(this,e,!0)},c.prototype.rawListeners=function(e){return g(this,e,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},c.prototype.listenerCount=m,c.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},9432:(e,t,r)=>{"use strict";r.r(t),r.d(t,{assign:()=>u,default:()=>P,defaultI18n:()=>p,format:()=>R,parse:()=>T,setGlobalDateI18n:()=>m,setGlobalDateMasks:()=>O});var n=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,i="\\d\\d?",o="\\d\\d",s="[^\\s]+",a=/\[([^]*?)\]/gm;function c(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r.push(e[n].substr(0,t));return r}var l=function(e){return function(t,r){var n=r[e].map((function(e){return e.toLowerCase()})),i=n.indexOf(t.toLowerCase());return i>-1?i:null}};function u(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];for(var s in o)e[s]=o[s]}return e}var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"],d=c(h,3),p={dayNamesShort:c(f,3),dayNames:f,monthNamesShort:d,monthNames:h,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10?1:0)*e%10]}},g=u({},p),m=function(e){return g=u(g,e)},y=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},b=function(e,t){for(void 0===t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},v={D:function(e){return String(e.getDate())},DD:function(e){return b(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return b(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return b(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return b(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return b(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return b(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return b(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return b(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return b(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return b(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return b(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+b(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+b(Math.floor(Math.abs(t)/60),2)+":"+b(Math.abs(t)%60,2)}},w=function(e){return+e-1},_=[null,i],E=[null,s],S=["isPm",s,function(e,t){var r=e.toLowerCase();return r===t.amPm[0]?0:r===t.amPm[1]?1:null}],x=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var r=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?r:-r}return 0}],k={D:["day",i],DD:["day",o],Do:["day",i+s,function(e){return parseInt(e,10)}],M:["month",i,w],MM:["month",o,w],YY:["year",o,function(e){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",i,void 0,"isPm"],hh:["hour",o,void 0,"isPm"],H:["hour",i],HH:["hour",o],m:["minute",i],mm:["minute",o],s:["second",i],ss:["second",o],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(e){return 100*+e}],SS:["millisecond",o,function(e){return 10*+e}],SSS:["millisecond","\\d{3}"],d:_,dd:_,ddd:E,dddd:E,MMM:["month",s,l("monthNamesShort")],MMMM:["month",s,l("monthNames")],a:S,A:S,ZZ:x,Z:x},A={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},O=function(e){return u(A,e)},R=function(e,t,r){if(void 0===t&&(t=A.default),void 0===r&&(r={}),"number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=A[t]||t;var i=[];t=t.replace(a,(function(e,t){return i.push(t),"@@@"}));var o=u(u({},g),r);return(t=t.replace(n,(function(t){return v[t](e,o)}))).replace(/@@@/g,(function(){return i.shift()}))};function T(e,t,r){if(void 0===r&&(r={}),"string"!=typeof t)throw new Error("Invalid format in fecha parse");if(t=A[t]||t,e.length>1e3)return null;var i={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},o=[],s=[],c=t.replace(a,(function(e,t){return s.push(y(t)),"@@@"})),l={},f={};c=y(c).replace(n,(function(e){var t=k[e],r=t[0],n=t[1],i=t[3];if(l[r])throw new Error("Invalid format. "+r+" specified twice in format");return l[r]=!0,i&&(f[i]=!0),o.push(t),"("+n+")"})),Object.keys(f).forEach((function(e){if(!l[e])throw new Error("Invalid format. "+e+" is required in specified format")})),c=c.replace(/@@@/g,(function(){return s.shift()}));var h=e.match(new RegExp(c,"i"));if(!h)return null;for(var d,p=u(u({},g),r),m=1;m<h.length;m++){var b=o[m-1],v=b[0],w=b[2],_=w?w(h[m],p):+h[m];if(null==_)return null;i[v]=_}if(1===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:0===i.isPm&&12==+i.hour&&(i.hour=0),null==i.timezoneOffset){d=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var E=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],S=(m=0,E.length);m<S;m++)if(l[E[m][0]]&&i[E[m][0]]!==d[E[m][1]]())return null}else if(d=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return d}const P={format:R,parse:T,defaultI18n:p,setGlobalDateI18n:m,setGlobalDateMasks:O}},2296:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){if("string"==typeof e.displayName&&e.constructor.name)return e.displayName;if("string"==typeof e.name&&e.name)return e.name;if("object"==typeof e&&e.constructor&&"string"==typeof e.constructor.name)return e.constructor.name;var r=e.toString(),n=t.call(e).slice(8,-1);return(r="Function"===n?r.substring(r.indexOf("(")+1,r.indexOf(")")):n)||"anonymous"}},4029:(e,t,r)=>{"use strict";var n=r(5320),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=r),"[object Array]"===i.call(e)?function(e,t,r){for(var n=0,i=e.length;n<i;n++)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,s):"string"==typeof e?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,s):function(e,t,r){for(var n in e)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,s)}},7648:e=>{"use strict";var t=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(e){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i,o=t.call(arguments,1),s=Math.max(0,n.length-o.length),a=[],c=0;c<s;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var r=n.apply(this,o.concat(t.call(arguments)));return Object(r)===r?r:this}return n.apply(e,o.concat(t.call(arguments)))})),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i}},8612:(e,t,r)=>{"use strict";var n=r(7648);e.exports=Function.prototype.bind||n},210:(e,t,r)=>{"use strict";var n,i=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var l=function(){throw new s},u=c?function(){try{return l}catch(e){try{return c(arguments,"callee").get}catch(e){return l}}}():l,f=r(1405)(),h=Object.getPrototypeOf||function(e){return e.__proto__},d={},p="undefined"==typeof Uint8Array?n:h(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":u,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};try{null.error}catch(e){var m=h(h(e));g["%Error.prototype%"]=m}var y=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=h(i.prototype))}return g[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(8612),w=r(7642),_=v.call(Function.call,Array.prototype.concat),E=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),x=v.call(Function.call,String.prototype.slice),k=v.call(Function.call,RegExp.prototype.exec),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,R=function(e,t){var r,n=e;if(w(b,n)&&(n="%"+(r=b[n])[0]+"%"),w(g,n)){var o=g[n];if(o===d&&(o=y(n)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=x(e,0,1),r=x(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,A,(function(e,t,r,i){n[n.length]=r?S(i,O,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=R("%"+n+"%",t),a=o.name,l=o.value,u=!1,f=o.alias;f&&(n=f[0],E(r,_([0,1],f)));for(var h=1,d=!0;h<r.length;h+=1){var p=r[h],m=x(p,0,1),y=x(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&d||(u=!0),w(g,a="%"+(n+="."+p)+"%"))l=g[a];else if(null!=l){if(!(p in l)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&h+1>=r.length){var b=c(l,p);l=(d=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:l[p]}else d=w(l,p),l=l[p];d&&!u&&(g[a]=l)}}return l}},7296:(e,t,r)=>{"use strict";var n=r(210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},1044:(e,t,r)=>{"use strict";var n=r(210)("%Object.defineProperty%",!0),i=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},1405:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(5419);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6410:(e,t,r)=>{"use strict";var n=r(5419);e.exports=function(){return n()&&!!Symbol.toStringTag}},7642:(e,t,r)=>{"use strict";var n=r(8612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},9267:(e,t,r)=>{var n=r(8501),i=r(8575),o=e.exports;for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);function a(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=a(e),n.request.call(this,e,t)},o.get=function(e,t){return e=a(e),n.get.call(this,e,t)}},645:(e,t)=>{t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,l=c>>1,u=-7,f=r?i-1:0,h=r?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+e[t+f],f+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=256*s+e[t+f],f+=h,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=l}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,f=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(t*c-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[r+d]=255&s,d+=p,s/=256,l-=8);e[r+d-p]|=128*g}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},2584:(e,t,r)=>{"use strict";var n=r(6410)(),i=r(1924)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},s=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,e.exports=a?o:s},5320:e=>{"use strict";var t,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,t)}catch(e){e!==r&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(e){try{var t=n.call(e);return o.test(t)}catch(e){return!1}},a=function(e){try{return!s(e)&&(n.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,l="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),f=function(){return!1};if("object"==typeof document){var h=document.all;c.call(h)===c.call(document.all)&&(f=function(e){if((u||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==r)return!1}return!s(e)&&a(e)}:function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(l)return a(e);if(s(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}},8662:(e,t,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=r(6410)(),c=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(s.test(o.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(e);if(!c)return!1;if(void 0===n){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&c(t)}return c(e)===n}},8611:e=>{"use strict";e.exports=function(e){return e!=e}},360:(e,t,r)=>{"use strict";var n=r(5559),i=r(4289),o=r(8611),s=r(9415),a=r(3194),c=n(s(),Number);i(c,{getPolyfill:s,implementation:o,shim:a}),e.exports=c},9415:(e,t,r)=>{"use strict";var n=r(8611);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},3194:(e,t,r)=>{"use strict";var n=r(4289),i=r(9415);e.exports=function(){var e=i();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},4970:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform,e.exports=t},5692:(e,t,r)=>{"use strict";var n=r(4029),i=r(3083),o=r(1924),s=o("Object.prototype.toString"),a=r(6410)(),c=r(7296),l="undefined"==typeof globalThis?r.g:globalThis,u=i(),f=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},h=o("String.prototype.slice"),d={},p=Object.getPrototypeOf;a&&c&&p&&n(u,(function(e){var t=new l[e];if(Symbol.toStringTag in t){var r=p(t),n=c(r,Symbol.toStringTag);if(!n){var i=p(r);n=c(i,Symbol.toStringTag)}d[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a||!(Symbol.toStringTag in e)){var t=h(s(e),8,-1);return f(u,t)>-1}return!!c&&function(e){var t=!1;return n(d,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},6894:(e,t,r)=>{"use strict";var n=r(8287);e.exports=n((function(e){return e.message="\t".concat(e.message),e}))},6850:(e,t,r)=>{"use strict";var n=t.format=r(8287);t.levels=r(7371),Object.defineProperty(n,"align",{value:r(6894)}),Object.defineProperty(n,"cli",{value:r(9008)}),Object.defineProperty(n,"colorize",{value:r(2046)}),Object.defineProperty(n,"combine",{value:r(1145)}),Object.defineProperty(n,"errors",{value:r(2657)}),Object.defineProperty(n,"json",{value:r(3048)}),Object.defineProperty(n,"label",{value:r(4403)}),Object.defineProperty(n,"logstash",{value:r(9660)}),Object.defineProperty(n,"metadata",{value:r(2883)}),Object.defineProperty(n,"ms",{value:r(3584)}),Object.defineProperty(n,"padLevels",{value:r(2886)}),Object.defineProperty(n,"prettyPrint",{value:r(8703)}),Object.defineProperty(n,"printf",{value:r(2361)}),Object.defineProperty(n,"simple",{value:r(2167)}),Object.defineProperty(n,"splat",{value:r(7729)}),Object.defineProperty(n,"timestamp",{value:r(7271)}),Object.defineProperty(n,"uncolorize",{value:r(9729)})},9008:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(2046).Colorizer,o=r(2886).Padder,s=r(5396),a=s.configs,c=s.MESSAGE,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.levels||(t.levels=a.cli.levels),this.colorizer=new i(t),this.padder=new o(t),this.options=t}var t,r;return t=e,(r=[{key:"transform",value:function(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[c]="".concat(e.level,":").concat(e.message),e}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=function(e){return new l(e)},e.exports.Format=l},2046:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(3645),o=r(5396),s=o.LEVEL,a=o.MESSAGE;i.enabled=!0;var c=/\s+/,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.colors&&this.addColors(t.colors),this.options=t}var t,r,o;return t=e,o=[{key:"addColors",value:function(t){var r=Object.keys(t).reduce((function(e,r){return e[r]=c.test(t[r])?t[r].split(c):t[r],e}),{});return e.allColors=Object.assign({},e.allColors||{},r),e.allColors}}],(r=[{key:"addColors",value:function(t){return e.addColors(t)}},{key:"colorize",value:function(t,r,n){if(void 0===n&&(n=r),!Array.isArray(e.allColors[t]))return i[e.allColors[t]](n);for(var o=0,s=e.allColors[t].length;o<s;o++)n=i[e.allColors[t][o]](n);return n}},{key:"transform",value:function(e,t){return t.all&&"string"==typeof e[a]&&(e[a]=this.colorize(e[s],e.level,e[a])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[s],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[s],e.level,e.message)),e}}])&&n(t.prototype,r),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=function(e){return new l(e)},e.exports.Colorizer=e.exports.Format=l},1145:(e,t,r)=>{"use strict";var n=r(8287);function i(e){if(e.every(o))return function(t){for(var r=t,n=0;n<e.length;n++)if(!(r=e[n].transform(r,e[n].options)))return!1;return r}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=n(i(t)),s=o();return s.Format=o.Format,s},e.exports.cascade=i},2657:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(8287),o=r(5396),s=o.LEVEL,a=o.MESSAGE;e.exports=i((function(e,t){var r=t.stack,i=t.cause;if(e instanceof Error){var o,c=Object.assign({},e,(n(o={level:e.level},s,e[s]||e.level),n(o,"message",e.message),n(o,a,e[a]||e.message),o));return r&&(c.stack=e.stack),i&&(c.cause=e.cause),c}if(!(e.message instanceof Error))return e;var l=e.message;return Object.assign(e,l),e.message=l.message,e[a]=l.message,r&&(e.stack=l.stack),i&&(e.cause=l.cause),e}))},8287:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n(e){var t="function"==typeof Map?new Map:void 0;return n=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)},n(e)}function i(e,t,r){return i=o()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&s(i,r.prototype),i},i.apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(u,e);var n,i,c,l=(i=u,c=o(),function(){var e,n=a(i);if(c){var o=a(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return r(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t=l.call(this,"Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ".concat(e.toString().split("\n")[0],"\n")),Error.captureStackTrace(r(t),u),t}return n=u,Object.defineProperty(n,"prototype",{writable:!1}),n}(n(Error));e.exports=function(e){if(e.length>2)throw new c(e);function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}function r(e){return new t(e)}return t.prototype.transform=e,r.Format=t,r}},3048:(e,t,r)=>{"use strict";var n=r(8287),i=r(5396).MESSAGE,o=r(7668);function s(e,t){return"bigint"==typeof t?t.toString():t}e.exports=n((function(e,t){var r=o.configure(t);return e[i]=r(e,t.replacer||s,t.space),e}))},4403:(e,t,r)=>{"use strict";var n=r(8287);e.exports=n((function(e,t){return t.message?(e.message="[".concat(t.label,"] ").concat(e.message),e):(e.label=t.label,e)}))},7371:(e,t,r)=>{"use strict";var n=r(2046).Colorizer;e.exports=function(e){return n.addColors(e.colors||e),e}},9660:(e,t,r)=>{"use strict";var n=r(8287),i=r(5396).MESSAGE,o=r(7668);e.exports=n((function(e){var t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e}))},2883:(e,t,r)=>{"use strict";var n=r(8287);e.exports=n((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="metadata";t.key&&(r=t.key);var n=[];return t.fillExcept||t.fillWith||(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?function(e,t,r){var n,i,o,s=t.reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{}),a=Object.keys(e).reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{});return Object.assign(e,s,(o=a,(i=r)in(n={})?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n)),e}(e,n,r):t.fillWith?function(e,t,r){return e[r]=t.reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{}),e}(e,t.fillWith,r):e}))},3584:(e,t,r)=>{"use strict";var n=void 0,i=r(8287),o=r(7824);e.exports=i((function(e){var t=+new Date;return n.diff=t-(n.prevTime||t),n.prevTime=t,e.ms="+".concat(o(n.diff)),e}))},2886:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(5396),s=o.configs,a=o.LEVEL,c=o.MESSAGE,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{levels:s.npm.levels};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.paddings=e.paddingForLevels(t.levels,t.filler),this.options=t}var t,r,o;return t=e,o=[{key:"getLongestLevel",value:function(e){var t,r=Object.keys(e).map((function(e){return e.length}));return Math.max.apply(Math,function(e){if(Array.isArray(e))return n(e)}(t=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}},{key:"paddingForLevel",value:function(e,t,r){var n=r+1-e.length,i=Math.floor(n/t.length);return"".concat(t).concat(t.repeat(i)).slice(0,n)}},{key:"paddingForLevels",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=e.getLongestLevel(t);return Object.keys(t).reduce((function(t,i){return t[i]=e.paddingForLevel(i,r,n),t}),{})}}],(r=[{key:"transform",value:function(e,t){return e.message="".concat(this.paddings[e[a]]).concat(e.message),e[c]&&(e[c]="".concat(this.paddings[e[a]]).concat(e[c])),e}}])&&i(t.prototype,r),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=function(e){return new l(e)},e.exports.Padder=e.exports.Format=l},8703:(e,t,r)=>{"use strict";var n=r(9539).inspect,i=r(8287),o=r(5396),s=o.LEVEL,a=o.MESSAGE,c=o.SPLAT;e.exports=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},e);return delete r[s],delete r[a],delete r[c],e[a]=n(r,!1,t.depth||null,t.colorize),e}))},2361:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(5396).MESSAGE,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=t}var t,r;return t=e,(r=[{key:"transform",value:function(e){return e[i]=this.template(e),e}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=function(e){return new o(e)},e.exports.Printf=e.exports.Format=o},2167:(e,t,r)=>{"use strict";var n=r(8287),i=r(5396).MESSAGE,o=r(7668);e.exports=n((function(e){var t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?"".concat(e.level,":").concat(r," ").concat(e.message," ").concat(t):"".concat(e.level,":").concat(r," ").concat(e.message),e}))},7729:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(9539),s=r(5396).SPLAT,a=/%[scdjifoO%]/g,c=/%%/g,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}var t,r;return t=e,(r=[{key:"_splat",value:function(e,t){var r,i=e.message,a=e[s]||e.splat||[],l=i.match(c),u=l&&l.length||0,f=t.length-u-a.length,h=f<0?a.splice(f,-1*f):[],d=h.length;if(d)for(var p=0;p<d;p++)Object.assign(e,h[p]);return e.message=o.format.apply(o,[i].concat(function(e){if(Array.isArray(e))return n(e)}(r=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),e}},{key:"transform",value:function(e){var t=e.message,r=e[s]||e.splat;if(!r||!r.length)return e;var n=t&&t.match&&t.match(a);if(!n&&(r||r.length)){var i=r.length>1?r.splice(0):r,o=i.length;if(o)for(var c=0;c<o;c++)Object.assign(e,i[c]);return e}return n?this._splat(e,n):e}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=function(e){return new l(e)}},7271:(e,t,r)=>{"use strict";var n=r(9432),i=r(8287);e.exports=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.format&&(e.timestamp="function"==typeof t.format?t.format():n.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e}))},9729:(e,t,r)=>{"use strict";var n=r(3645),i=r(8287),o=r(5396).MESSAGE;e.exports=i((function(e,t){return!1!==t.level&&(e.level=n.strip(e.level)),!1!==t.message&&(e.message=n.strip(String(e.message))),!1!==t.raw&&e[o]&&(e[o]=n.strip(String(e[o]))),e}))},9235:e=>{"use strict";class t extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ${e.toString().split("\n")[0]}\n`),Error.captureStackTrace(this,t)}}e.exports=e=>{if(e.length>2)throw new t(e);function r(e={}){this.options=e}function n(e){return new r(e)}return r.prototype.transform=e,n.Format=r,n}},3922:(e,t,r)=>{"use strict";const n=r(9235),{MESSAGE:i}=r(5396),o=r(7668);function s(e,t){return"bigint"==typeof t?t.toString():t}e.exports=n(((e,t)=>{const r=o.configure(t);return e[i]=r(e,t.replacer||s,t.space),e}))},7824:e=>{var t=1e3,r=60*t,n=60*r,i=24*n;function o(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=i?o(a,c,i,"day"):c>=n?o(a,c,n,"hour"):c>=r?o(a,c,r,"minute"):c>=t?o(a,c,t,"second"):a+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},4244:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},609:(e,t,r)=>{"use strict";var n=r(4289),i=r(5559),o=r(4244),s=r(5624),a=r(2281),c=i(s(),Object);n(c,{getPolyfill:s,implementation:o,shim:a}),e.exports=c},5624:(e,t,r)=>{"use strict";var n=r(4244);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},2281:(e,t,r)=>{"use strict";var n=r(5624),i=r(4289);e.exports=function(){var e=n();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},8987:(e,t,r)=>{"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=r(1414),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),l=a.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),n=s(e),a=t&&"[object String]"===o.call(e),h=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=l&&r;if(a&&e.length>0&&!i.call(e,0))for(var g=0;g<e.length;++g)h.push(String(g));if(n&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var y in e)p&&"prototype"===y||!i.call(e,y)||h.push(String(y));if(c)for(var b=function(e){if("undefined"==typeof window||!d)return f(e);try{return f(e)}catch(e){return!1}}(e),v=0;v<u.length;++v)b&&"constructor"===u[v]||!i.call(e,u[v])||h.push(u[v]);return h}}e.exports=n},2215:(e,t,r)=>{"use strict";var n=Array.prototype.slice,i=r(1414),o=Object.keys,s=o?function(e){return o(e)}:r(8987),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?a(n.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},1414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},3138:(e,t,r)=>{"use strict";var n=r(2296);e.exports=function(e){var t,r=0;function i(){return r||(r=1,t=e.apply(this,arguments),e=null),t}return i.displayName=n(e),i}},7435:(e,t)=>{t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},4236:(e,t)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(e[i]=r[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,s;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(s=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)o=e[t],s.set(o,i),i+=o.length;return s}},o={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},6069:e=>{"use strict";e.exports=function(e,t,r,n){for(var i=65535&e|0,o=e>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{o=o+(i=i+t[n++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}},1619:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:e=>{"use strict";var t=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,r,n,i){var o=t,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^r[a])];return-1^e}},405:(e,t,r)=>{"use strict";var n,i=r(4236),o=r(342),s=r(6069),a=r(2869),c=r(8898),l=0,u=4,f=0,h=-2,d=2,p=8,g=286,m=30,y=19,b=2*g+1,v=15,w=3,_=258,E=_+w+1,S=42,x=103,k=113,A=666,O=1,R=2,T=3,P=4;function C(e,t){return e.msg=c[t],t}function j(e){return(e<<1)-(e>4?9:0)}function L(e){for(var t=e.length;--t>=0;)e[t]=0}function B(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function I(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,B(e.strm)}function M(e,t){e.pending_buf[e.pending++]=t}function D(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function N(e,t){var r,n,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,l=e.window,u=e.w_mask,f=e.prev,h=e.strstart+_,d=l[o+s-1],p=l[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(l[(r=t)+s]===p&&l[r+s-1]===d&&l[r]===l[o]&&l[++r]===l[o+1]){o+=2,r++;do{}while(l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&o<h);if(n=_-(h-o),o=h-_,n>s){if(e.match_start=t,s=n,n>=a)break;d=l[o+s-1],p=l[o+s]}}}while((t=f[t&u])>c&&0!=--i);return s<=e.lookahead?s:e.lookahead}function U(e){var t,r,n,o,c,l,u,f,h,d,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-E)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=p?n-p:0}while(--r);t=r=p;do{n=e.prev[--t],e.prev[t]=n>=p?n-p:0}while(--r);o+=p}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,f=e.strstart+e.lookahead,h=o,d=void 0,(d=l.avail_in)>h&&(d=h),r=0===d?0:(l.avail_in-=d,i.arraySet(u,l.input,l.next_in,d,f),1===l.state.wrap?l.adler=s(l.adler,u,d,f):2===l.state.wrap&&(l.adler=a(l.adler,u,d,f)),l.next_in+=d,l.total_in+=d,d),e.lookahead+=r,e.lookahead+e.insert>=w)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+w-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<w)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function F(e,t){for(var r,n;;){if(e.lookahead<E){if(U(e),e.lookahead<E&&t===l)return O;if(0===e.lookahead)break}if(r=0,e.lookahead>=w&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-E&&(e.match_length=N(e,r)),e.match_length>=w)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-w),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=w){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(I(e,!1),0===e.strm.avail_out))return O}return e.insert=e.strstart<w-1?e.strstart:w-1,t===u?(I(e,!0),0===e.strm.avail_out?T:P):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?O:R}function z(e,t){for(var r,n,i;;){if(e.lookahead<E){if(U(e),e.lookahead<E&&t===l)return O;if(0===e.lookahead)break}if(r=0,e.lookahead>=w&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=w-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-E&&(e.match_length=N(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===w&&e.strstart-e.match_start>4096)&&(e.match_length=w-1)),e.prev_length>=w&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-w,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-w),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=w-1,e.strstart++,n&&(I(e,!1),0===e.strm.avail_out))return O}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&I(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return O}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<w-1?e.strstart:w-1,t===u?(I(e,!0),0===e.strm.avail_out?T:P):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?O:R}function q(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*b),this.dyn_dtree=new i.Buf16(2*(2*m+1)),this.bl_tree=new i.Buf16(2*(2*y+1)),L(this.dyn_ltree),L(this.dyn_dtree),L(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(v+1),this.heap=new i.Buf16(2*g+1),L(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*g+1),L(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=d,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?S:k,e.adler=2===t.wrap?0:1,t.last_flush=l,o._tr_init(t),f):C(e,h)}function H(e){var t,r=Z(e);return r===f&&((t=e.state).window_size=2*t.w_size,L(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=w-1,t.match_available=0,t.ins_h=0),r}function $(e,t,r,n,o,s){if(!e)return h;var a=1;if(-1===t&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>9||r!==p||n<8||n>15||t<0||t>9||s<0||s>4)return C(e,h);8===n&&(n=9);var c=new V;return e.state=c,c.strm=e,c.wrap=a,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+w-1)/w),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=s,c.method=r,H(e)}n=[new q(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(U(e),0===e.lookahead&&t===l)return O;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,I(e,!1),0===e.strm.avail_out))return O;if(e.strstart-e.block_start>=e.w_size-E&&(I(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===u?(I(e,!0),0===e.strm.avail_out?T:P):(e.strstart>e.block_start&&(I(e,!1),e.strm.avail_out),O)})),new q(4,4,8,4,F),new q(4,5,16,8,F),new q(4,6,32,32,F),new q(4,4,16,16,z),new q(8,16,32,32,z),new q(8,16,128,128,z),new q(8,32,128,256,z),new q(32,128,258,1024,z),new q(32,258,258,4096,z)],t.deflateInit=function(e,t){return $(e,t,p,15,8,0)},t.deflateInit2=$,t.deflateReset=H,t.deflateResetKeep=Z,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,f):h},t.deflate=function(e,t){var r,i,s,c;if(!e||!e.state||t>5||t<0)return e?C(e,h):h;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===A&&t!==u)return C(e,0===e.avail_out?-5:h);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===S)if(2===i.wrap)e.adler=0,M(i,31),M(i,139),M(i,8),i.gzhead?(M(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),M(i,255&i.gzhead.time),M(i,i.gzhead.time>>8&255),M(i,i.gzhead.time>>16&255),M(i,i.gzhead.time>>24&255),M(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),M(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(M(i,255&i.gzhead.extra.length),M(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(M(i,0),M(i,0),M(i,0),M(i,0),M(i,0),M(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),M(i,3),i.status=k);else{var d=p+(i.w_bits-8<<4)<<8;d|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=k,D(i,d),0!==i.strstart&&(D(i,e.adler>>>16),D(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),B(e),s=i.pending,i.pending!==i.pending_buf_size));)M(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),B(e),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,M(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),B(e),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,M(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.status=x)}else i.status=x;if(i.status===x&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&B(e),i.pending+2<=i.pending_buf_size&&(M(i,255&e.adler),M(i,e.adler>>8&255),e.adler=0,i.status=k)):i.status=k),0!==i.pending){if(B(e),0===e.avail_out)return i.last_flush=-1,f}else if(0===e.avail_in&&j(t)<=j(r)&&t!==u)return C(e,-5);if(i.status===A&&0!==e.avail_in)return C(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==l&&i.status!==A){var g=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(U(e),0===e.lookahead)){if(t===l)return O;break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(I(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===u?(I(e,!0),0===e.strm.avail_out?T:P):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?O:R}(i,t):3===i.strategy?function(e,t){for(var r,n,i,s,a=e.window;;){if(e.lookahead<=_){if(U(e),e.lookahead<=_&&t===l)return O;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=w&&e.strstart>0&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){s=e.strstart+_;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=_-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=w?(r=o._tr_tally(e,1,e.match_length-w),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(I(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===u?(I(e,!0),0===e.strm.avail_out?T:P):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?O:R}(i,t):n[i.level].func(i,t);if(g!==T&&g!==P||(i.status=A),g===O||g===T)return 0===e.avail_out&&(i.last_flush=-1),f;if(g===R&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(L(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),B(e),0===e.avail_out))return i.last_flush=-1,f}return t!==u?f:i.wrap<=0?1:(2===i.wrap?(M(i,255&e.adler),M(i,e.adler>>8&255),M(i,e.adler>>16&255),M(i,e.adler>>24&255),M(i,255&e.total_in),M(i,e.total_in>>8&255),M(i,e.total_in>>16&255),M(i,e.total_in>>24&255)):(D(i,e.adler>>>16),D(i,65535&e.adler)),B(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?f:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==S&&69!==t&&73!==t&&91!==t&&t!==x&&t!==k&&t!==A?C(e,h):(e.state=null,t===k?C(e,-3):f):h},t.deflateSetDictionary=function(e,t){var r,n,o,a,c,l,u,d,p=t.length;if(!e||!e.state)return h;if(2===(a=(r=e.state).wrap)||1===a&&r.status!==S||r.lookahead)return h;for(1===a&&(e.adler=s(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===a&&(L(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new i.Buf8(r.w_size),i.arraySet(d,t,p-r.w_size,r.w_size,0),t=d,p=r.w_size),c=e.avail_in,l=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,U(r);r.lookahead>=w;){n=r.strstart,o=r.lookahead-(w-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+w-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--o);r.strstart=n,r.lookahead=w-1,U(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=w-1,r.match_available=0,e.next_in=l,e.input=u,e.avail_in=c,r.wrap=a,f},t.deflateInfo="pako deflate (from Nodeca project)"},4264:e=>{"use strict";e.exports=function(e,t){var r,n,i,o,s,a,c,l,u,f,h,d,p,g,m,y,b,v,w,_,E,S,x,k,A;r=e.state,n=e.next_in,k=e.input,i=n+(e.avail_in-5),o=e.next_out,A=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),c=r.dmax,l=r.wsize,u=r.whave,f=r.wnext,h=r.window,d=r.hold,p=r.bits,g=r.lencode,m=r.distcode,y=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(d+=k[n++]<<p,p+=8,d+=k[n++]<<p,p+=8),v=g[d&y];t:for(;;){if(d>>>=w=v>>>24,p-=w,0==(w=v>>>16&255))A[o++]=65535&v;else{if(!(16&w)){if(0==(64&w)){v=g[(65535&v)+(d&(1<<w)-1)];continue t}if(32&w){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}_=65535&v,(w&=15)&&(p<w&&(d+=k[n++]<<p,p+=8),_+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=k[n++]<<p,p+=8,d+=k[n++]<<p,p+=8),v=m[d&b];r:for(;;){if(d>>>=w=v>>>24,p-=w,!(16&(w=v>>>16&255))){if(0==(64&w)){v=m[(65535&v)+(d&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(E=65535&v,p<(w&=15)&&(d+=k[n++]<<p,(p+=8)<w&&(d+=k[n++]<<p,p+=8)),(E+=d&(1<<w)-1)>c){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=w,p-=w,E>(w=o-s)){if((w=E-w)>u&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=0,x=h,0===f){if(S+=l-w,w<_){_-=w;do{A[o++]=h[S++]}while(--w);S=o-E,x=A}}else if(f<w){if(S+=l+f-w,(w-=f)<_){_-=w;do{A[o++]=h[S++]}while(--w);if(S=0,f<_){_-=w=f;do{A[o++]=h[S++]}while(--w);S=o-E,x=A}}}else if(S+=f-w,w<_){_-=w;do{A[o++]=h[S++]}while(--w);S=o-E,x=A}for(;_>2;)A[o++]=x[S++],A[o++]=x[S++],A[o++]=x[S++],_-=3;_&&(A[o++]=x[S++],_>1&&(A[o++]=x[S++]))}else{S=o-E;do{A[o++]=A[S++],A[o++]=A[S++],A[o++]=A[S++],_-=3}while(_>2);_&&(A[o++]=A[S++],_>1&&(A[o++]=A[S++]))}break}}break}}while(n<i&&o<a);n-=_=p>>3,d&=(1<<(p-=_<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=o<a?a-o+257:257-(o-a),r.hold=d,r.bits=p}},7948:(e,t,r)=>{"use strict";var n=r(4236),i=r(6069),o=r(2869),s=r(4264),a=r(9241),c=1,l=2,u=0,f=-2,h=1,d=12,p=30,g=852,m=592;function y(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(g),t.distcode=t.distdyn=new n.Buf32(m),t.sane=1,t.back=-1,u):f}function w(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,v(e)):f}function _(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?f:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,w(e))):f}function E(e,t){var r,n;return e?(n=new b,e.state=n,n.window=null,(r=_(e,t))!==u&&(e.state=null),r):f}var S,x,k=!0;function A(e){if(k){var t;for(S=new n.Buf32(512),x=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(c,e.lens,0,288,S,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(l,e.lens,0,32,x,0,e.work,{bits:5}),k=!1}e.lencode=S,e.lenbits=9,e.distcode=x,e.distbits=5}function O(e,t,r,i){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),i>=s.wsize?(n.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>i&&(o=i),n.arraySet(s.window,t,r-i,o,s.wnext),(i-=o)?(n.arraySet(s.window,t,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}t.inflateReset=w,t.inflateReset2=_,t.inflateResetKeep=v,t.inflateInit=function(e){return E(e,15)},t.inflateInit2=E,t.inflate=function(e,t){var r,g,m,b,v,w,_,E,S,x,k,R,T,P,C,j,L,B,I,M,D,N,U,F,z=0,q=new n.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return f;(r=e.state).mode===d&&(r.mode=13),v=e.next_out,m=e.output,_=e.avail_out,b=e.next_in,g=e.input,w=e.avail_in,E=r.hold,S=r.bits,x=w,k=_,N=u;e:for(;;)switch(r.mode){case h:if(0===r.wrap){r.mode=13;break}for(;S<16;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}if(2&r.wrap&&35615===E){r.check=0,q[0]=255&E,q[1]=E>>>8&255,r.check=o(r.check,q,2,0),E=0,S=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&E)<<8)+(E>>8))%31){e.msg="incorrect header check",r.mode=p;break}if(8!=(15&E)){e.msg="unknown compression method",r.mode=p;break}if(S-=4,D=8+(15&(E>>>=4)),0===r.wbits)r.wbits=D;else if(D>r.wbits){e.msg="invalid window size",r.mode=p;break}r.dmax=1<<D,e.adler=r.check=1,r.mode=512&E?10:d,E=0,S=0;break;case 2:for(;S<16;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}if(r.flags=E,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=p;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=p;break}r.head&&(r.head.text=E>>8&1),512&r.flags&&(q[0]=255&E,q[1]=E>>>8&255,r.check=o(r.check,q,2,0)),E=0,S=0,r.mode=3;case 3:for(;S<32;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}r.head&&(r.head.time=E),512&r.flags&&(q[0]=255&E,q[1]=E>>>8&255,q[2]=E>>>16&255,q[3]=E>>>24&255,r.check=o(r.check,q,4,0)),E=0,S=0,r.mode=4;case 4:for(;S<16;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}r.head&&(r.head.xflags=255&E,r.head.os=E>>8),512&r.flags&&(q[0]=255&E,q[1]=E>>>8&255,r.check=o(r.check,q,2,0)),E=0,S=0,r.mode=5;case 5:if(1024&r.flags){for(;S<16;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}r.length=E,r.head&&(r.head.extra_len=E),512&r.flags&&(q[0]=255&E,q[1]=E>>>8&255,r.check=o(r.check,q,2,0)),E=0,S=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((R=r.length)>w&&(R=w),R&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,g,b,R,D)),512&r.flags&&(r.check=o(r.check,g,R,b)),w-=R,b+=R,r.length-=R),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===w)break e;R=0;do{D=g[b+R++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D))}while(D&&R<w);if(512&r.flags&&(r.check=o(r.check,g,R,b)),w-=R,b+=R,D)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===w)break e;R=0;do{D=g[b+R++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D))}while(D&&R<w);if(512&r.flags&&(r.check=o(r.check,g,R,b)),w-=R,b+=R,D)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;S<16;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}if(E!==(65535&r.check)){e.msg="header crc mismatch",r.mode=p;break}E=0,S=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=d;break;case 10:for(;S<32;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}e.adler=r.check=y(E),E=0,S=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=v,e.avail_out=_,e.next_in=b,e.avail_in=w,r.hold=E,r.bits=S,2;e.adler=r.check=1,r.mode=d;case d:if(5===t||6===t)break e;case 13:if(r.last){E>>>=7&S,S-=7&S,r.mode=27;break}for(;S<3;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}switch(r.last=1&E,S-=1,3&(E>>>=1)){case 0:r.mode=14;break;case 1:if(A(r),r.mode=20,6===t){E>>>=2,S-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=p}E>>>=2,S-=2;break;case 14:for(E>>>=7&S,S-=7&S;S<32;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}if((65535&E)!=(E>>>16^65535)){e.msg="invalid stored block lengths",r.mode=p;break}if(r.length=65535&E,E=0,S=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(R=r.length){if(R>w&&(R=w),R>_&&(R=_),0===R)break e;n.arraySet(m,g,b,R,v),w-=R,b+=R,_-=R,v+=R,r.length-=R;break}r.mode=d;break;case 17:for(;S<14;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}if(r.nlen=257+(31&E),E>>>=5,S-=5,r.ndist=1+(31&E),E>>>=5,S-=5,r.ncode=4+(15&E),E>>>=4,S-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=p;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;S<3;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}r.lens[V[r.have++]]=7&E,E>>>=3,S-=3}for(;r.have<19;)r.lens[V[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,U={bits:r.lenbits},N=a(0,r.lens,0,19,r.lencode,0,r.work,U),r.lenbits=U.bits,N){e.msg="invalid code lengths set",r.mode=p;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;j=(z=r.lencode[E&(1<<r.lenbits)-1])>>>16&255,L=65535&z,!((C=z>>>24)<=S);){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}if(L<16)E>>>=C,S-=C,r.lens[r.have++]=L;else{if(16===L){for(F=C+2;S<F;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}if(E>>>=C,S-=C,0===r.have){e.msg="invalid bit length repeat",r.mode=p;break}D=r.lens[r.have-1],R=3+(3&E),E>>>=2,S-=2}else if(17===L){for(F=C+3;S<F;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}S-=C,D=0,R=3+(7&(E>>>=C)),E>>>=3,S-=3}else{for(F=C+7;S<F;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}S-=C,D=0,R=11+(127&(E>>>=C)),E>>>=7,S-=7}if(r.have+R>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=p;break}for(;R--;)r.lens[r.have++]=D}}if(r.mode===p)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=p;break}if(r.lenbits=9,U={bits:r.lenbits},N=a(c,r.lens,0,r.nlen,r.lencode,0,r.work,U),r.lenbits=U.bits,N){e.msg="invalid literal/lengths set",r.mode=p;break}if(r.distbits=6,r.distcode=r.distdyn,U={bits:r.distbits},N=a(l,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U),r.distbits=U.bits,N){e.msg="invalid distances set",r.mode=p;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(w>=6&&_>=258){e.next_out=v,e.avail_out=_,e.next_in=b,e.avail_in=w,r.hold=E,r.bits=S,s(e,k),v=e.next_out,m=e.output,_=e.avail_out,b=e.next_in,g=e.input,w=e.avail_in,E=r.hold,S=r.bits,r.mode===d&&(r.back=-1);break}for(r.back=0;j=(z=r.lencode[E&(1<<r.lenbits)-1])>>>16&255,L=65535&z,!((C=z>>>24)<=S);){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}if(j&&0==(240&j)){for(B=C,I=j,M=L;j=(z=r.lencode[M+((E&(1<<B+I)-1)>>B)])>>>16&255,L=65535&z,!(B+(C=z>>>24)<=S);){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}E>>>=B,S-=B,r.back+=B}if(E>>>=C,S-=C,r.back+=C,r.length=L,0===j){r.mode=26;break}if(32&j){r.back=-1,r.mode=d;break}if(64&j){e.msg="invalid literal/length code",r.mode=p;break}r.extra=15&j,r.mode=22;case 22:if(r.extra){for(F=r.extra;S<F;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}r.length+=E&(1<<r.extra)-1,E>>>=r.extra,S-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;j=(z=r.distcode[E&(1<<r.distbits)-1])>>>16&255,L=65535&z,!((C=z>>>24)<=S);){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}if(0==(240&j)){for(B=C,I=j,M=L;j=(z=r.distcode[M+((E&(1<<B+I)-1)>>B)])>>>16&255,L=65535&z,!(B+(C=z>>>24)<=S);){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}E>>>=B,S-=B,r.back+=B}if(E>>>=C,S-=C,r.back+=C,64&j){e.msg="invalid distance code",r.mode=p;break}r.offset=L,r.extra=15&j,r.mode=24;case 24:if(r.extra){for(F=r.extra;S<F;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}r.offset+=E&(1<<r.extra)-1,E>>>=r.extra,S-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=p;break}r.mode=25;case 25:if(0===_)break e;if(R=k-_,r.offset>R){if((R=r.offset-R)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=p;break}R>r.wnext?(R-=r.wnext,T=r.wsize-R):T=r.wnext-R,R>r.length&&(R=r.length),P=r.window}else P=m,T=v-r.offset,R=r.length;R>_&&(R=_),_-=R,r.length-=R;do{m[v++]=P[T++]}while(--R);0===r.length&&(r.mode=21);break;case 26:if(0===_)break e;m[v++]=r.length,_--,r.mode=21;break;case 27:if(r.wrap){for(;S<32;){if(0===w)break e;w--,E|=g[b++]<<S,S+=8}if(k-=_,e.total_out+=k,r.total+=k,k&&(e.adler=r.check=r.flags?o(r.check,m,k,v-k):i(r.check,m,k,v-k)),k=_,(r.flags?E:y(E))!==r.check){e.msg="incorrect data check",r.mode=p;break}E=0,S=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;S<32;){if(0===w)break e;w--,E+=g[b++]<<S,S+=8}if(E!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=p;break}E=0,S=0}r.mode=29;case 29:N=1;break e;case p:N=-3;break e;case 31:return-4;default:return f}return e.next_out=v,e.avail_out=_,e.next_in=b,e.avail_in=w,r.hold=E,r.bits=S,(r.wsize||k!==e.avail_out&&r.mode<p&&(r.mode<27||4!==t))&&O(e,e.output,e.next_out,k-e.avail_out)?(r.mode=31,-4):(x-=e.avail_in,k-=e.avail_out,e.total_in+=x,e.total_out+=k,r.total+=k,r.wrap&&k&&(e.adler=r.check=r.flags?o(r.check,m,k,e.next_out-k):i(r.check,m,k,e.next_out-k)),e.data_type=r.bits+(r.last?64:0)+(r.mode===d?128:0)+(20===r.mode||15===r.mode?256:0),(0===x&&0===k||4===t)&&N===u&&(N=-5),N)},t.inflateEnd=function(e){if(!e||!e.state)return f;var t=e.state;return t.window&&(t.window=null),e.state=null,u},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?f:(r.head=t,t.done=!1,u):f},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?f:11===r.mode&&i(1,t,n,0)!==r.check?-3:O(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,u):f},t.inflateInfo="pako inflate (from Nodeca project)"},9241:(e,t,r)=>{"use strict";var n=r(4236),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,c,l,u,f,h){var d,p,g,m,y,b,v,w,_,E=h.bits,S=0,x=0,k=0,A=0,O=0,R=0,T=0,P=0,C=0,j=0,L=null,B=0,I=new n.Buf16(16),M=new n.Buf16(16),D=null,N=0;for(S=0;S<=15;S++)I[S]=0;for(x=0;x<c;x++)I[t[r+x]]++;for(O=E,A=15;A>=1&&0===I[A];A--);if(O>A&&(O=A),0===A)return l[u++]=20971520,l[u++]=20971520,h.bits=1,0;for(k=1;k<A&&0===I[k];k++);for(O<k&&(O=k),P=1,S=1;S<=15;S++)if(P<<=1,(P-=I[S])<0)return-1;if(P>0&&(0===e||1!==A))return-1;for(M[1]=0,S=1;S<15;S++)M[S+1]=M[S]+I[S];for(x=0;x<c;x++)0!==t[r+x]&&(f[M[t[r+x]]++]=x);if(0===e?(L=D=f,b=19):1===e?(L=i,B-=257,D=o,N-=257,b=256):(L=s,D=a,b=-1),j=0,x=0,S=k,y=u,R=O,T=0,g=-1,m=(C=1<<O)-1,1===e&&C>852||2===e&&C>592)return 1;for(;;){v=S-T,f[x]<b?(w=0,_=f[x]):f[x]>b?(w=D[N+f[x]],_=L[B+f[x]]):(w=96,_=0),d=1<<S-T,k=p=1<<R;do{l[y+(j>>T)+(p-=d)]=v<<24|w<<16|_|0}while(0!==p);for(d=1<<S-1;j&d;)d>>=1;if(0!==d?(j&=d-1,j+=d):j=0,x++,0==--I[S]){if(S===A)break;S=t[r+f[x]]}if(S>O&&(j&m)!==g){for(0===T&&(T=O),y+=k,P=1<<(R=S-T);R+T<A&&!((P-=I[R+T])<=0);)R++,P<<=1;if(C+=1<<R,1===e&&C>852||2===e&&C>592)return 1;l[g=j&m]=O<<24|R<<16|y-u|0}}return 0!==j&&(l[y+j]=S-T<<24|64<<16|0),h.bits=O,0}},8898:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:(e,t,r)=>{"use strict";var n=r(4236);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=256,s=o+1+29,a=30,c=19,l=2*s+1,u=15,f=16,h=256,d=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],p=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],y=new Array(2*(s+2));i(y);var b=new Array(60);i(b);var v=new Array(512);i(v);var w=new Array(256);i(w);var _=new Array(29);i(_);var E,S,x,k=new Array(a);function A(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function O(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function R(e){return e<256?v[e]:v[256+(e>>>7)]}function T(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,r){e.bi_valid>f-r?(e.bi_buf|=t<<e.bi_valid&65535,T(e,e.bi_buf),e.bi_buf=t>>f-e.bi_valid,e.bi_valid+=r-f):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function C(e,t,r){P(e,r[2*t],r[2*t+1])}function j(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function L(e,t,r){var n,i,o=new Array(u+1),s=0;for(n=1;n<=u;n++)o[n]=s=s+r[n-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=j(o[a]++,a))}}function B(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<c;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*h]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function I(e){e.bi_valid>8?T(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function M(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function D(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&M(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!M(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function N(e,t,r){var n,i,s,a,c=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===n?C(e,i,t):(C(e,(s=w[i])+o+1,t),0!==(a=d[s])&&P(e,i-=_[s],a),C(e,s=R(--n),r),0!==(a=p[s])&&P(e,n-=k[s],a))}while(c<e.last_lit);C(e,h,t)}function U(e,t){var r,n,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,c=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=l,r=0;r<c;r++)0!==o[2*r]?(e.heap[++e.heap_len]=f=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=f<2?++f:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=f,r=e.heap_len>>1;r>=1;r--)D(e,o,r);i=c;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],D(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,D(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,o,s,a,c=t.dyn_tree,f=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,m=t.stat_desc.max_length,y=0;for(o=0;o<=u;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<l;r++)(o=c[2*c[2*(n=e.heap[r])+1]+1]+1)>m&&(o=m,y++),c[2*n+1]=o,n>f||(e.bl_count[o]++,s=0,n>=g&&(s=p[n-g]),a=c[2*n],e.opt_len+=a*(o+s),d&&(e.static_len+=a*(h[2*n+1]+s)));if(0!==y){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,y-=2}while(y>0);for(o=m;0!==o;o--)for(n=e.bl_count[o];0!==n;)(i=e.heap[--r])>f||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),n--)}}(e,t),L(o,f,e.bl_count)}function F(e,t,r){var n,i,o=-1,s=t[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++a<c&&i===s||(a<l?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=i,0===s?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4))}function z(e,t,r){var n,i,o=-1,s=t[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++a<c&&i===s)){if(a<l)do{C(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(C(e,i,e.bl_tree),a--),C(e,16,e.bl_tree),P(e,a-3,2)):a<=10?(C(e,17,e.bl_tree),P(e,a-3,3)):(C(e,18,e.bl_tree),P(e,a-11,7));a=0,o=i,0===s?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4)}}i(k);var q=!1;function V(e,t,r,i){P(e,0+(i?1:0),3),function(e,t,r,i){I(e),T(e,r),T(e,~r),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}t._tr_init=function(e){q||(function(){var e,t,r,n,i,l=new Array(u+1);for(r=0,n=0;n<28;n++)for(_[n]=r,e=0;e<1<<d[n];e++)w[r++]=n;for(w[r-1]=n,i=0,n=0;n<16;n++)for(k[n]=i,e=0;e<1<<p[n];e++)v[i++]=n;for(i>>=7;n<a;n++)for(k[n]=i<<7,e=0;e<1<<p[n]-7;e++)v[256+i++]=n;for(t=0;t<=u;t++)l[t]=0;for(e=0;e<=143;)y[2*e+1]=8,e++,l[8]++;for(;e<=255;)y[2*e+1]=9,e++,l[9]++;for(;e<=279;)y[2*e+1]=7,e++,l[7]++;for(;e<=287;)y[2*e+1]=8,e++,l[8]++;for(L(y,s+1,l),e=0;e<a;e++)b[2*e+1]=5,b[2*e]=j(e,5);E=new A(y,d,o+1,s,u),S=new A(b,p,0,a,u),x=new A(new Array(0),g,0,c,7)}(),q=!0),e.l_desc=new O(e.dyn_ltree,E),e.d_desc=new O(e.dyn_dtree,S),e.bl_desc=new O(e.bl_tree,x),e.bi_buf=0,e.bi_valid=0,B(e)},t._tr_stored_block=V,t._tr_flush_block=function(e,t,r,n){var i,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),U(e,e.l_desc),U(e,e.d_desc),a=function(e){var t;for(F(e,e.dyn_ltree,e.l_desc.max_code),F(e,e.dyn_dtree,e.d_desc.max_code),U(e,e.bl_desc),t=c-1;t>=3&&0===e.bl_tree[2*m[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?V(e,t,r,n):4===e.strategy||s===i?(P(e,2+(n?1:0),3),N(e,y,b)):(P(e,4+(n?1:0),3),function(e,t,r,n){var i;for(P(e,t-257,5),P(e,r-1,5),P(e,n-4,4),i=0;i<n;i++)P(e,e.bl_tree[2*m[i]+1],3);z(e,e.dyn_ltree,t-1),z(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),N(e,e.dyn_ltree,e.dyn_dtree)),B(e),n&&I(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(w[r]+o+1)]++,e.dyn_dtree[2*R(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){P(e,2,3),C(e,h,y),function(e){16===e.bi_valid?(T(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},2292:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},6470:(e,t,r)=>{"use strict";var n=r(4155);function i(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function o(e,t){for(var r,n="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",i=0):i=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var s={resolve:function(){for(var e,t="",r=!1,s=arguments.length-1;s>=-1&&!r;s--){var a;s>=0?a=arguments[s]:(void 0===e&&(e=n.cwd()),a=e),i(a),0!==a.length&&(t=a+"/"+t,r=47===a.charCodeAt(0))}return t=o(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(i(e),0===e.length)return".";var t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0!==(e=o(e,!t)).length||t||(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return i(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];i(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":s.normalize(e)},relative:function(e,t){if(i(e),i(t),e===t)return"";if((e=s.resolve(e))===(t=s.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var n=e.length,o=n-r,a=1;a<t.length&&47===t.charCodeAt(a);++a);for(var c=t.length-a,l=o<c?o:c,u=-1,f=0;f<=l;++f){if(f===l){if(c>l){if(47===t.charCodeAt(a+f))return t.slice(a+f+1);if(0===f)return t.slice(a+f)}else o>l&&(47===e.charCodeAt(r+f)?u=f:0===f&&(u=0));break}var h=e.charCodeAt(r+f);if(h!==t.charCodeAt(a+f))break;47===h&&(u=f)}var d="";for(f=r+u+1;f<=n;++f)f!==n&&47!==e.charCodeAt(f)||(0===d.length?d+="..":d+="/..");return d.length>0?d+t.slice(a+u):(a+=u,47===t.charCodeAt(a)&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(i(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"//":e.slice(0,n)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');i(e);var r,n=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,c=-1;for(r=e.length-1;r>=0;--r){var l=e.charCodeAt(r);if(47===l){if(!s){n=r+1;break}}else-1===c&&(s=!1,c=r+1),a>=0&&(l===t.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=c))}return n===o?o=c:-1===o&&(o=e.length),e.slice(n,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){n=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":e.slice(n,o)},extname:function(e){i(e);for(var t=-1,r=0,n=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===n&&(o=!1,n=a+1),46===c?-1===t?t=a:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){r=a+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){i(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,n=e.charCodeAt(0),o=47===n;o?(t.root="/",r=1):r=0;for(var s=-1,a=0,c=-1,l=!0,u=e.length-1,f=0;u>=r;--u)if(47!==(n=e.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===n?-1===s?s=u:1!==f&&(f=1):-1!==s&&(f=-1);else if(!l){a=u+1;break}return-1===s||-1===c||0===f||1===f&&s===c-1&&s===a+1?-1!==c&&(t.base=t.name=0===a&&o?e.slice(1,c):e.slice(a,c)):(0===a&&o?(t.name=e.slice(1,s),t.base=e.slice(1,c)):(t.name=e.slice(a,s),t.base=e.slice(a,c)),t.ext=e.slice(s,c)),a>0?t.dir=e.slice(0,a-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,e.exports=s},4155:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,c=[],l=!1,u=-1;function f(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&h())}function h(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},2587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(r);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var l=0;l<c;++l){var u,f,h,d,p=e[l].replace(s,"%20"),g=p.indexOf(n);g>=0?(u=p.substr(0,g),f=p.substr(g+1)):(u=p,f=""),h=decodeURIComponent(u),d=decodeURIComponent(f),t(o,h)?Array.isArray(o[h])?o[h].push(d):o[h]=[o[h],d]:o[h]=d}return o}},2182:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,i){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(r):o+encodeURIComponent(t(e[i]))})).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},7673:(e,t,r)=>{"use strict";t.decode=t.parse=r(2587),t.encode=t.stringify=r(2182)},4281:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,s,a,c;if("string"==typeof t&&(o="not ",t.substr(0,4)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var l=("number"!=typeof c&&(c=0),c+1>(a=e).length||-1===a.indexOf(".",c)?"argument":"property");s='The "'.concat(e,'" ').concat(l," ").concat(i," ").concat(n(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6753:(e,t,r)=>{"use strict";var n=r(4155),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var o=r(9481),s=r(4229);r(5717)(u,o);for(var a=i(s.prototype),c=0;c<a.length;c++){var l=a[c];u.prototype[l]||(u.prototype[l]=s.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2725:(e,t,r)=>{"use strict";e.exports=i;var n=r(4605);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(5717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},9481:(e,t,r)=>{"use strict";var n,i=r(4155);e.exports=k,k.ReadableState=x,r(7187).EventEmitter;var o,s=function(e,t){return e.listeners(t).length},a=r(2503),c=r(8764).Buffer,l=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},u=r(4616);o=u&&u.debuglog?u.debuglog("stream"):function(){};var f,h,d,p=r(7327),g=r(1195),m=r(2457).getHighWaterMark,y=r(4281).q,b=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,_=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(k,a);var E=g.errorOrDestroy,S=["error","close","destroy","pause","resume"];function x(e,t,i){n=n||r(6753),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(2553).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function k(e){if(n=n||r(6753),!(this instanceof k))return new k(e);var t=this instanceof n;this._readableState=new x(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function A(e,t,r,n,i){o("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}}(e,a);else if(i||(s=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t)),r}(a,t)),s)E(e,s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n)a.endEmitted?E(e,new _):O(e,a,t,!0);else if(a.ended)E(e,new v);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?O(e,a,t,!1):j(e,a)):O(e,a,t,!1)}else n||(a.reading=!1,j(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function O(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),j(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=g.destroy,k.prototype._undestroy=g.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),A(this,e,t,!1,r)},k.prototype.unshift=function(e){return A(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){f||(f=r(2553).StringDecoder);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var R=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(C,e))}function C(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function j(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(L,e,t))}function L(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){o("readable nexttick read 0"),e.read(0)}function M(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(F,t,e))}function F(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}k.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):P(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(r,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},k.prototype._read=function(e){E(this,new w("_read()"))},k.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===i.stdout||e===i.stderr?g:c;function c(){o("onend"),e.end()}n.endEmitted?i.nextTick(a):r.once("end",a),e.on("unpipe",(function t(i,s){o("onunpipe"),i===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",g),r.removeListener("data",f),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",l);var u=!1;function f(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==z(n.pipes,e))&&!u&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){o("onerror",t),g(),e.removeListener("error",h),0===s(e,"error")&&E(e,t)}function d(){e.removeListener("finish",p),g()}function p(){o("onfinish"),e.removeListener("close",d),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",d),e.once("finish",p),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=z(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},k.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?P(this):n.reading||i.nextTick(I,this))),r},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(B,this),r},k.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(B,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(M,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(5850)),h(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=N,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(e,t){return void 0===d&&(d=r(5167)),d(k,e,t)})},4605:(e,t,r)=>{"use strict";e.exports=u;var n=r(4281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(6753);function l(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(5717)(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new i("_transform()"))},u.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},4229:(e,t,r)=>{"use strict";var n,i=r(4155);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=k,k.WritableState=x;var s,a={deprecate:r(4927)},c=r(2503),l=r(8764).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=r(1195),h=r(2457).getHighWaterMark,d=r(4281).q,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,y=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,v=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,E=f.errorOrDestroy;function S(){}function x(e,t,s){n=n||r(6753),e=e||{},"boolean"!=typeof s&&(s=t instanceof n),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(C,e,t),e._writableState.errorEmitted=!0,E(e,n)):(o(n),e._writableState.errorEmitted=!0,E(e,n),C(e,t))}(e,r,n,t,o);else{var s=T(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||R(e,r),n?i.nextTick(O,e,r,s,o):O(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function k(e){var t=this instanceof(n=n||r(6753));if(!t&&!s.call(k,this))return new k(e);this._writableState=new x(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function A(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function O(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function R(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,A(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,f=r.callback;if(A(e,t,!1,t.objectMode?1:l.length,l,u,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(r){t.pendingcb--,r&&E(e,r),t.prefinished=!0,e.emit("prefinish"),C(e,t)}))}function C(e,t){var r=T(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(5717)(k,c),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===k&&e&&e._writableState instanceof x}})):s=function(e){return e instanceof this},k.prototype.pipe=function(){E(this,new y)},k.prototype.write=function(e,t,r){var n,o=this._writableState,s=!1,a=!o.objectMode&&(n=e,l.isBuffer(n)||n instanceof u);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=S),o.ending?function(e,t){var r=new w;E(e,r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var o;return null===r?o=new v:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(E(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else A(e,t,!1,a,n,i,o);return c}(this,o,a,e,t,r)),s},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,r){r(new g("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,C(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=f.destroy,k.prototype._undestroy=f.undestroy,k.prototype._destroy=function(e,t){t(e)}},5850:(e,t,r)=>{"use strict";var n,i=r(4155);function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(8610),a=Symbol("lastResolve"),c=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),f=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var r=e[d].read();null!==r&&(e[f]=null,e[a]=null,e[c]=null,t(p(r,!1)))}}function m(e){i.nextTick(g,e)}var y=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((o(n={get stream(){return this[d]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[l]?r(e[l]):t(p(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(p(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[h])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),y);e.exports=function(e){var t,r=Object.create(b,(o(t={},d,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:null,writable:!0}),o(t,u,{value:e._readableState.endEmitted,writable:!0}),o(t,h,{value:function(e,t){var n=r[d].read();n?(r[f]=null,r[a]=null,r[c]=null,e(p(n,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[f]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[f]=null,r[a]=null,r[c]=null,t(e)),void(r[l]=e)}var n=r[a];null!==n&&(r[f]=null,r[a]=null,r[c]=null,n(p(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}},7327:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var c=r(8764).Buffer,l=r(6854).inspect,u=l&&l.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,n,i=c.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,c.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return l(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},1195:(e,t,r)=>{"use strict";var n=r(4155);function i(e,t){s(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,e)):n.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:(e,t,r)=>{"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){a=!1,l=!0,s||o.call(t)},f=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,f=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",p),t.req?g():t.on("request",g)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",u),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",p)}}},5167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(e,t,r)=>{"use strict";var n,i=r(4281).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function l(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var u,f=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var h=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(8610)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){u||(u=e),e&&h.forEach(c),o||(h.forEach(c),f(u))}))}));return t.reduce(l)}},2457:(e,t,r)=>{"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},2503:(e,t,r)=>{e.exports=r(7187).EventEmitter},8473:(e,t,r)=>{(t=e.exports=r(9481)).Stream=t,t.Readable=t,t.Writable=r(4229),t.Duplex=r(6753),t.Transform=r(4605),t.PassThrough=r(2725),t.finished=r(8610),t.pipeline=r(9946)},9509:(e,t,r)=>{var n=r(8764),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},7668:(e,t)=>{"use strict";const{hasOwnProperty:r}=Object.prototype,n=d();n.configure=d,n.stringify=n,n.default=n,t.stringify=n,t.configure=d,e.exports=n;const i=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function o(e){return e.length<5e3&&!i.test(e)?`"${e}"`:JSON.stringify(e)}function s(e){if(e.length>200)return e.sort();for(let t=1;t<e.length;t++){const r=e[t];let n=t;for(;0!==n&&e[n-1]>r;)e[n]=e[n-1],n--;e[n]=r}return e}const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function c(e){return void 0!==a.call(e)&&0!==e.length}function l(e,t,r){e.length<r&&(r=e.length);const n=","===t?"":" ";let i=`"0":${n}${e[0]}`;for(let o=1;o<r;o++)i+=`${t}"${o}":${n}${e[o]}`;return i}function u(e,t){let n;if(r.call(e,t)&&(n=e[t],"boolean"!=typeof n))throw new TypeError(`The "${t}" argument must be of type boolean`);return void 0===n||n}function f(e,t){let n;if(r.call(e,t)){if(n=e[t],"number"!=typeof n)throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(n))throw new TypeError(`The "${t}" argument must be an integer`);if(n<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return void 0===n?1/0:n}function h(e){return 1===e?"1 item":`${e} items`}function d(e){const t=function(e){if(r.call(e,"strict")){const t=e.strict;if("boolean"!=typeof t)throw new TypeError('The "strict" argument must be of type boolean');if(t)return e=>{let t="Object can not safely be stringified. Received type "+typeof e;throw"function"!=typeof e&&(t+=` (${e.toString()})`),new Error(t)}}}(e={...e});t&&(void 0===e.bigint&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));const n=function(e){if(r.call(e,"circularValue")){const t=e.circularValue;if("string"==typeof t)return`"${t}"`;if(null==t)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}(e),i=u(e,"bigint"),a=u(e,"deterministic"),d=f(e,"maximumDepth"),p=f(e,"maximumBreadth");function g(e,r,l,u,f,m){let y=r[e];switch("object"==typeof y&&null!==y&&"function"==typeof y.toJSON&&(y=y.toJSON(e)),y=u.call(r,e,y),typeof y){case"string":return o(y);case"object":{if(null===y)return"null";if(-1!==l.indexOf(y))return n;let e="",t=",";const r=m;if(Array.isArray(y)){if(0===y.length)return"[]";if(d<l.length+1)return'"[Array]"';l.push(y),""!==f&&(e+=`\n${m+=f}`,t=`,\n${m}`);const n=Math.min(y.length,p);let i=0;for(;i<n-1;i++){const r=g(String(i),y,l,u,f,m);e+=void 0!==r?r:"null",e+=t}const o=g(String(i),y,l,u,f,m);return e+=void 0!==o?o:"null",y.length-1>p&&(e+=`${t}"... ${h(y.length-p-1)} not stringified"`),""!==f&&(e+=`\n${r}`),l.pop(),`[${e}]`}let i=Object.keys(y);const b=i.length;if(0===b)return"{}";if(d<l.length+1)return'"[Object]"';let v="",w="";""!==f&&(t=`,\n${m+=f}`,v=" ");const _=Math.min(b,p);a&&!c(y)&&(i=s(i)),l.push(y);for(let r=0;r<_;r++){const n=i[r],s=g(n,y,l,u,f,m);void 0!==s&&(e+=`${w}${o(n)}:${v}${s}`,w=t)}return b>p&&(e+=`${w}"...":${v}"${h(b-p)} not stringified"`,w=t),""!==f&&w.length>1&&(e=`\n${m}${e}\n${r}`),l.pop(),`{${e}}`}case"number":return isFinite(y)?String(y):t?t(y):"null";case"boolean":return!0===y?"true":"false";case"undefined":return;case"bigint":if(i)return String(y);default:return t?t(y):void 0}}function m(e,r,s,a,c,l){switch("object"==typeof r&&null!==r&&"function"==typeof r.toJSON&&(r=r.toJSON(e)),typeof r){case"string":return o(r);case"object":{if(null===r)return"null";if(-1!==s.indexOf(r))return n;const e=l;let t="",i=",";if(Array.isArray(r)){if(0===r.length)return"[]";if(d<s.length+1)return'"[Array]"';s.push(r),""!==c&&(t+=`\n${l+=c}`,i=`,\n${l}`);const n=Math.min(r.length,p);let o=0;for(;o<n-1;o++){const e=m(String(o),r[o],s,a,c,l);t+=void 0!==e?e:"null",t+=i}const u=m(String(o),r[o],s,a,c,l);return t+=void 0!==u?u:"null",r.length-1>p&&(t+=`${i}"... ${h(r.length-p-1)} not stringified"`),""!==c&&(t+=`\n${e}`),s.pop(),`[${t}]`}s.push(r);let u="";""!==c&&(i=`,\n${l+=c}`,u=" ");let f="";for(const e of a){const n=m(e,r[e],s,a,c,l);void 0!==n&&(t+=`${f}${o(e)}:${u}${n}`,f=i)}return""!==c&&f.length>1&&(t=`\n${l}${t}\n${e}`),s.pop(),`{${t}}`}case"number":return isFinite(r)?String(r):t?t(r):"null";case"boolean":return!0===r?"true":"false";case"undefined":return;case"bigint":if(i)return String(r);default:return t?t(r):void 0}}function y(e,r,u,f,g){switch(typeof r){case"string":return o(r);case"object":{if(null===r)return"null";if("function"==typeof r.toJSON){if("object"!=typeof(r=r.toJSON(e)))return y(e,r,u,f,g);if(null===r)return"null"}if(-1!==u.indexOf(r))return n;const t=g;if(Array.isArray(r)){if(0===r.length)return"[]";if(d<u.length+1)return'"[Array]"';u.push(r);let e=`\n${g+=f}`;const n=`,\n${g}`,i=Math.min(r.length,p);let o=0;for(;o<i-1;o++){const t=y(String(o),r[o],u,f,g);e+=void 0!==t?t:"null",e+=n}const s=y(String(o),r[o],u,f,g);return e+=void 0!==s?s:"null",r.length-1>p&&(e+=`${n}"... ${h(r.length-p-1)} not stringified"`),e+=`\n${t}`,u.pop(),`[${e}]`}let i=Object.keys(r);const m=i.length;if(0===m)return"{}";if(d<u.length+1)return'"[Object]"';const b=`,\n${g+=f}`;let v="",w="",_=Math.min(m,p);c(r)&&(v+=l(r,b,p),i=i.slice(r.length),_-=r.length,w=b),a&&(i=s(i)),u.push(r);for(let e=0;e<_;e++){const t=i[e],n=y(t,r[t],u,f,g);void 0!==n&&(v+=`${w}${o(t)}: ${n}`,w=b)}return m>p&&(v+=`${w}"...": "${h(m-p)} not stringified"`,w=b),""!==w&&(v=`\n${g}${v}\n${t}`),u.pop(),`{${v}}`}case"number":return isFinite(r)?String(r):t?t(r):"null";case"boolean":return!0===r?"true":"false";case"undefined":return;case"bigint":if(i)return String(r);default:return t?t(r):void 0}}function b(e,r,u){switch(typeof r){case"string":return o(r);case"object":{if(null===r)return"null";if("function"==typeof r.toJSON){if("object"!=typeof(r=r.toJSON(e)))return b(e,r,u);if(null===r)return"null"}if(-1!==u.indexOf(r))return n;let t="";if(Array.isArray(r)){if(0===r.length)return"[]";if(d<u.length+1)return'"[Array]"';u.push(r);const e=Math.min(r.length,p);let n=0;for(;n<e-1;n++){const e=b(String(n),r[n],u);t+=void 0!==e?e:"null",t+=","}const i=b(String(n),r[n],u);return t+=void 0!==i?i:"null",r.length-1>p&&(t+=`,"... ${h(r.length-p-1)} not stringified"`),u.pop(),`[${t}]`}let i=Object.keys(r);const f=i.length;if(0===f)return"{}";if(d<u.length+1)return'"[Object]"';let g="",m=Math.min(f,p);c(r)&&(t+=l(r,",",p),i=i.slice(r.length),m-=r.length,g=","),a&&(i=s(i)),u.push(r);for(let e=0;e<m;e++){const n=i[e],s=b(n,r[n],u);void 0!==s&&(t+=`${g}${o(n)}:${s}`,g=",")}return f>p&&(t+=`${g}"...":"${h(f-p)} not stringified"`),u.pop(),`{${t}}`}case"number":return isFinite(r)?String(r):t?t(r):"null";case"boolean":return!0===r?"true":"false";case"undefined":return;case"bigint":if(i)return String(r);default:return t?t(r):void 0}}return function(e,t,r){if(arguments.length>1){let n="";if("number"==typeof r?n=" ".repeat(Math.min(r,10)):"string"==typeof r&&(n=r.slice(0,10)),null!=t){if("function"==typeof t)return g("",{"":e},[],t,n,"");if(Array.isArray(t))return m("",e,[],function(e){const t=new Set;for(const r of e)"string"!=typeof r&&"number"!=typeof r||t.add(String(r));return t}(t),n,"")}if(0!==n.length)return y("",e,[],n,"")}return b("",e,[])}}},4889:function(e,t,r){var n=r(4155);!function(e,t){"use strict";if(!e.setImmediate){var r,i,o,s,a,c=1,l={},u=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){n.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[c]=i,r(c),c++},h.clearImmediate=d}function d(e){delete l[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(undefined,r)}}(t)}finally{d(e),u=!1}}}}}("undefined"==typeof self?void 0===r.g?this:r.g:self)},7911:(e,t)=>{function r(e){for(var t in e)this[t]=e[t]}t.get=function(e){var r=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var n={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(n,e||t.get);var o=n.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=r,o},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map((function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var r=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(r){var n=null,i=null,o=null,s=null,a=null,c="native"===r[5];if(r[1]){var l=(o=r[1]).lastIndexOf(".");if("."==o[l-1]&&l--,l>0){n=o.substr(0,l),i=o.substr(l+1);var u=n.indexOf(".Module");u>0&&(o=o.substr(u+1),n=n.substr(0,u))}s=null}i&&(s=n,a=i),"<anonymous>"===i&&(a=null,o=null);var f={fileName:r[2]||null,lineNumber:parseInt(r[3],10)||null,functionName:o,typeName:s,methodName:a,columnNumber:parseInt(r[4],10)||null,native:c};return t._createParsedCallSite(f)}})).filter((function(e){return!!e}))},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach((function(e){r.prototype[e]=null,r.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),["topLevel","eval","native","constructor"].forEach((function(e){r.prototype[e]=!1,r.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),t._createParsedCallSite=function(e){return new r(e)}},2830:(e,t,r)=>{e.exports=i;var n=r(7187).EventEmitter;function i(){n.call(this)}r(5717)(i,n),i.Readable=r(9481),i.Writable=r(4229),i.Duplex=r(6753),i.Transform=r(4605),i.PassThrough=r(2725),i.finished=r(8610),i.pipeline=r(9946),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",c));var s=!1;function a(){s||(s=!0,e.end())}function c(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(u(),0===n.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",l),e.on("error",l),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e}},8501:(e,t,r)=>{var n=r(1989),i=r(5676),o=r(7529),s=r(584),a=r(8575),c=t;c.request=function(e,t){e="string"==typeof e?a.parse(e):o(e);var i=-1===r.g.location.protocol.search(/^https?:$/)?"http:":"",s=e.protocol||i,c=e.hostname||e.host,l=e.port,u=e.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),e.url=(c?s+"//"+c:"")+(l?":"+l:"")+u,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new n(e);return t&&f.on("response",t),f},c.get=function(e,t){var r=c.request(e,t);return r.end(),r},c.ClientRequest=n,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},8725:(e,t,r)=>{var n;function i(){if(void 0!==n)return n;if(r.g.XMLHttpRequest){n=new r.g.XMLHttpRequest;try{n.open("GET",r.g.XDomainRequest?"/":"https://example.com")}catch(e){n=null}}else n=null;return n}function o(e){var t=i();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function s(e){return"function"==typeof e}t.fetch=s(r.g.fetch)&&s(r.g.ReadableStream),t.writableStream=s(r.g.WritableStream),t.abortController=s(r.g.AbortController),t.arraybuffer=t.fetch||o("arraybuffer"),t.msstream=!t.fetch&&o("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!i()&&s(i().overrideMimeType),n=null},1989:(e,t,r)=>{var n=r(8764).Buffer,i=r(4155),o=r(8725),s=r(5717),a=r(5676),c=r(8473),l=a.IncomingMessage,u=a.readyStates,f=e.exports=function(e){var t,r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+n.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":"text"}(t,i),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",(function(){r._onFinish()}))};s(f,c.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===h.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var n=e._headers,s=null;"GET"!==t.method&&"HEAD"!==t.method&&(s=new Blob(e._body,{type:(n["content-type"]||{}).value||""}));var a=[];if(Object.keys(n).forEach((function(e){var t=n[e].name,r=n[e].value;Array.isArray(r)?r.forEach((function(e){a.push([t,e])})):a.push([t,r])})),"fetch"===e._mode){var c=null;if(o.abortController){var l=new AbortController;c=l.signal,e._fetchAbortController=l,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=r.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}r.g.fetch(e._opts.url,{method:e._opts.method,headers:a,body:s||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:c}).then((function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()}),(function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)}))}else{var f=e._xhr=new r.g.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}"responseType"in f&&(f.responseType=e._mode),"withCredentials"in f&&(f.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(f.timeout=t.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),a.forEach((function(e){f.setRequestHeader(e[0],e[1])})),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case u.LOADING:case u.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{f.send(s)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}}}},f.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype._resetTimers=function(e){var t=this;r.g.clearTimeout(t._socketTimer),t._socketTimer=null,e?(r.g.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=r.g.setTimeout((function(){t.emit("timeout")}),t._socketTimeout))},f.prototype.abort=f.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)},f.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),c.Writable.prototype.end.call(this,e,t,r)},f.prototype.setTimeout=function(e,t){var r=this;t&&r.once("timeout",t),r._socketTimeout=e,r._resetTimers(!1)},f.prototype.flushHeaders=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},5676:(e,t,r)=>{var n=r(4155),i=r(8764).Buffer,o=r(8725),s=r(5717),a=r(8473),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=t.IncomingMessage=function(e,t,r,s){var c=this;if(a.Readable.call(c),c._mode=r,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){n.nextTick((function(){c.emit("close")}))})),"fetch"===r){if(c._fetchResponse=t,c.url=t.url,c.statusCode=t.status,c.statusMessage=t.statusText,t.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),o.writableStream){var l=new WritableStream({write:function(e){return s(!1),new Promise((function(t,r){c._destroyed?r():c.push(i.from(e))?t():c._resumeFetch=t}))},close:function(){s(!0),c._destroyed||c.push(null)},abort:function(e){s(!0),c._destroyed||c.emit("error",e)}});try{return void t.body.pipeTo(l).catch((function(e){s(!0),c._destroyed||c.emit("error",e)}))}catch(e){}}var u=t.body.getReader();!function e(){u.read().then((function(t){c._destroyed||(s(t.done),t.done?c.push(null):(c.push(i.from(t.value)),e()))})).catch((function(e){s(!0),c._destroyed||c.emit("error",e)}))}()}else if(c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!o.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var h=f.match(/;\s*charset=([^;])(;|$)/);h&&(c._charset=h[1].toLowerCase())}c._charset||(c._charset="utf-8")}};s(l,a.Readable),l.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},l.prototype._onXHRProgress=function(e){var t=this,n=t._xhr,o=null;switch(t._mode){case"text":if((o=n.responseText).length>t._pos){var s=o.substr(t._pos);if("x-user-defined"===t._charset){for(var a=i.alloc(s.length),l=0;l<s.length;l++)a[l]=255&s.charCodeAt(l);t.push(a)}else t.push(s,t._charset);t._pos=o.length}break;case"arraybuffer":if(n.readyState!==c.DONE||!n.response)break;o=n.response,t.push(i.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=n.response,n.readyState!==c.LOADING||!o)break;t.push(i.from(new Uint8Array(o)));break;case"ms-stream":if(o=n.response,n.readyState!==c.LOADING)break;var u=new r.g.MSStreamReader;u.onprogress=function(){u.result.byteLength>t._pos&&(t.push(i.from(new Uint8Array(u.result.slice(t._pos)))),t._pos=u.result.byteLength)},u.onload=function(){e(!0),t.push(null)},u.readAsArrayBuffer(o)}t._xhr.readyState===c.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}},2553:(e,t,r)=>{"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},9273:(e,t)=>{"use strict";t.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},t.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},5243:(e,t,r)=>{"use strict";Object.defineProperty(t,"cli",{value:r(9273)}),Object.defineProperty(t,"npm",{value:r(2459)}),Object.defineProperty(t,"syslog",{value:r(1945)})},2459:(e,t)=>{"use strict";t.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},t.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},1945:(e,t)=>{"use strict";t.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},t.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},5396:(e,t,r)=>{"use strict";Object.defineProperty(t,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(t,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(t,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(t,"configs",{value:r(5243)})},2511:function(e,t,r){var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,c=36,l=26,u=38,f=700,h=/^xn--/,d=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=c-1,y=Math.floor,b=String.fromCharCode;function v(e){throw RangeError(g[e])}function w(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function _(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+w((e=e.replace(p,".")).split("."),t).join(".")}function E(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function S(e){return w(e,(function(e){var t="";return e>65535&&(t+=b((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+b(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,r){var n=0;for(e=r?y(e/f):e>>1,e+=y(e/t);e>m*l>>1;n+=c)e=y(e/m);return y(n+(m+1)*e/(e+u))}function A(e){var t,r,n,i,o,s,u,f,h,d,p,g=[],m=e.length,b=0,w=128,_=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&v("not-basic"),g.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=b,s=1,u=c;i>=m&&v("invalid-input"),((f=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:c)>=c||f>y((a-b)/s))&&v("overflow"),b+=f*s,!(f<(h=u<=_?1:u>=_+l?l:u-_));u+=c)s>y(a/(d=c-h))&&v("overflow"),s*=d;_=k(b-o,t=g.length+1,0==o),y(b/t)>a-w&&v("overflow"),w+=y(b/t),b%=t,g.splice(b++,0,w)}return S(g)}function O(e){var t,r,n,i,o,s,u,f,h,d,p,g,m,w,_,S=[];for(g=(e=E(e)).length,t=128,r=0,o=72,s=0;s<g;++s)(p=e[s])<128&&S.push(b(p));for(n=i=S.length,i&&S.push("-");n<g;){for(u=a,s=0;s<g;++s)(p=e[s])>=t&&p<u&&(u=p);for(u-t>y((a-r)/(m=n+1))&&v("overflow"),r+=(u-t)*m,t=u,s=0;s<g;++s)if((p=e[s])<t&&++r>a&&v("overflow"),p==t){for(f=r,h=c;!(f<(d=h<=o?1:h>=o+l?l:h-o));h+=c)_=f-d,w=c-d,S.push(b(x(d+_%w,0))),f=y(_/w);S.push(b(x(f,0))),o=k(r,m,n==i),r=0,++n}++r,++t}return S.join("")}s={version:"1.3.2",ucs2:{decode:E,encode:S},decode:A,encode:O,toASCII:function(e){return _(e,(function(e){return d.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return _(e,(function(e){return h.test(e)?A(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},8575:(e,t,r)=>{"use strict";var n=r(2511),i=r(2502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=v(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),f=["%","/","?",";","#"].concat(u),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r(7673);function v(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var v=e=l.join(a);if(v=v.trim(),!r&&1===e.split("#").length){var w=c.exec(v);if(w)return this.path=v,this.href=v,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=s.exec(v);if(_){var E=(_=_[0]).toLowerCase();this.protocol=E,v=v.substr(_.length)}if(r||_||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===v.substr(0,2);!S||_&&m[_]||(v=v.substr(2),this.slashes=!0)}if(!m[_]&&(S||_&&!y[_])){for(var x,k,A=-1,O=0;O<h.length;O++)-1!==(R=v.indexOf(h[O]))&&(-1===A||R<A)&&(A=R);for(-1!==(k=-1===A?v.lastIndexOf("@"):v.lastIndexOf("@",A))&&(x=v.slice(0,k),v=v.slice(k+1),this.auth=decodeURIComponent(x)),A=-1,O=0;O<f.length;O++){var R;-1!==(R=v.indexOf(f[O]))&&(-1===A||R<A)&&(A=R)}-1===A&&(A=v.length),this.host=v.slice(0,A),v=v.slice(A),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var P=this.hostname.split(/\./),C=(O=0,P.length);O<C;O++){var j=P[O];if(j&&!j.match(d)){for(var L="",B=0,I=j.length;B<I;B++)j.charCodeAt(B)>127?L+="x":L+=j[B];if(!L.match(d)){var M=P.slice(0,O),D=P.slice(O+1),N=j.match(p);N&&(M.push(N[1]),D.unshift(N[2])),D.length&&(v="/"+D.join(".")+v),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+U,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!g[E])for(O=0,C=u.length;O<C;O++){var z=u[O];if(-1!==v.indexOf(z)){var q=encodeURIComponent(z);q===z&&(q=escape(z)),v=v.split(z).join(q)}}var V=v.indexOf("#");-1!==V&&(this.hash=v.substr(V),v=v.slice(0,V));var Z=v.indexOf("?");if(-1!==Z?(this.search=v.substr(Z),this.query=v.substr(Z+1),t&&(this.query=b.parse(this.query)),v=v.slice(0,Z)):t&&(this.search="",this.query={}),v&&(this.pathname=v),y[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var H=this.search||"";this.path=U+H}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(r[u]=e[u])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var d=f[h];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||m[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",b=r.search||"";r.path=g+b}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||v||r.host&&e.pathname,E=_,S=r.pathname&&r.pathname.split("/")||[],x=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),_=_&&(""===p[0]||""===S[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search))return x&&(r.hostname=r.host=S.shift(),(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift())),r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var k=S.slice(-1)[0],A=(r.host||e.host||S.length>1)&&("."===k||".."===k)||""===k,O=0,R=S.length;R>=0;R--)"."===(k=S[R])?S.splice(R,1):".."===k?(S.splice(R,1),O++):O&&(S.splice(R,1),O--);if(!_&&!E)for(;O--;O)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),A&&"/"!==S.join("/").substr(-1)&&S.push("");var T,P=""===S[0]||S[0]&&"/"===S[0].charAt(0);return x&&(r.hostname=r.host=P?"":S.length?S.shift():"",(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift())),(_=_||r.host&&S.length)&&!P&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},4927:(e,t,r)=>{var n=r(5108);function i(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?n.trace(t):n.warn(t),r=!0}return e.apply(this,arguments)}}},384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},5955:(e,t,r)=>{"use strict";var n=r(2584),i=r(8662),o=r(6430),s=r(5692);function a(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,l="undefined"!=typeof Symbol,u=a(Object.prototype.toString),f=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(c)var p=a(BigInt.prototype.valueOf);if(l)var g=a(Symbol.prototype.valueOf);function m(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===u(e)}function b(e){return"[object Set]"===u(e)}function v(e){return"[object WeakMap]"===u(e)}function w(e){return"[object WeakSet]"===u(e)}function _(e){return"[object ArrayBuffer]"===u(e)}function E(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function S(e){return"[object DataView]"===u(e)}function x(e){return"undefined"!=typeof DataView&&(S.working?S(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||x(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},y.working="undefined"!=typeof Map&&y(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),t.isWeakSet=function(e){return w(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=E,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=x;var k="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function A(e){return"[object SharedArrayBuffer]"===u(e)}function O(e){return void 0!==k&&(void 0===A.working&&(A.working=A(new k)),A.working?A(e):e instanceof k)}function R(e){return m(e,f)}function T(e){return m(e,h)}function P(e){return m(e,d)}function C(e){return c&&m(e,p)}function j(e){return l&&m(e,g)}t.isSharedArrayBuffer=O,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===u(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===u(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===u(e)},t.isGeneratorObject=function(e){return"[object Generator]"===u(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===u(e)},t.isNumberObject=R,t.isStringObject=T,t.isBooleanObject=P,t.isBigIntObject=C,t.isSymbolObject=j,t.isBoxedPrimitive=function(e){return R(e)||T(e)||P(e)||C(e)||j(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(E(e)||O(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},9539:(e,t,r)=>{var n=r(4155),i=r(5108),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},s=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(s,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),a=n[r];r<i;a=n[++r])b(a)||!S(a)?o+=" "+a:o+=" "+u(a);return o},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?i.trace(r):i.error(r),o=!0}return e.apply(this,arguments)}};var a={},c=/^$/;if(n.env.NODE_DEBUG){var l=n.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+l+"$","i")}function u(e,r){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),d(n,e,n.depth)}function f(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function h(e,t){return e}function d(e,r,n){if(e.customInspect&&r&&A(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return w(i)||(i=d(e,i,n)),i}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return v(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),k(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(r);if(0===s.length){if(A(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(E(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(x(r))return e.stylize(Date.prototype.toString.call(r),"date");if(k(r))return p(r)}var l,u="",f=!1,h=["{","}"];return m(r)&&(f=!0,h=["[","]"]),A(r)&&(u=" [Function"+(r.name?": "+r.name:"")+"]"),E(r)&&(u=" "+RegExp.prototype.toString.call(r)),x(r)&&(u=" "+Date.prototype.toUTCString.call(r)),k(r)&&(u=" "+p(r)),0!==s.length||f&&0!=r.length?n<0?E(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=f?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)P(t,String(s))?o.push(g(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(g(e,t,r,n,i,!0))})),o}(e,r,n,a,s):s.map((function(t){return g(e,r,n,a,t,f)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(l,u,h)):h[0]+u+h[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,r,n,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),P(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=b(r)?d(e,c.value,null):d(e,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function m(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function b(e){return null===e}function v(e){return"number"==typeof e}function w(e){return"string"==typeof e}function _(e){return void 0===e}function E(e){return S(e)&&"[object RegExp]"===O(e)}function S(e){return"object"==typeof e&&null!==e}function x(e){return S(e)&&"[object Date]"===O(e)}function k(e){return S(e)&&("[object Error]"===O(e)||e instanceof Error)}function A(e){return"function"==typeof e}function O(e){return Object.prototype.toString.call(e)}function R(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!a[e])if(c.test(e)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(5955),t.isArray=m,t.isBoolean=y,t.isNull=b,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=w,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=E,t.types.isRegExp=E,t.isObject=S,t.isDate=x,t.types.isDate=x,t.isError=k,t.types.isNativeError=k,t.isFunction=A,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(384);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;i.log("%s - %s",(r=[R((e=new Date).getHours()),R(e.getMinutes()),R(e.getSeconds())].join(":"),[e.getDate(),T[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(5717),t._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=C,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(s.bind(null,null,e))}),(function(e){n.nextTick(j.bind(null,e,s))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},6430:(e,t,r)=>{"use strict";var n=r(4029),i=r(3083),o=r(1924),s=r(7296),a=o("Object.prototype.toString"),c=r(6410)(),l="undefined"==typeof globalThis?r.g:globalThis,u=i(),f=o("String.prototype.slice"),h={},d=Object.getPrototypeOf;c&&s&&d&&n(u,(function(e){if("function"==typeof l[e]){var t=new l[e];if(Symbol.toStringTag in t){var r=d(t),n=s(r,Symbol.toStringTag);if(!n){var i=d(r);n=s(i,Symbol.toStringTag)}h[e]=n.get}}}));var p=r(5692);e.exports=function(e){return!!p(e)&&(c&&Symbol.toStringTag in e?function(e){var t=!1;return n(h,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):f(a(e),8,-1))}},4307:(e,t,r)=>{"use strict";var n=r(9539),i=r(4229),o=r(5396).LEVEL,s=e.exports=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.call(this,{objectMode:!0,highWaterMark:t.highWaterMark}),this.format=t.format,this.level=t.level,this.handleExceptions=t.handleExceptions,this.handleRejections=t.handleRejections,this.silent=t.silent,t.log&&(this.log=t.log),t.logv&&(this.logv=t.logv),t.close&&(this.close=t.close),this.once("pipe",(function(t){e.levels=t.levels,e.parent=t})),this.once("unpipe",(function(t){t===e.parent&&(e.parent=null,e.close&&e.close())}))};n.inherits(s,i),s.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);var n=this.level||this.parent&&this.parent.level;if(!n||this.levels[n]>=this.levels[e[o]]){if(e&&!this.format)return this.log(e,r);var i=void 0,s=void 0;try{s=this.format.transform(Object.assign({},e),this.format.options)}catch(e){i=e}if(i||!s){if(r(),i)throw i;return}return this.log(s,r)}return this._writableState.sync=!1,r(null)},s.prototype._writev=function(e,t){if(this.logv){var r=e.filter(this._accept,this);return r.length?this.logv(r,t):t(null)}for(var n=0;n<e.length;n++)if(this._accept(e[n]))if(!e[n].chunk||this.format){var i=void 0,o=void 0;try{o=this.format.transform(Object.assign({},e[n].chunk),this.format.options)}catch(e){i=e}if(i||!o){if(e[n].callback(),i)throw t(null),i}else this.log(o,e[n].callback)}else this.log(e[n].chunk,e[n].callback);return t(null)},s.prototype._accept=function(e){var t=e.chunk;if(this.silent)return!1;var r=this.level||this.parent&&this.parent.level;return!(!0!==t.exception&&r&&!(this.levels[r]>=this.levels[t[o]])||!this.handleExceptions&&!0===t.exception)},s.prototype._nop=function(){},e.exports.LegacyTransportStream=r(5686)},5686:(e,t,r)=>{"use strict";var n=r(5108),i=r(9539),o=r(5396).LEVEL,s=r(4307),a=e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s.call(this,e),!e.transport||"function"!=typeof e.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(e){this.emit("error",e,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};i.inherits(a,s),a.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);(!this.level||this.levels[this.level]>=this.levels[e[o]])&&this.transport.log(e[o],e.message,e,this._nop),r(null)},a.prototype._writev=function(e,t){for(var r=0;r<e.length;r++)this._accept(e[r])&&(this.transport.log(e[r].chunk[o],e[r].chunk.message,e[r].chunk,this._nop),e[r].callback());return t(null)},a.prototype._deprecated=function(){n.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},a.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},4201:(e,t,r)=>{"use strict";var n=r(5108);const i=r(9539),{LEVEL:o}=r(5396),s=r(4307),a=e.exports=function(e={}){if(s.call(this,e),!e.transport||"function"!=typeof e.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(e){this.emit("error",e,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};i.inherits(a,s),a.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);(!this.level||this.levels[this.level]>=this.levels[e[o]])&&this.transport.log(e[o],e.message,e,this._nop),r(null)},a.prototype._writev=function(e,t){for(let t=0;t<e.length;t++)this._accept(e[t])&&(this.transport.log(e[t].chunk[o],e[t].chunk.message,e[t].chunk,this._nop),e[t].callback());return t(null)},a.prototype._deprecated=function(){n.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},a.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},5832:(e,t,r)=>{"use strict";var n=r(6850),i=r(3221).warn;t.version=r(2561).version,t.transports=r(557),t.config=r(8953),t.addColors=n.levels,t.format=n.format,t.createLogger=r(3040),t.Logger=r(7803),t.ExceptionHandler=r(9796),t.RejectionHandler=r(4841),t.Container=r(5100),t.Transport=r(4307),t.loggers=new t.Container;var o=t.createLogger();Object.keys(t.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach((function(e){return t[e]=function(){return o[e].apply(o,arguments)}})),Object.defineProperty(t,"level",{get:function(){return o.level},set:function(e){o.level=e}}),Object.defineProperty(t,"exceptions",{get:function(){return o.exceptions}}),["exitOnError"].forEach((function(e){Object.defineProperty(t,e,{get:function(){return o[e]},set:function(t){o[e]=t}})})),Object.defineProperty(t,"default",{get:function(){return{exceptionHandlers:o.exceptionHandlers,rejectionHandlers:o.rejectionHandlers,transports:o.transports}}}),i.deprecated(t,"setLevels"),i.forFunctions(t,"useFormat",["cli"]),i.forProperties(t,"useFormat",["padLevels","stripColors"]),i.forFunctions(t,"deprecated",["addRewriter","addFilter","clone","extend"]),i.forProperties(t,"deprecated",["emitErrs","levelLength"])},3221:(e,t,r)=>{"use strict";var n=r(9539).format;t.warn={deprecated:function(e){return function(){throw new Error(n("{ %s } was removed in winston@3.0.0.",e))}},useFormat:function(e){return function(){throw new Error([n("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join("\n"))}},forFunctions:function(e,r,n){n.forEach((function(n){e[n]=t.warn[r](n)}))},forProperties:function(e,r,n){n.forEach((function(n){var i=t.warn[r](n);Object.defineProperty(e,n,{get:i,set:i})}))}}},8953:(e,t,r)=>{"use strict";var n=r(6850),i=r(5396).configs;t.cli=n.levels(i.cli),t.npm=n.levels(i.npm),t.syslog=n.levels(i.syslog),t.addColors=n.levels},5100:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===n(o)?o:String(o)),i)}var o}var o=r(3040);e.exports=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loggers=new Map,this.options=t}var t,r;return t=e,(r=[{key:"add",value:function(e,t){var r=this;if(!this.loggers.has(e)){var n=(t=Object.assign({},t||this.options)).transports||this.options.transports;t.transports=n?Array.isArray(n)?n.slice():[n]:[];var i=o(t);i.on("close",(function(){return r._delete(e)})),this.loggers.set(e,i)}return this.loggers.get(e)}},{key:"get",value:function(e,t){return this.add(e,t)}},{key:"has",value:function(e){return!!this.loggers.has(e)}},{key:"close",value:function(e){var t=this;if(e)return this._removeLogger(e);this.loggers.forEach((function(e,r){return t._removeLogger(r)}))}},{key:"_removeLogger",value:function(e){this.loggers.has(e)&&(this.loggers.get(e).close(),this._delete(e))}},{key:"_delete",value:function(e){this.loggers.delete(e)}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},3040:(e,t,r)=>{"use strict";var n=r(5108);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var a=r(5396).LEVEL,c=r(8953),l=r(7803),u=r(2524)("winston:create-logger");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.levels=e.levels||c.npm.levels;var t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(c,e);var t,r,n,a=(r=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(n){var o=s(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,e)}return t=c,Object.defineProperty(t,"prototype",{writable:!1}),t}(l),r=new t(e);return Object.keys(e.levels).forEach((function(e){u('Define prototype method for "%s"',e),"log"!==e?(t.prototype[e]=function(){for(var t=this||r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];if(1===i.length){var s=i[0],c=s&&s.message&&s||{message:s};return c.level=c[a]=e,t._addDefaultMeta(c),t.write(c),this||r}return 0===i.length?(t.log(e,""),t):t.log.apply(t,[e].concat(i))},t.prototype[function(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}(e)]=function(){return(this||r).isLevelEnabled(e)}):n.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')})),r}},9796:(e,t,r)=>{"use strict";var n=r(4155),i=r(5108);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}var a=r(7435),c=r(8058),l=r(2524)("winston:exception"),u=r(3138),f=r(7911),h=r(288);e.exports=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Logger is required to handle exceptions");this.logger=t,this.handlers=new Map}var t,r;return t=e,r=[{key:"handle",value:function(){for(var e=this,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];r.forEach((function(t){if(Array.isArray(t))return t.forEach((function(t){return e._addHandler(t)}));e._addHandler(t)})),this.catcher||(this.catcher=this._uncaughtException.bind(this),n.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var e=this;this.catcher&&(n.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((function(t){return e.logger.unpipe(t)})))}},{key:"getAllInfo",value:function(e){var t=null;return e&&(t="string"==typeof e?e:e.message),{error:e,level:"error",message:["uncaughtException: ".concat(t||"(no error message)"),e&&e.stack||"  No stack trace"].join("\n"),stack:e&&e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}},{key:"getProcessInfo",value:function(){return{pid:n.pid,uid:n.getuid?n.getuid():null,gid:n.getgid?n.getgid():null,cwd:n.cwd(),execPath:n.execPath,version:n.version,argv:n.argv,memoryUsage:n.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:a.loadavg(),uptime:a.uptime()}}},{key:"getTrace",value:function(e){return(e?f.parse(e):f.get()).map((function(e){return{column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}}))}},{key:"_addHandler",value:function(e){if(!this.handlers.has(e)){e.handleExceptions=!0;var t=new h(e);this.handlers.set(e,t),this.logger.pipe(t)}}},{key:"_uncaughtException",value:function(e){var t,r=this.getAllInfo(e),o=this._getExceptionHandlers(),s="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function a(){l("doExit",s),l("process._exiting",n._exiting),s&&!n._exiting&&(t&&clearTimeout(t),n.exit(1))}if(!o.length&&s&&(i.warn("winston: exitOnError cannot be true with no exception handlers."),i.warn("winston: not exiting process."),s=!1),!o||0===o.length)return n.nextTick(a);c(o,(function(e,t){var r=u(t),n=e.transport||e;function i(e){return function(){l(e),r()}}n._ending=!0,n.once("finish",i("finished")),n.once("error",i("error"))}),(function(){return s&&a()})),this.logger.log(r),s&&(t=setTimeout(a,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter((function(e){return(e.transport||e).handleExceptions}))}}],r&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},288:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===n(o)?o:String(o)),i)}var o}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var a=r(8473).Writable;e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,r,a,c,l=(a=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(a);if(c){var r=s(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t=l.call(this,{objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");return t.handleExceptions=!0,t.transport=e,t}return t=u,(r=[{key:"_write",value:function(e,t,r){return e.exception?this.transport.log(e,r):(r(),!0)}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(a)},7803:(e,t,r)=>{"use strict";var n=r(5108);function i(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=r(8473),f=u.Stream,h=u.Transform,d=r(8058),p=r(5396),g=p.LEVEL,m=p.SPLAT,y=r(4970),b=r(9796),v=r(4841),w=r(4201),_=r(5140),E=r(3221).warn,S=r(8953),x=/%[scdjifoO%]/g,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(k,e);var t,a,u,h,p=(u=k,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(u);if(h){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function k(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),(t=p.call(this,{objectMode:!0})).configure(e),t}return t=k,a=[{key:"child",value:function(e){var t=this;return Object.create(t,{write:{value:function(r){var n=Object.assign({},e,r);r instanceof Error&&(n.stack=r.stack,n.message=r.message),t.write(n)}}})}},{key:"configure",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.silent,i=t.format,o=t.defaultMeta,s=t.levels,a=t.level,c=void 0===a?"info":a,l=t.exitOnError,u=void 0===l||l,f=t.transports,h=t.colors,d=t.emitErrs,p=t.formatters,g=t.padLevels,m=t.rewriters,y=t.stripColors,w=t.exceptionHandlers,_=t.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=n,this.format=i||this.format||r(3922)(),this.defaultMeta=o||null,this.levels=s||this.levels||S.npm.levels,this.level=c,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new b(this),this.rejections=new v(this),this.profilers={},this.exitOnError=u,f&&(f=Array.isArray(f)?f:[f]).forEach((function(t){return e.add(t)})),h||d||p||g||m||y)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));w&&this.exceptions.handle(w),_&&this.rejections.handle(_)}},{key:"isLevelEnabled",value:function(e){var t=this,r=A(this.levels,e);if(null===r)return!1;var n=A(this.levels,this.level);return null!==n&&(this.transports&&0!==this.transports.length?-1!==this.transports.findIndex((function(e){var i=A(t.levels,e.level);return null===i&&(i=n),i>=r})):n>=r)}},{key:"log",value:function(e,t){for(var r,n,s=arguments.length,a=new Array(s>2?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];if(1===arguments.length)return e[g]=e.level,this._addDefaultMeta(e),this.write(e),this;if(2===arguments.length)return t&&"object"===o(t)?(t[g]=t.level=e,this._addDefaultMeta(t),this.write(t),this):(i(n={},g,e),i(n,"level",e),i(n,"message",t),t=n,this._addDefaultMeta(t),this.write(t),this);var l=a[0];if("object"===o(l)&&null!==l&&!(t&&t.match&&t.match(x))){var u,f=Object.assign({},this.defaultMeta,l,(i(u={},g,e),i(u,m,a),i(u,"level",e),i(u,"message",t),u));return l.message&&(f.message="".concat(f.message," ").concat(l.message)),l.stack&&(f.stack=l.stack),this.write(f),this}return this.write(Object.assign({},this.defaultMeta,(i(r={},g,e),i(r,m,a),i(r,"level",e),i(r,"message",t),r))),this}},{key:"_transform",value:function(e,t,r){if(this.silent)return r();e[g]||(e[g]=e.level),this.levels[e[g]]||0===this.levels[e[g]]||n.error("[winston] Unknown logger level: %s",e[g]),this._readableState.pipes||n.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",e);try{this.push(this.format.transform(e,this.format.options))}finally{this._writableState.sync=!1,r()}}},{key:"_final",value:function(e){var t=this.transports.slice();d(t,(function(e,t){if(!e||e.finished)return setImmediate(t);e.once("finish",t),e.end()}),e)}},{key:"add",value:function(e){var t=!y(e)||e.log.length>2?new w({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",t),this._onEvent("warn",t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(e){if(!e)return this;var t=e;return(!y(e)||e.log.length>2)&&(t=this.transports.filter((function(t){return t.transport===e}))[0]),t&&this.unpipe(t),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){E.deprecated("setLevels")}},{key:"query",value:function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};var r={},n=Object.assign({},e.query||{});d(this.transports.filter((function(e){return!!e.query})),(function(t,i){!function(t,r){e.query&&"function"==typeof t.formatQuery&&(e.query=t.formatQuery(n)),t.query(e,(function(n,i){if(n)return r(n);"function"==typeof t.formatResults&&(i=t.formatResults(i,e.format)),r(null,i)}))}(t,(function(e,n){i&&((n=e||n)&&(r[t.name]=n),i()),i=null}))}),(function(){return t(null,r)}))}},{key:"stream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new f,r=[];return t._streams=r,t.destroy=function(){for(var e=r.length;e--;)r[e].destroy()},this.transports.filter((function(e){return!!e.stream})).forEach((function(n){var i=n.stream(e);i&&(r.push(i),i.on("log",(function(e){e.transport=e.transport||[],e.transport.push(n.name),t.emit("log",e)})),i.on("error",(function(e){e.transport=e.transport||[],e.transport.push(n.name),t.emit("error",e)})))})),t}},{key:"startTimer",value:function(){return new _(this)}},{key:"profile",value:function(e){var t=Date.now();if(this.profilers[e]){var r=this.profilers[e];delete this.profilers[e];for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];"function"==typeof s[s.length-2]&&(n.warn("Callback function no longer supported as of winston@3.0.0"),s.pop());var c="object"===o(s[s.length-1])?s.pop():{};return c.level=c.level||"info",c.durationMs=t-r,c.message=c.message||e,this.write(c)}return this.profilers[e]=t,this}},{key:"handleExceptions",value:function(){var e;n.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(e=this.exceptions).handle.apply(e,arguments)}},{key:"unhandleExceptions",value:function(){var e;n.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(e=this.exceptions).unhandle.apply(e,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}},{key:"_onEvent",value:function(e,t){t["__winston"+e]||(t["__winston"+e]=function(r){"error"!==e||this.transports.includes(t)||this.add(t),this.emit(e,r,t)}.bind(this),t.on(e,t["__winston"+e]))}},{key:"_addDefaultMeta",value:function(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}}],a&&s(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),k}(h);function A(e,t){var r=e[t];return r||0===r?r:null}Object.defineProperty(k.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var e=this._readableState.pipes;return Array.isArray(e)?e:[e].filter(Boolean)}}),e.exports=k},5140:(e,t,r)=>{"use strict";var n=r(5108);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===i(o)?o:String(o)),n)}var o}e.exports=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Logger is required for profiling.");this.logger=t,this.start=Date.now()}var t,r;return t=e,r=[{key:"done",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];"function"==typeof t[t.length-1]&&(n.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());var o="object"===i(t[t.length-1])?t.pop():{};return o.level=o.level||"info",o.durationMs=Date.now()-this.start,this.logger.write(o)}}],r&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},4841:(e,t,r)=>{"use strict";var n=r(4155),i=r(5108);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}var a=r(7435),c=r(8058),l=r(2524)("winston:rejection"),u=r(3138),f=r(7911),h=r(288);e.exports=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Logger is required to handle rejections");this.logger=t,this.handlers=new Map}var t,r;return t=e,r=[{key:"handle",value:function(){for(var e=this,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];r.forEach((function(t){if(Array.isArray(t))return t.forEach((function(t){return e._addHandler(t)}));e._addHandler(t)})),this.catcher||(this.catcher=this._unhandledRejection.bind(this),n.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var e=this;this.catcher&&(n.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((function(t){return e.logger.unpipe(t)})))}},{key:"getAllInfo",value:function(e){var t=null;return e&&(t="string"==typeof e?e:e.message),{error:e,level:"error",message:["unhandledRejection: ".concat(t||"(no error message)"),e&&e.stack||"  No stack trace"].join("\n"),stack:e&&e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}},{key:"getProcessInfo",value:function(){return{pid:n.pid,uid:n.getuid?n.getuid():null,gid:n.getgid?n.getgid():null,cwd:n.cwd(),execPath:n.execPath,version:n.version,argv:n.argv,memoryUsage:n.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:a.loadavg(),uptime:a.uptime()}}},{key:"getTrace",value:function(e){return(e?f.parse(e):f.get()).map((function(e){return{column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}}))}},{key:"_addHandler",value:function(e){if(!this.handlers.has(e)){e.handleRejections=!0;var t=new h(e);this.handlers.set(e,t),this.logger.pipe(t)}}},{key:"_unhandledRejection",value:function(e){var t,r=this.getAllInfo(e),o=this._getRejectionHandlers(),s="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function a(){l("doExit",s),l("process._exiting",n._exiting),s&&!n._exiting&&(t&&clearTimeout(t),n.exit(1))}if(!o.length&&s&&(i.warn("winston: exitOnError cannot be true with no rejection handlers."),i.warn("winston: not exiting process."),s=!1),!o||0===o.length)return n.nextTick(a);c(o,(function(e,t){var r=u(t),n=e.transport||e;function i(e){return function(){l(e),r()}}n._ending=!0,n.once("finish",i("finished")),n.once("error",i("error"))}),(function(){return s&&a()})),this.logger.log(r),s&&(t=setTimeout(a,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter((function(e){return(e.transport||e).handleRejections}))}}],r&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},1860:(e,t,r)=>{"use strict";var n=r(8764).Buffer,i=r(2828),o=r(2553).StringDecoder,s=r(8473).Stream;function a(){}e.exports=function(e,t){var r=n.alloc(65536),c=new o("utf8"),l=new s,u="",f=0,h=0;return-1===e.start&&delete e.start,l.readable=!0,l.destroy=function(){l.destroyed=!0,l.emit("end"),l.emit("close")},i.open(e.file,"a+","0644",(function(n,o){if(n)return t?t(n):l.emit("error",n),void l.destroy();!function n(){if(!l.destroyed)return i.read(o,r,0,r.length,f,(function(i,o){if(i)return t?t(i):l.emit("error",i),void l.destroy();if(!o)return u&&((null==e.start||h>e.start)&&(t?t(null,u):l.emit("line",u)),h++,u=""),setTimeout(n,1e3);var s=c.write(r.slice(0,o));t||l.emit("data",s);for(var a=(s=(u+s).split(/\n+/)).length-1,d=0;d<a;d++)(null==e.start||h>e.start)&&(t?t(null,s[d]):l.emit("line",s[d])),h++;return u=s[a],f+=o,n()}));i.close(o,a)}()})),t?l.destroy:l}},3739:(e,t,r)=>{"use strict";var n=r(5108);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===i(o)?o:String(o)),n)}var o}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}var c=r(7435),l=r(5396),u=l.LEVEL,f=l.MESSAGE,h=r(4307);e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(p,e);var t,r,l,h,d=(l=p,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(l);if(h){var r=a(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=d.call(this,t)).name=t.name||"console",e.stderrLevels=e._stringArrayToSet(t.stderrLevels),e.consoleWarnLevels=e._stringArrayToSet(t.consoleWarnLevels),e.eol="string"==typeof t.eol?t.eol:c.EOL,e.setMaxListeners(30),e}return t=p,(r=[{key:"log",value:function(e,t){var r=this;return setImmediate((function(){return r.emit("logged",e)})),this.stderrLevels[e[u]]?(n._stderr?n._stderr.write("".concat(e[f]).concat(this.eol)):n.error(e[f]),void(t&&t())):this.consoleWarnLevels[e[u]]?(n._stderr?n._stderr.write("".concat(e[f]).concat(this.eol)):n.warn(e[f]),void(t&&t())):(n._stdout?n._stdout.write("".concat(e[f]).concat(this.eol)):n.log(e[f]),void(t&&t()))}},{key:"_stringArrayToSet",value:function(e,t){if(!e)return{};if(t=t||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(t);return e.reduce((function(e,r){if("string"!=typeof r)throw new Error(t);return e[r]=!0,e}),{})}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(h)},3401:(e,t,r)=>{"use strict";var n=r(5108),i=r(8764).Buffer;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=r(5811),f=r(6470),h=r(8415),d=r(2635),p=r(5396).MESSAGE,g=r(8473),m=g.Stream,y=g.PassThrough,b=r(4307),v=r(2524)("winston:file"),w=r(7435),_=r(1860);e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(S,e);var t,r,g,b,E=(g=S,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(g);if(b){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function S(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function r(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];n.slice(1).forEach((function(r){if(t[r])throw new Error("Cannot set ".concat(r," and ").concat(e," together"))}))}if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),(e=E.call(this,t)).name=t.name||"file",e._stream=new y,e._stream.setMaxListeners(30),e._onError=e._onError.bind(c(e)),t.filename||t.dirname)r("filename or dirname","stream"),e._basename=e.filename=t.filename?f.basename(t.filename):"winston.log",e.dirname=t.dirname||f.dirname(t.filename),e.options=t.options||{flags:"a"};else{if(!t.stream)throw new Error("Cannot log to file without filename or stream.");n.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),r("stream","filename","maxsize"),e._dest=e._stream.pipe(e._setupStream(t.stream)),e.dirname=f.dirname(e._dest.path)}return e.maxsize=t.maxsize||null,e.rotationFormat=t.rotationFormat||!1,e.zippedArchive=t.zippedArchive||!1,e.maxFiles=t.maxFiles||null,e.eol="string"==typeof t.eol?t.eol:w.EOL,e.tailable=t.tailable||!1,e.lazy=t.lazy||!1,e._size=0,e._pendingSize=0,e._created=0,e._drain=!1,e._opening=!1,e._ending=!1,e._fileExist=!1,e.dirname&&e._createLogDirIfNotExist(e.dirname),e.lazy||e.open(),e}return t=S,r=[{key:"finishIfEnding",value:function(){var e=this;this._ending&&(this._opening?this.once("open",(function(){e._stream.once("finish",(function(){return e.emit("finish")})),setImmediate((function(){return e._stream.end()}))})):(this._stream.once("finish",(function(){return e.emit("finish")})),setImmediate((function(){return e._stream.end()}))))}},{key:"log",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(this.silent)return r(),!0;if(this._drain)this._stream.once("drain",(function(){t._drain=!1,t.log(e,r)}));else{if(!this._rotate){if(this.lazy){if(!this._fileExist)return this._opening||this.open(),void this.once("open",(function(){t._fileExist=!0,t.log(e,r)}));if(this._needsNewFile(this._pendingSize))return void this._dest.once("close",(function(){t._opening||t.open(),t.once("open",(function(){t.log(e,r)}))}))}var n="".concat(e[p]).concat(this.eol),o=i.byteLength(n);this._pendingSize+=o,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var s=this._stream.write(n,function(){var t=this;this._size+=o,this._pendingSize-=o,v("logged %s %s",this._size,n),this.emit("logged",e),this._rotate||this._opening||this._needsNewFile()&&(this.lazy?this._endStream((function(){t.emit("fileclosed")})):(this._rotate=!0,this._endStream((function(){return t._rotateFile()}))))}.bind(this));return s?r():(this._drain=!0,this._stream.once("drain",(function(){t._drain=!1,r()}))),v("written",s,this._drain),this.finishIfEnding(),s}this._stream.once("rotate",(function(){t._rotate=!1,t.log(e,r)}))}}},{key:"query",value:function(e,t){"function"==typeof e&&(t=e,e={}),e=function(e){return(e=e||{}).rows=e.rows||e.limit||10,e.start=e.start||0,e.until=e.until||new Date,"object"!==o(e.until)&&(e.until=new Date(e.until)),e.from=e.from||e.until-864e5,"object"!==o(e.from)&&(e.from=new Date(e.from)),e.order=e.order||"desc",e}(e);var r=f.join(this.dirname,this.filename),n="",i=[],s=0,a=u.createReadStream(r,{encoding:"utf8"});function c(t,r){try{var n=JSON.parse(t);(function(t){if(t&&"object"===o(t)){var r=new Date(t.timestamp);if(!(e.from&&r<e.from||e.until&&r>e.until||e.level&&e.level!==t.level))return!0}})(n)&&function(t){e.rows&&i.length>=e.rows&&"desc"!==e.order?a.readable&&a.destroy():(e.fields&&(t=e.fields.reduce((function(e,r){return e[r]=t[r],e}),{})),"desc"===e.order&&i.length>=e.rows&&i.shift(),i.push(t))}(n)}catch(e){r||a.emit("error",e)}}a.on("error",(function(e){if(a.readable&&a.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,i)})),a.on("data",(function(t){for(var r=(t=(n+t).split(/\n+/)).length-1,i=0;i<r;i++)(!e.start||s>=e.start)&&c(t[i]),s++;n=t[r]})),a.on("close",(function(){n&&c(n,!0),"desc"===e.order&&(i=i.reverse()),t&&t(null,i)}))}},{key:"stream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=f.join(this.dirname,this.filename),r=new m,n={file:t,start:e.start};return r.destroy=_(n,(function(e,t){if(e)return r.emit("error",e);try{r.emit("data",t),t=JSON.parse(t),r.emit("log",t)}catch(e){r.emit("error",e)}})),r}},{key:"open",value:function(){var e=this;this.filename&&(this._opening||(this._opening=!0,this.stat((function(t,r){if(t)return e.emit("error",t);v("stat done: %s { size: %s }",e.filename,r),e._size=r,e._dest=e._createStream(e._stream),e._opening=!1,e.once("open",(function(){e._stream.eventNames().includes("rotate")?e._stream.emit("rotate"):e._rotate=!1}))}))))}},{key:"stat",value:function(e){var t=this,r=this._getFile(),n=f.join(this.dirname,r);u.stat(n,(function(i,o){return i&&"ENOENT"===i.code?(v("ENOENT ok",n),t.filename=r,e(null,0)):i?(v("err ".concat(i.code," ").concat(n)),e(i)):!o||t._needsNewFile(o.size)?t._incFile((function(){return t.stat(e)})):(t.filename=r,void e(null,o.size))}))}},{key:"close",value:function(e){var t=this;this._stream&&this._stream.end((function(){e&&e(),t.emit("flush"),t.emit("closed")}))}},{key:"_needsNewFile",value:function(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}},{key:"_onError",value:function(e){this.emit("error",e)}},{key:"_setupStream",value:function(e){return e.on("error",this._onError),e}},{key:"_cleanupStream",value:function(e){return e.removeListener("error",this._onError),e.destroy(),e}},{key:"_rotateFile",value:function(){var e=this;this._incFile((function(){return e.open()}))}},{key:"_endStream",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end((function(){e._cleanupStream(e._dest),t()}))):t()}},{key:"_createStream",value:function(e){var t=this,r=f.join(this.dirname,this.filename);v("create stream start",r,this.options);var n=u.createWriteStream(r,this.options).on("error",(function(e){return v(e)})).on("close",(function(){return v("close",n.path,n.bytesWritten)})).on("open",(function(){v("file open ok",r),t.emit("open",r),e.pipe(n),t.rotatedWhileOpening&&(t._stream=new y,t._stream.setMaxListeners(30),t._rotateFile(),t.rotatedWhileOpening=!1,t._cleanupStream(n),e.end())}));if(v("create stream ok",r),this.zippedArchive){var i=d.createGzip();return i.pipe(n),i}return n}},{key:"_incFile",value:function(e){v("_incFile",this.filename);var t=f.extname(this._basename),r=f.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,r,e):(this._created+=1,this._checkMaxFilesIncrementing(t,r,e))}},{key:"_getFile",value:function(){var e=f.extname(this._basename),t=f.basename(this._basename,e),r=this.rotationFormat?this.rotationFormat():this._created,n=!this.tailable&&this._created?"".concat(t).concat(r).concat(e):"".concat(t).concat(e);return this.zippedArchive&&!this.tailable?"".concat(n,".gz"):n}},{key:"_checkMaxFilesIncrementing",value:function(e,t,r){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(r);var n=this._created-this.maxFiles,i=0!==n?n:"",o=this.zippedArchive?".gz":"",s="".concat(t).concat(i).concat(e).concat(o),a=f.join(this.dirname,s);u.unlink(a,r)}},{key:"_checkMaxFilesTailable",value:function(e,t,r){var n=this,i=[];if(this.maxFiles){for(var o=this.zippedArchive?".gz":"",s=this.maxFiles-1;s>1;s--)i.push(function(r,n){var i=this,s="".concat(t).concat(r-1).concat(e).concat(o),a=f.join(this.dirname,s);u.exists(a,(function(c){if(!c)return n(null);s="".concat(t).concat(r).concat(e).concat(o),u.rename(a,f.join(i.dirname,s),n)}))}.bind(this,s));h(i,(function(){u.rename(f.join(n.dirname,"".concat(t).concat(e)),f.join(n.dirname,"".concat(t,"1").concat(e).concat(o)),r)}))}}},{key:"_createLogDirIfNotExist",value:function(e){u.existsSync(e)||u.mkdirSync(e,{recursive:!0})}}],r&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),S}(b)},5216:(e,t,r)=>{"use strict";var n=r(8764).Buffer;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=r(8501),d=r(9267),p=r(8473).Stream,g=r(4307),m=r(7668);e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(g,e);var t,r,o,a,l=(o=g,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(o);if(a){var r=f(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function g(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(e=l.call(this,t)).options=t,e.name=t.name||"http",e.ssl=!!t.ssl,e.host=t.host||"localhost",e.port=t.port,e.auth=t.auth,e.path=t.path||"",e.agent=t.agent,e.headers=t.headers||{},e.headers["content-type"]="application/json",e.batch=t.batch||!1,e.batchInterval=t.batchInterval||5e3,e.batchCount=t.batchCount||10,e.batchOptions=[],e.batchTimeoutID=-1,e.batchCallback={},e.port||(e.port=e.ssl?443:80),e}return t=g,r=[{key:"log",value:function(e,t){var r=this;this._request(e,null,null,(function(t,n){n&&200!==n.statusCode&&(t=new Error("Invalid HTTP Status Code: ".concat(n.statusCode))),t?r.emit("warn",t):r.emit("logged",e)})),t&&setImmediate(t)}},{key:"query",value:function(e,t){"function"==typeof e&&(t=e,e={});var r=(e={method:"query",params:this.normalizeQuery(e)}).params.auth||null;delete e.params.auth;var n=e.params.path||null;delete e.params.path,this._request(e,r,n,(function(e,r,n){if(r&&200!==r.statusCode&&(e=new Error("Invalid HTTP Status Code: ".concat(r.statusCode))),e)return t(e);if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return t(e)}t(null,n)}))}},{key:"stream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new p,r=(e={method:"stream",params:e}).params.path||null;delete e.params.path;var n=e.params.auth||null;delete e.params.auth;var i="",o=this._request(e,n,r);return t.destroy=function(){return o.destroy()},o.on("data",(function(e){for(var r=(e=(i+e).split(/\n+/)).length-1,n=0;n<r;n++)try{t.emit("log",JSON.parse(e[n]))}catch(e){t.emit("error",e)}i=e[r]})),o.on("error",(function(e){return t.emit("error",e)})),t}},{key:"_request",value:function(e,t,r,n){e=e||{},t=t||this.auth,r=r||this.path||"",this.batch?this._doBatch(e,n,t,r):this._doRequest(e,n,t,r)}},{key:"_doBatch",value:function(e,t,r,n){if(this.batchOptions.push(e),1===this.batchOptions.length){var i=this;this.batchCallback=t,this.batchTimeoutID=setTimeout((function(){i.batchTimeoutID=-1,i._doBatchRequest(i.batchCallback,r,n)}),this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,r,n)}},{key:"_doBatchRequest",value:function(e,t,r){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);var n=this.batchOptions.slice();this.batchOptions=[],this._doRequest(n,e,t,r)}},{key:"_doRequest",value:function(e,t,r,i){var o=Object.assign({},this.headers);r&&r.bearer&&(o.Authorization="Bearer ".concat(r.bearer));var a=(this.ssl?d:h).request(s(s({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(i.replace(/^\//,"")),headers:o,auth:r&&r.username&&r.password?"".concat(r.username,":").concat(r.password):"",agent:this.agent}));a.on("error",t),a.on("response",(function(e){return e.on("end",(function(){return t(null,e)})).resume()})),a.end(n.from(m(e,this.options.replacer),"utf8"))}}],r&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),g}(g)},557:(e,t,r)=>{"use strict";Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:function(){return r(3739)}}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:function(){return r(3401)}}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:function(){return r(5216)}}),Object.defineProperty(t,"Stream",{configurable:!0,enumerable:!0,get:function(){return r(6780)}})},6780:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===n(o)?o:String(o)),i)}var o}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var a=r(4970),c=r(5396).MESSAGE,l=r(7435),u=r(4307);e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(d,e);var t,r,u,f,h=(u=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(u);if(f){var r=s(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function d(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),e=h.call(this,t),!t.stream||!a(t.stream))throw new Error("options.stream is required.");return e._stream=t.stream,e._stream.setMaxListeners(1/0),e.isObjectMode=t.stream._writableState.objectMode,e.eol="string"==typeof t.eol?t.eol:l.EOL,e}return t=d,(r=[{key:"log",value:function(e,t){var r=this;if(setImmediate((function(){return r.emit("logged",e)})),this.isObjectMode)return this._stream.write(e),void(t&&t());this._stream.write("".concat(e[c]).concat(this.eol)),t&&t()}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(u)},7529:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e};var t=Object.prototype.hasOwnProperty},6854:()=>{},4616:()=>{},5811:()=>{},2828:()=>{},3083:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},2561:e=>{"use strict";e.exports={version:"3.10.0"}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};(()=>{"use strict";r.r(n),r.d(n,{CPU:()=>Y,trc:()=>T});const e=65408,t=0,i=1,o=2,s=3,a={org:16384,lineBytes:32},c={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},l=["&nbsp;","&#x2597;","&#x2596;","&#x2584;","&#x259D;","&#x2590;","&#x259E;","&#x259F;","&#x2598;","&#x259A;","&#x258C;","&#x2599;","&#x2580;","&#x259C;","&#x259B;","&#x2588;","&nbsp;"],u=["txtGGreen","txtGYellow","txtGBlue","txtGRed","txtGWhite","txtGCyan","txtGMagenta","txtGOrange"],f=16,h=32,d=64,p=128,g=32768,m={4:"Immediate",8:"Direct",16:"Indexed",32:"Extended",64:"PCR",128:"Register"},y={0:"regD",1:"regX",2:"regY",3:"regU",4:"regS",5:"regPC",6:"",7:"",8:"regA",9:"regB",10:"regCC",11:"regDP"},b={D:0,X:1,Y:2,U:3,S:4,PC:5,A:8,B:9,CC:10,DP:11},v=["regCC","regA","regB","regDP","regX","regY","regU","regPC"],w=["regCC","regA","regB","regDP","regX","regY","regS","regPC"],_={CC:1,A:2,B:4,D:6,DP:8,X:16,Y:32,U:64,S:64,PC:128},E=[{op:0,mnem:"NEG",page:0,mode:8,code:"drct;ftch8;neg8;stor8"},{op:1,mnem:"ERR",page:0,mode:8,code:"err"},{op:2,mnem:"ERR",page:0,mode:8,code:"err"},{op:3,mnem:"COM",page:0,mode:8,code:"drct;ftch8;com8;stor8"},{op:4,mnem:"LSR",page:0,mode:8,code:"drct;ftch8;lsr8;stor8"},{op:5,mnem:"ERR",page:0,mode:8,code:"err"},{op:6,mnem:"ROR",page:0,mode:8,code:"drct;ftch8;ror8;stor8"},{op:7,mnem:"ASR",page:0,mode:8,code:"drct;ftch8;asr8;stor8"},{op:8,mnem:"LSL",page:0,mode:8,code:"drct;ftch8;lsl8;stor8"},{op:8,mnem:"ASL",page:0,mode:8,code:"drct;ftch8;lsl8;stor8"},{op:9,mnem:"ROL",page:0,mode:8,code:"drct;ftch8;rol8;stor8"},{op:10,mnem:"DEC",page:0,mode:8,code:"drct;ftch8;dec8;stor8"},{op:11,mnem:"ERR",page:0,mode:8,code:"err"},{op:12,mnem:"INC",page:0,mode:8,code:"drct;ftch8;inc8;stor8"},{op:13,mnem:"TST",page:0,mode:8,code:"drct;ftch8;tst8;stor8"},{op:14,mnem:"JMP",page:0,mode:8,code:"drct;ea1;st1 regPC;ntck"},{op:15,mnem:"CLR",page:0,mode:8,code:"drct;ftch8;clr8;stor8"},{op:16,mnem:"",page:0,mode:257,code:"page 0x10"},{op:17,mnem:"",page:0,mode:257,code:"page 0x11"},{op:18,mnem:"NOP",page:0,mode:1,code:"nop"},{op:19,mnem:"SYNC",page:0,mode:1,code:"sync"},{op:20,mnem:"ERR",page:0,mode:8,code:"err"},{op:21,mnem:"ERR",page:0,mode:8,code:"err"},{op:22,mnem:"LBRA",page:0,mode:66,code:"rel16;st1 regPC;ntck"},{op:23,mnem:"LBSR",page:0,mode:66,code:"rel16;stck16 regPC;st1 regPC;ntck"},{op:24,mnem:"ERR",page:0,mode:8,code:"err"},{op:25,mnem:"DAA",page:0,mode:1,code:"daa"},{op:26,mnem:"ORCC",page:0,mode:4,code:"pcb;ld2 regCC;exx;or8;st1 regCC"},{op:27,mnem:"ERR",page:0,mode:8,code:"err"},{op:28,mnem:"ANDCC",page:0,mode:4,code:"pcb;ld2 regCC;exx;and8;st1 regCC"},{op:29,mnem:"SEX",page:0,mode:1,code:"ld1 regB;sx;shft;st1 regA"},{op:30,mnem:"EXG",page:0,mode:130,code:"rgop exg"},{op:31,mnem:"TFR",page:0,mode:130,code:"rgop tfr"},{op:32,mnem:"BRA",page:0,mode:64,code:"rel8;st1 regPC;ntck"},{op:33,mnem:"BRN",page:0,mode:64,code:"rel8"},{op:34,mnem:"BHI",page:0,mode:64,code:"rel8;chk LS;qt;st1 regPC;ntck"},{op:35,mnem:"BLS",page:0,mode:64,code:"rel8;chk LS;qf;st1 regPC;ntck"},{op:36,mnem:"BCC",page:0,mode:64,code:"rel8;chk C;qt;st1 regPC;ntck"},{op:36,mnem:"BHS",page:0,mode:64,code:"rel8;chk C;qt;st1 regPC;ntck"},{op:37,mnem:"BCS",page:0,mode:64,code:"rel8;chk C;qf;st1 regPC;ntck"},{op:37,mnem:"BLO",page:0,mode:64,code:"rel8;chk C;qf;st1 regPC;ntck"},{op:38,mnem:"BNE",page:0,mode:64,code:"rel8;chk Z;qt;st1 regPC;ntck"},{op:39,mnem:"BEQ",page:0,mode:64,code:"rel8;chk Z;qf;st1 regPC;ntck"},{op:40,mnem:"BVC",page:0,mode:64,code:"rel8;chk V;qt;st1 regPC;ntck"},{op:41,mnem:"BVS",page:0,mode:64,code:"rel8;chk V;qf;st1 regPC;ntck"},{op:42,mnem:"BMI",page:0,mode:64,code:"rel8;chk N;qf;st1 regPC;ntck"},{op:43,mnem:"BPL",page:0,mode:64,code:"rel8;chk N;qt;st1 regPC;ntck"},{op:44,mnem:"BGE",page:0,mode:64,code:"rel8;chk LT;qt;st1 regPC;ntck"},{op:45,mnem:"BLT",page:0,mode:64,code:"rel8;chk LT;qf;st1 regPC;ntck"},{op:46,mnem:"BGT",page:0,mode:64,code:"rel8;chk LE;qt;st1 regPC;ntck"},{op:47,mnem:"BLE",page:0,mode:64,code:"rel8;chk LE;qf;st1 regPC;ntck"},{op:32,mnem:"LBRA",page:16,mode:66,code:"rel16;st1 regPC;ntck"},{op:33,mnem:"LBRN",page:16,mode:66,code:"rel16"},{op:34,mnem:"LBHI",page:16,mode:66,code:"rel16;chk LS;qt;st1 regPC;ntck"},{op:35,mnem:"LBLS",page:16,mode:66,code:"rel16;chk LS;qf;st1 regPC;ntck"},{op:36,mnem:"LBCC",page:16,mode:66,code:"rel16;chk C;qt;st1 regPC;ntck"},{op:36,mnem:"LBHS",page:16,mode:66,code:"rel16;chk C;qt;st1 regPC;ntck"},{op:37,mnem:"LBCS",page:16,mode:66,code:"rel16;chk C;qf;st1 regPC;ntck"},{op:37,mnem:"LBLO",page:16,mode:66,code:"rel16;chk C;qf;st1 regPC;ntck"},{op:38,mnem:"LBNE",page:16,mode:66,code:"rel16;chk Z;qt;st1 regPC;ntck"},{op:39,mnem:"LBEQ",page:16,mode:66,code:"rel16;chk Z;qf;st1 regPC;ntck"},{op:40,mnem:"LBVC",page:16,mode:66,code:"rel16;chk V;qt;st1 regPC;ntck"},{op:41,mnem:"LBVS",page:16,mode:66,code:"rel16;chk V;qf;st1 regPC;ntck"},{op:42,mnem:"LBMI",page:16,mode:66,code:"rel16;chk N;qf;st1 regPC;ntck"},{op:43,mnem:"LBPL",page:16,mode:66,code:"rel16;chk N;qt;st1 regPC;ntck"},{op:44,mnem:"LBGE",page:16,mode:66,code:"rel16;chk LT;qt;st1 regPC;ntck"},{op:45,mnem:"LBLT",page:16,mode:66,code:"rel16;chk LT;qf;st1 regPC;ntck"},{op:46,mnem:"LBGT",page:16,mode:66,code:"rel16;chk LE;qt;st1 regPC;ntck"},{op:47,mnem:"LBLE",page:16,mode:66,code:"rel16;chk LE;qf;st1 regPC;ntck"},{op:48,mnem:"LEAX",page:0,mode:f,code:"indx;ea1;zero;idxu;st1 regX"},{op:49,mnem:"LEAY",page:0,mode:f,code:"indx;ea1;zero;idxu;st1 regY"},{op:50,mnem:"LEAS",page:0,mode:f,code:"indx;ea1;idxu;st1 regS"},{op:51,mnem:"LEAU",page:0,mode:f,code:"indx;ea1;idxu;st1 regU"},{op:52,mnem:"PSHS",page:0,mode:p,code:"push regS"},{op:53,mnem:"PULS",page:0,mode:p,code:"pull regS"},{op:54,mnem:"PSHU",page:0,mode:p,code:"push regU"},{op:55,mnem:"PULU",page:0,mode:p,code:"pull regU"},{op:56,mnem:"ERR",page:0,mode:8,code:"err"},{op:57,mnem:"RTS",page:0,mode:1,code:"pull16 regS;st1 regPC;ntck"},{op:58,mnem:"ABX",page:0,mode:1,code:"abx"},{op:59,mnem:"RTI",page:0,mode:1,code:"rti;ntck"},{op:60,mnem:"CWAI",page:0,mode:4,code:"pcb;ld2 regCC;exx;and8;wait"},{op:61,mnem:"MUL",page:0,mode:1,code:"mul"},{op:62,mnem:"ERR",page:0,mode:1,code:"err"},{op:63,mnem:"SWI",page:0,mode:1,code:"swi 1"},{op:63,mnem:"SWI2",page:16,mode:1,code:"swi 2"},{op:63,mnem:"SWI3",page:17,mode:1,code:"swi 3"},{op:64,mnem:"NEGA",page:0,mode:1,code:"ld1 regA;neg8;st1 regA"},{op:65,mnem:"ERR",page:0,mode:1,code:"err"},{op:66,mnem:"ERR",page:0,mode:1,code:"err"},{op:67,mnem:"COMA",page:0,mode:1,code:"ld1 regA;com8;st1 regA"},{op:68,mnem:"LSRA",page:0,mode:1,code:"ld1 regA;lsr8;st1 regA"},{op:69,mnem:"ERRA",page:0,mode:1,code:"err"},{op:70,mnem:"RORA",page:0,mode:1,code:"ld1 regA;ror8;st1 regA"},{op:71,mnem:"ASRA",page:0,mode:1,code:"ld1 regA;asr8;st1 regA"},{op:72,mnem:"LSLA",page:0,mode:1,code:"ld1 regA;lsl8;st1 regA"},{op:72,mnem:"ASLA",page:0,mode:1,code:"ld1 regA;lsl8;st1 regA"},{op:73,mnem:"ROLA",page:0,mode:1,code:"ld1 regA;rol8;st1 regA"},{op:74,mnem:"DECA",page:0,mode:1,code:"ld1 regA;dec8;st1 regA"},{op:75,mnem:"ERR",page:0,mode:1,code:"err"},{op:76,mnem:"INCA",page:0,mode:1,code:"ld1 regA;inc8;st1 regA"},{op:77,mnem:"TSTA",page:0,mode:1,code:"ld1 regA;tst8;st1 regA"},{op:78,mnem:"ERR",page:0,mode:1,code:"err"},{op:79,mnem:"CLRA",page:0,mode:1,code:"ld1 regA;clr8;st1 regA"},{op:80,mnem:"NEGB",page:0,mode:1,code:"ld1 regB;neg8;st1 regB"},{op:81,mnem:"ERR",page:0,mode:1,code:"err"},{op:82,mnem:"ERR",page:0,mode:1,code:"err"},{op:83,mnem:"COMB",page:0,mode:1,code:"ld1 regB;com8;st1 regB"},{op:84,mnem:"LSRB",page:0,mode:1,code:"ld1 regB;lsr8;st1 regB"},{op:85,mnem:"ERR",page:0,mode:1,code:"err"},{op:86,mnem:"RORB",page:0,mode:1,code:"ld1 regB;ror8;st1 regB"},{op:87,mnem:"ASRB",page:0,mode:1,code:"ld1 regB;asr8;st1 regB"},{op:88,mnem:"LSLB",page:0,mode:1,code:"ld1 regB;lsl8;st1 regB"},{op:88,mnem:"ASLB",page:0,mode:1,code:"ld1 regB;lsl8;st1 regB"},{op:89,mnem:"ROLB",page:0,mode:1,code:"ld1 regB;rol8;st1 regB"},{op:90,mnem:"DECB",page:0,mode:1,code:"ld1 regB;dec8;st1 regB"},{op:91,mnem:"ERR",page:0,mode:1,code:"err"},{op:92,mnem:"INCB",page:0,mode:1,code:"ld1 regB;inc8;st1 regB"},{op:93,mnem:"TSTB",page:0,mode:1,code:"ld1 regB;tst8;st1 regB"},{op:94,mnem:"ERR",page:0,mode:1,code:"err"},{op:95,mnem:"CLRB",page:0,mode:1,code:"ld1 regB;clr8;st1 regB"},{op:96,mnem:"NEG",page:0,mode:f,code:"indx;ftch8;neg8;stor8;idxu"},{op:97,mnem:"ERR",page:0,mode:f,code:"err"},{op:98,mnem:"ERR",page:0,mode:f,code:"err"},{op:99,mnem:"COM",page:0,mode:f,code:"indx;ftch8;com8;stor8;idxu"},{op:100,mnem:"LSR",page:0,mode:f,code:"indx;ftch8;lsr8;stor8;idxu"},{op:101,mnem:"ERR",page:0,mode:f,code:"err"},{op:102,mnem:"ROR",page:0,mode:f,code:"indx;ftch8;ror8;stor8;idxu"},{op:103,mnem:"ASR",page:0,mode:f,code:"indx;ftch8;asr8;stor8;idxu"},{op:104,mnem:"LSL",page:0,mode:f,code:"indx;ftch8;lsl8;stor8;idxu"},{op:104,mnem:"ASL",page:0,mode:f,code:"indx;ftch8;lsl8;stor8;idxu"},{op:105,mnem:"ROL",page:0,mode:f,code:"indx;ftch8;rol8;stor8;idxu"},{op:106,mnem:"DEC",page:0,mode:f,code:"indx;ftch8;dec8;stor8;idxu"},{op:107,mnem:"ERR",page:0,mode:f,code:"err"},{op:108,mnem:"INC",page:0,mode:f,code:"indx;ftch8;inc8;stor8;idxu"},{op:109,mnem:"TST",page:0,mode:f,code:"indx;ftch8;tst8;stor8;idxu"},{op:110,mnem:"JMP",page:0,mode:f,code:"indx;ea1;st1 regPC;idxu;ntck"},{op:111,mnem:"CLR",page:0,mode:f,code:"indx;ftch8;clr8;stor8;idxu"},{op:112,mnem:"NEG",page:0,mode:h,code:"xtnd;ftch8;neg8;stor8"},{op:113,mnem:"ERR",page:0,mode:h,code:"err"},{op:114,mnem:"ERR",page:0,mode:h,code:"err"},{op:115,mnem:"COM",page:0,mode:h,code:"xtnd;ftch8;com8;stor8"},{op:116,mnem:"LSR",page:0,mode:h,code:"xtnd;ftch8;lsr8;stor8"},{op:117,mnem:"ERR",page:0,mode:h,code:"err"},{op:118,mnem:"ROR",page:0,mode:h,code:"xtnd;ftch8;ror8;stor8"},{op:119,mnem:"ASR",page:0,mode:h,code:"xtnd;ftch8;asr8;stor8"},{op:120,mnem:"LSL",page:0,mode:h,code:"xtnd;ftch8;lsl8;stor8"},{op:120,mnem:"ASL",page:0,mode:h,code:"xtnd;ftch8;lsl8;stor8"},{op:121,mnem:"ROL",page:0,mode:h,code:"xtnd;ftch8;rol8;stor8"},{op:122,mnem:"DEC",page:0,mode:h,code:"xtnd;ftch8;dec8;stor8"},{op:123,mnem:"ERR",page:0,mode:h,code:"err"},{op:124,mnem:"INC",page:0,mode:h,code:"xtnd;ftch8;inc8;stor8"},{op:125,mnem:"TST",page:0,mode:h,code:"xtnd;ftch8;tst8;stor8"},{op:126,mnem:"JMP",page:0,mode:h,code:"xtnd;ea1;st1 regPC;ntck"},{op:127,mnem:"CLR",page:0,mode:h,code:"xtnd;ftch8;clr8;stor8"},{op:128,mnem:"SUBA",page:0,mode:4,code:"pcb;ld2 regA;sub8;st1 regA"},{op:129,mnem:"CMPA",page:0,mode:4,code:"pcb;ld2 regA;sub8"},{op:130,mnem:"SBCA",page:0,mode:4,code:"pcb;ld2 regA;sbc8;st1 regA"},{op:131,mnem:"SUBD",page:0,mode:6,code:"pcw;ld2 regD;sub16;st1 regD"},{op:131,mnem:"CMPD",page:16,mode:6,code:"pcw;ld2 regD;sub16"},{op:131,mnem:"CMPU",page:17,mode:6,code:"pcw;ld2 regU;sub16"},{op:132,mnem:"ANDA",page:0,mode:4,code:"pcb;ld2 regA;and8;st1 regA"},{op:133,mnem:"BITA",page:0,mode:4,code:"pcb;ld2 regA;and8"},{op:134,mnem:"LDA",page:0,mode:4,code:"pcb;tst8; st1 regA"},{op:135,mnem:"ERR",page:0,mode:4,code:"err"},{op:136,mnem:"EORA",page:0,mode:4,code:"pcb;ld2 regA;eor8;st1 regA"},{op:137,mnem:"ADCA",page:0,mode:4,code:"pcb;ld2 regA;adc8;st1 regA"},{op:138,mnem:"ORA",page:0,mode:4,code:"pcb;ld2 regA;or8;st1 regA"},{op:139,mnem:"ADDA",page:0,mode:4,code:"pcb;ld2 regA;add8;st1 regA"},{op:140,mnem:"CMPX",page:0,mode:6,code:"pcw;ld2 regX;sub16"},{op:140,mnem:"CMPY",page:16,mode:6,code:"pcw;ld2 regY;sub16"},{op:140,mnem:"CMPS",page:17,mode:6,code:"pcw;ld2 regS;sub16"},{op:141,mnem:"BSR",page:0,mode:64,code:"rel8;stck16 regPC;st1 regPC;ntck"},{op:142,mnem:"LDX",page:0,mode:6,code:"pcw;tst16;st1 regX"},{op:142,mnem:"LDY",page:16,mode:6,code:"pcw;tst16;st1 regY"},{op:143,mnem:"ERR",page:0,mode:1,code:"err"},{op:144,mnem:"SUBA",page:0,mode:8,code:"drct;ftch8;ld2 regA;sub8;st1 regA"},{op:145,mnem:"CMPA",page:0,mode:8,code:"drct;ftch8;ld2 regA;sub8"},{op:146,mnem:"SBCA",page:0,mode:8,code:"drct;ftch8;ld2 regA;sbc8;st1 regA"},{op:147,mnem:"SUBD",page:0,mode:10,code:"drct;ftch16;ld2 regD;sub16;st1 regD"},{op:147,mnem:"CMPD",page:16,mode:10,code:"drct;ftch16;ld2 regD;sub16"},{op:147,mnem:"CMPU",page:17,mode:10,code:"drct;ftch16;ld2 regU;sub16"},{op:148,mnem:"ANDA",page:0,mode:8,code:"drct;ftch8;ld2 regA;and8;st1 regA"},{op:149,mnem:"BITA",page:0,mode:8,code:"drct;ftch8;ld2 regA;and8"},{op:150,mnem:"LDA",page:0,mode:8,code:"drct;ftch8;tst8; st1 regA"},{op:151,mnem:"STA",page:0,mode:8,code:"drct;ld1 regA;tst8;stor8"},{op:152,mnem:"EORA",page:0,mode:8,code:"drct;ftch8;ld2 regA;eor8;st1 regA"},{op:153,mnem:"ADCA",page:0,mode:8,code:"drct;ftch8;ld2 regA;adc8;st1 regA"},{op:154,mnem:"ORA",page:0,mode:8,code:"drct;ftch8;ld2 regA;or8;st1 regA"},{op:155,mnem:"ADDA",page:0,mode:8,code:"drct;ftch8;ld2 regA;add8;st1 regA"},{op:156,mnem:"CMPX",page:0,mode:10,code:"drct;ftch16;ld2 regX;sub16"},{op:156,mnem:"CMPY",page:16,mode:10,code:"drct;ftch16;ld2 regY;sub16"},{op:156,mnem:"CMPS",page:17,mode:10,code:"drct;ftch16;ld2 regS;sub16"},{op:157,mnem:"JSR",page:0,mode:10,code:"drct;stck16 regPC;ea1;st1 regPC;ntck"},{op:158,mnem:"LDX",page:0,mode:10,code:"drct;ftch16;tst16;st1 regX"},{op:158,mnem:"LDY",page:16,mode:10,code:"drct;ftch16;tst16;st1 regY"},{op:159,mnem:"STX",page:0,mode:10,code:"drct;ld1 regX;tst16;stor16"},{op:159,mnem:"STY",page:16,mode:10,code:"drct;ld1 regY;tst16;stor16"},{op:160,mnem:"SUBA",page:0,mode:f,code:"indx;ftch8;ld2 regA;sub8;idxu;st1 regA"},{op:161,mnem:"CMPA",page:0,mode:f,code:"indx;ftch8;ld2 regA;sub8;idxu"},{op:162,mnem:"SBCA",page:0,mode:f,code:"indx;ftch8;ld2 regA;sbc8;idxu;st1 regA"},{op:163,mnem:"SUBD",page:0,mode:18,code:"indx;ftch16;ld2 regD;sub16;idxu;st1 regD"},{op:163,mnem:"CMPD",page:16,mode:18,code:"indx;ftch16;ld2 regD;sub16;idxu"},{op:163,mnem:"CMPU",page:17,mode:18,code:"indx;ftch16;ld2 regU;sub16;idxu"},{op:164,mnem:"ANDA",page:0,mode:f,code:"indx;ftch8;ld2 regA;and8;idxu;st1 regA"},{op:165,mnem:"BITA",page:0,mode:f,code:"indx;ftch8;ld2 regA;and8;idxu"},{op:166,mnem:"LDA",page:0,mode:f,code:"indx;ftch8;tst8;idxu;st1 regA"},{op:167,mnem:"STA",page:0,mode:f,code:"indx;ld1 regA;tst8;stor8;idxu"},{op:168,mnem:"EORA",page:0,mode:f,code:"indx;ftch8;ld2 regA;eor8;idxu;st1 regA"},{op:169,mnem:"ADCA",page:0,mode:f,code:"indx;ftch8;ld2 regA;adc8;idxu;st1 regA"},{op:170,mnem:"ORA",page:0,mode:f,code:"indx;ftch8;ld2 regA;or8;idxu;st1 regA"},{op:171,mnem:"ADDA",page:0,mode:f,code:"indx;ftch8;ld2 regA;add8;idxu;st1 regA"},{op:172,mnem:"CMPX",page:0,mode:18,code:"indx;ftch16;ld2 regX;sub16;idxu"},{op:172,mnem:"CMPY",page:16,mode:18,code:"indx;ftch16;ld2 regY;sub16;idxu"},{op:172,mnem:"CMPS",page:17,mode:18,code:"indx;ftch16;ld2 regS;sub16;idxu"},{op:173,mnem:"JSR",page:0,mode:18,code:"indx;idxu;stck16 regPC;ea1;st1 regPC;ntck"},{op:174,mnem:"LDX",page:0,mode:18,code:"indx;ftch16;tst16;st1 regX;idxu"},{op:174,mnem:"LDY",page:16,mode:18,code:"indx;ftch16;tst16;st1 regY;idxu"},{op:175,mnem:"STX",page:0,mode:18,code:"indx;ld1 regX;tst16;stor16;idxu"},{op:175,mnem:"STY",page:16,mode:18,code:"indx;ld1 regY;tst16;stor16;idxu"},{op:176,mnem:"SUBA",page:0,mode:h,code:"xtnd;ftch8;ld2 regA;sub8;st1 regA"},{op:177,mnem:"CMPA",page:0,mode:h,code:"xtnd;ftch8;ld2 regA;sub8"},{op:178,mnem:"SBCA",page:0,mode:h,code:"xtnd;ftch8;ld2 regA;sbc8;st1 regA"},{op:179,mnem:"SUBD",page:0,mode:34,code:"xtnd;ftch16;ld2 regD;sub16;st1 regD"},{op:179,mnem:"CMPD",page:16,mode:34,code:"xtnd;ftch16;ld2 regD;sub16"},{op:179,mnem:"CMPU",page:17,mode:34,code:"xtnd;ftch16;ld2 regU;sub16"},{op:180,mnem:"ANDA",page:0,mode:h,code:"xtnd;ftch8;ld2 regA;and8;st1 regA"},{op:181,mnem:"BITA",page:0,mode:h,code:"xtnd;ftch8;ld2 regA;and8"},{op:182,mnem:"LDA",page:0,mode:h,code:"xtnd;ftch8;tst8; st1 regA"},{op:183,mnem:"STA",page:0,mode:h,code:"xtnd;ld1 regA;tst8;stor8"},{op:184,mnem:"EORA",page:0,mode:h,code:"xtnd;ftch8;ld2 regA;eor8;st1 regA"},{op:185,mnem:"ADCA",page:0,mode:h,code:"xtnd;ftch8;ld2 regA;adc8;st1 regA"},{op:186,mnem:"ORA",page:0,mode:h,code:"xtnd;ftch8;ld2 regA;or8;st1 regA"},{op:187,mnem:"ADDA",page:0,mode:h,code:"xtnd;ftch8;ld2 regA;add8;st1 regA"},{op:188,mnem:"CMPX",page:0,mode:34,code:"xtnd;ftch16;ld2 regX;sub16"},{op:188,mnem:"CMPY",page:16,mode:34,code:"xtnd;ftch16;ld2 regY;sub16"},{op:188,mnem:"CMPS",page:17,mode:34,code:"xtnd;ftch16;ld2 regS;sub16"},{op:189,mnem:"JSR",page:0,mode:34,code:"xtnd;stck16 regPC;ea1;st1 regPC;ntck"},{op:190,mnem:"LDX",page:0,mode:34,code:"xtnd;ftch16;tst16;st1 regX"},{op:190,mnem:"LDY",page:16,mode:34,code:"xtnd;ftch16;tst16;st1 regY"},{op:191,mnem:"STX",page:0,mode:34,code:"xtnd;ld1 regX;tst16;stor16"},{op:191,mnem:"STY",page:16,mode:34,code:"xtnd;ld1 regY;tst16;stor16"},{op:192,mnem:"SUBB",page:0,mode:4,code:"pcb;ld2 regB;sub8;st1 regB"},{op:193,mnem:"CMPB",page:0,mode:4,code:"pcb;ld2 regB;sub8"},{op:194,mnem:"SBCB",page:0,mode:4,code:"pcb;ld2 regB;sbc8;st1 regB"},{op:195,mnem:"ADDD",page:0,mode:6,code:"pcw;ld2 regD;add16;st1 regD"},{op:196,mnem:"ANDB",page:0,mode:4,code:"pcb;ld2 regB;and8;st1 regB"},{op:197,mnem:"BITB",page:0,mode:4,code:"pcb;ld2 regB;and8"},{op:198,mnem:"LDB",page:0,mode:4,code:"pcb;tst8; st1 regB"},{op:199,mnem:"ERR",page:0,mode:4,code:"err"},{op:200,mnem:"EORB",page:0,mode:4,code:"pcb;ld2 regB;eor8;st1 regB"},{op:201,mnem:"ADCB",page:0,mode:4,code:"pcb;ld2 regB;adc8;st1 regB"},{op:202,mnem:"ORB",page:0,mode:4,code:"pcb;ld2 regB;or8;st1 regB"},{op:203,mnem:"ADDB",page:0,mode:4,code:"pcb;ld2 regB;add8;st1 regB"},{op:204,mnem:"LDD",page:0,mode:6,code:"pcw;tst16;st1 regD"},{op:205,mnem:"ERR",page:0,mode:1,code:"err"},{op:206,mnem:"LDU",page:0,mode:6,code:"pcw;tst16;st1 regU"},{op:206,mnem:"LDS",page:16,mode:6,code:"pcw;tst16;st1 regS"},{op:207,mnem:"ERR",page:0,mode:1,code:"err"},{op:208,mnem:"SUBB",page:0,mode:8,code:"drct;ftch8;ld2 regB;sub8;st1 regB"},{op:209,mnem:"CMPB",page:0,mode:8,code:"drct;ftch8;ld2 regB;sub8"},{op:210,mnem:"SBCB",page:0,mode:8,code:"drct;ftch8;ld2 regB;sbc8;st1 regB"},{op:211,mnem:"ADDD",page:0,mode:10,code:"drct;ftch16;ld2 regD;add16;st1 regD"},{op:212,mnem:"ANDB",page:0,mode:8,code:"drct;ftch8;ld2 regB;and8;st1 regB"},{op:213,mnem:"BITB",page:0,mode:8,code:"drct;ftch8;ld2 regB;and8"},{op:214,mnem:"LDB",page:0,mode:8,code:"drct;ftch8;tst8; st1 regB"},{op:215,mnem:"STB",page:0,mode:8,code:"drct;ld1 regB;tst8;stor8"},{op:216,mnem:"EORB",page:0,mode:8,code:"drct;ftch8;ld2 regB;eor8;st1 regB"},{op:217,mnem:"ADCB",page:0,mode:8,code:"drct;ftch8;ld2 regB;adc8;st1 regB"},{op:218,mnem:"ORB",page:0,mode:8,code:"drct;ftch8;ld2 regB;or8;st1 regB"},{op:219,mnem:"ADDB",page:0,mode:8,code:"drct;ftch8;ld2 regB;add8;st1 regB"},{op:220,mnem:"LDD",page:0,mode:10,code:"drct;ftch16;tst16;st1 regD"},{op:221,mnem:"STD",page:0,mode:10,code:"drct;ld1 regD;tst16;stor16"},{op:222,mnem:"LDU",page:0,mode:10,code:"drct;ftch16;tst16;st1 regU"},{op:223,mnem:"STU",page:0,mode:10,code:"drct;ld1 regU;tst16;stor16"},{op:222,mnem:"LDS",page:16,mode:10,code:"drct;ftch16;tst16;st1 regS"},{op:223,mnem:"STS",page:16,mode:10,code:"drct;ld1 regS;tst16;stor16"},{op:224,mnem:"SUBB",page:0,mode:f,code:"indx;ftch8;ld2 regB;sub8;idxu;st1 regB"},{op:225,mnem:"CMPB",page:0,mode:f,code:"indx;ftch8;ld2 regB;sub8;idxu"},{op:226,mnem:"SBCB",page:0,mode:f,code:"indx;ftch8;ld2 regB;sbc8;idxu;st1 regB"},{op:227,mnem:"ADDD",page:0,mode:18,code:"indx;ftch16;ld2 regD;add16;idxu;st1 regD"},{op:228,mnem:"ANDB",page:0,mode:f,code:"indx;ftch8;ld2 regB;and8;idxu;st1 regB"},{op:229,mnem:"BITB",page:0,mode:f,code:"indx;ftch8;ld2 regB;and8;idxu"},{op:230,mnem:"LDB",page:0,mode:f,code:"indx;ftch8;tst8;idxu;st1 regB"},{op:231,mnem:"STB",page:0,mode:f,code:"indx;ld1 regB;tst8;stor8;idxu"},{op:232,mnem:"EORB",page:0,mode:f,code:"indx;ftch8;ld2 regB;eor8;idxu;st1 regB"},{op:233,mnem:"ADCB",page:0,mode:f,code:"indx;ftch8;ld2 regB;adc8;idxu;st1 regB"},{op:234,mnem:"ORB",page:0,mode:f,code:"indx;ftch8;ld2 regB;or8;idxu;st1 regB"},{op:235,mnem:"ADDB",page:0,mode:f,code:"indx;ftch8;ld2 regB;add8;idxu;st1 regB"},{op:236,mnem:"LDD",page:0,mode:18,code:"indx;ftch16;tst16;idxu;st1 regD"},{op:237,mnem:"STD",page:0,mode:18,code:"indx;ld1 regD;tst16;stor16;idxu"},{op:238,mnem:"LDU",page:0,mode:18,code:"indx;ftch16;tst16;idxu;st1 regU"},{op:239,mnem:"STU",page:0,mode:18,code:"indx;ld1 regU;tst16;stor16;idxu"},{op:238,mnem:"LDS",page:16,mode:18,code:"indx;ftch16;tst16;idxu;st1 regS"},{op:239,mnem:"STS",page:16,mode:18,code:"indx;ld1 regS;tst16;stor16;idxu"},{op:240,mnem:"SUBB",page:0,mode:h,code:"xtnd;ftch8;ld2 regB;sub8;st1 regB"},{op:241,mnem:"CMPB",page:0,mode:h,code:"xtnd;ftch8;ld2 regB;sub8"},{op:242,mnem:"SBCB",page:0,mode:h,code:"xtnd;ftch8;ld2 regB;sbc8;st1 regB"},{op:243,mnem:"ADDD",page:0,mode:34,code:"xtnd;ftch16;ld2 regD;add16;st1 regD"},{op:244,mnem:"ANDB",page:0,mode:h,code:"xtnd;ftch8;ld2 regB;and8;st1 regB"},{op:245,mnem:"BITB",page:0,mode:h,code:"xtnd;ftch8;ld2 regB;and8"},{op:246,mnem:"LDB",page:0,mode:h,code:"xtnd;ftch8;tst8; st1 regB"},{op:247,mnem:"STB",page:0,mode:h,code:"xtnd;ld1 regB;tst8;stor8"},{op:248,mnem:"EORB",page:0,mode:h,code:"xtnd;ftch8;ld2 regB;eor8;st1 regB"},{op:249,mnem:"ADCB",page:0,mode:h,code:"xtnd;ftch8;ld2 regB;adc8;st1 regB"},{op:250,mnem:"ORB",page:0,mode:h,code:"xtnd;ftch8;ld2 regB;or8;st1 regB"},{op:251,mnem:"ADDB",page:0,mode:h,code:"xtnd;ftch8;ld2 regB;add8;st1 regB"},{op:252,mnem:"LDD",page:0,mode:34,code:"xtnd;ftch16;tst16;st1 regD"},{op:253,mnem:"STD",page:0,mode:34,code:"xtnd;ld1 regD;tst16;stor16"},{op:254,mnem:"LDU",page:0,mode:34,code:"xtnd;ftch16;tst16;st1 regU"},{op:255,mnem:"STU",page:0,mode:34,code:"xtnd;ld1 regU;tst16;stor16"},{op:254,mnem:"LDS",page:16,mode:34,code:"xtnd;ftch16;tst16;st1 regS"},{op:255,mnem:"STS",page:16,mode:34,code:"xtnd;ld1 regS;tst16;stor16"},{op:1,mnem:"FCB",page:0,mode:g,code:""},{op:1,mnem:"FCC",page:0,mode:g,code:""},{op:1,mnem:".FCC",page:0,mode:g,code:""},{op:1,mnem:"FDB",page:0,mode:g,code:""},{op:1,mnem:".WORD",page:0,mode:g,code:""},{op:1,mnem:"DB",page:0,mode:g,code:""},{op:1,mnem:".BYTE",page:0,mode:g,code:""},{op:1,mnem:"DW",page:0,mode:g,code:""},{op:1,mnem:"EQU",page:0,mode:g,code:""},{op:1,mnem:"=",page:0,mode:g,code:""},{op:1,mnem:"FILL",page:0,mode:g,code:""},{op:1,mnem:"ORG",page:0,mode:g,code:""},{op:1,mnem:"RMB",page:0,mode:g,code:""},{op:1,mnem:"DS",page:0,mode:g,code:""},{op:1,mnem:"DIRECT",page:0,mode:g,code:""},{op:1,mnem:"SETDP",page:0,mode:g,code:""},{op:1,mnem:"CONST",page:0,mode:g,code:""},{op:1,mnem:"VAR",page:0,mode:g,code:""},{op:1,mnem:"END",page:0,mode:g,code:""}];var S=r(5832),x=r.n(S);function k(e,t=8){let r=e.toString(16).toUpperCase();for(;r.length<t;)r="0"+r;return r}function A(e,t,r){const n=t>8?4:2;return 0!=(e&1<<t-1)?"-"+r+k((1<<t)-e,n):r+k(e,n)}r(4889);const O=1,R=x().createLogger({level:"info",format:x().format.json(),defaultMeta:{service:"online6809assembler"},transports:[new(x().transports.Console)]});function T(e,t,r=!1){(0!==O||r)&&R.info(e+" : "+t)}function P(e,t){this.cpu=t,this.list=null,this.createList=function(e){const t=document.getElementById(e+"-container");if(T("labelList id",e),null!==t){const e=t.childNodes;0===e.length?(T("LabelList container",""),this.list=document.createElement("select"),this.list.setAttribute("size","30"),this.list.className="labelsContainer",t.appendChild(this.list)):this.list=e[0]}},this.fill=function(e){let t,r;for(t in T("Labels fill",0),e)Object.prototype.hasOwnProperty.call(e,t)&&(r=document.createElement("option"),r.text=t,r.value=1,T("Label: ",t),r.className="labelList",function(t,n){r.onclick=function(r){T("reloadtable call label '"+n+"' value",e[n]),t.dsmTable.reloadTable(e[n]),t.dsmTable.lineOn(t.registers.regPC.regValue,!0,!0)}}(this.cpu,t),this.list.add(r))},this.empty=function(){for(;this.list.length>0;)this.list.remove(this.list.length-1)},this.createList(e)}function C(e,t,r){this.lineMap=[],this.lineHi=null,this.table=null,this.cpuOwner=t,this.rowCount=r,this.editContents=null,this.baseAddress=0,this.codeLength=0,this.watch=null,this.createTable=function(e){let t,r;function n(e,t,r){const n=e.insertCell();n.className=t,n.innerHTML=r}T("createTable tableId",e);const i=document.getElementById(e+"-container");if(null!==i){for(T("Found container, rows",this.rowCount),this.table=document.createElement("table"),this.table.setAttribute("id","tableId"),this.table.style.backgroundColor="black",this.table.className="DSM",r=1;r<=this.rowCount;r++)T("newRow",r),t=this.table.insertRow(),n(t,"DSM ADDR","addr &nbsp;"),n(t,"DSM BYTES","bytes &nbsp;"),n(t,"DSM MNEM","mnem &nbsp;");i.appendChild(this.table)}},this.setRow=function(e,t,r){let n,i,o,s;function a(e){return e.preventDefault(),r.cellEditing||(r.closeEdit(!1),r.jumpTo(r,t.address)),!1}if(this.table&&e<this.table.rows.length){if(n=this.table.rows[e],o="",t){this.lineMap[t.address]=n,i=k(t.address,4)+":";for(let e=0;e<t.maxInstructionLength;e++)e<t.bytes.length?(o+=k(t.bytes[e],2)+" ",this.codeLength++):o+="&nbsp;&nbsp; ";s=t.operation+" "+t.operand}else i="",s="&nbsp;";n.cells[0].innerHTML=i,n.cells[0].oncontextmenu=function(e){return r.setBreakpoint(r,e,t.address),!1},n.cells[0].onclick=a,n.cells[0].style.backgroundColor=t.address in r.breakpoints?"red":"",n.cells[1].innerHTML=o,n.cells[1].onclick=a,n.cells[2].innerHTML=s,n.cells[2].onclick=a,n.cells[2].oncontextmenu=function(e){return r.cellEditing?(r.cellEditing.input.focus(),!1):(r.editCode(r,e,t.address),e.preventDefault(),!1)}}},this.reloadTable=function(e){null!=this.watch&&(this.cpuOwner.ram.removeWindow(0,0,this.watch),this.watch=null),this.setTable(this.cpuOwner.disassemble(e,65536,this.cpuOwner.dsmTableSize))},this.lineOff=function(){this.lineHi&&(this.lineHi.className="DSMlo",this.lineHi=null)},this.lineOn=function(e,t,r){if(this.cpuOwner.refreshOn||t){if(T("lineOn address",k(e,4)),this.lineOff(),!(e in this.lineMap)){if(r)return;this.reloadTable(e)}this.lineHi=this.lineMap[e],this.lineHi.className="DSMhi"}},this.setTable=function(e){let t;if(T("setTable for code lines count",e.length),this.lineMap=[],this.baseAddress=e[0].address,this.codeLength=0,this.table){for(T("this.table rows length",this.table.rows.length),t=0;t<this.table.rows.length;t++)this.setRow(t,t<e.length?e[t]:null,this.cpuOwner);this.watch=this.cpuOwner.ram.addWindow(this,this.baseAddress,this.codeLength),T("Add DASM watch length",this.codeLength)}},this.doTrace=function(){T("DSMWindow doTrace",0)},this.update=function(e,t,r){T("DASM window update address",k(t,4)),e.doTrace(),T("Assembling",e.cpuOwner.assembling),null==e.cpuOwner.cellEditing&&0==e.cpuOwner.assembling&&e.reloadTable(e.baseAddress)},this.createTable(e)}function j(e,t,r,n,i,o){this.ram=e,this.base=t,this.wide=r,this.high=n,this.scale=o,this.bitsPerPixel=1,this.sourceBitmap=null,this.canvas=null,this.colourMap=["#000000","#a00000","#00a000","#a0a000","#0000a0","#a000a0","#00a0a0","#808080","#404040","#ff0000","#00ff00","#ffff00","#0000ff","#ff00ff","#00ffff","#ffffff"],this.palettes=[[],[0,2],[0,9,2,12],[],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]],this.setMode=function(e){switch(e){case 2:default:this.bitsPerPixel=1;break;case 4:this.bitsPerPixel=2;break;case 16:this.bitsPerPixel=4}},this.clearScreen=function(){const e=this.canvas.getContext("2d");e.fillStyle=this.colourMap[0],e.fillRect(0,0,this.wide*this.scale,this.high*this.scale)},this.clearVideoRAM=function(e){let t;for(t=this.base;t<this.base+this.high*a.lineBytes;t++)this.ram.poke(t,e)},this.update=function(e,t,r){let n,i,o,s=r;switch(this.bitsPerPixel){case 1:i=1,o=1;break;case 2:i=2,o=1;break;case 4:i=2,o=2}let c=(t-this.base&a.lineBytes*o-1)*(8/o);const l=Math.trunc((t-this.base)/(a.lineBytes*o))*o,u=this.canvas.getContext("2d");for(let e=0;e<8;e+=this.bitsPerPixel)s<<=this.bitsPerPixel,n=s>>>8,s&=255,u.fillStyle=this.colourMap[this.palettes[this.bitsPerPixel][n]],u.fillRect(c*this.scale,l*this.scale,this.scale*i,this.scale*o),c+=i},this.canvas=document.getElementById("graphicsScreen"),null!==this.canvas&&(this.setMode(i),this.clearScreen(),this.ram.addWindow(this,this.base,this.wide*this.high/8))}function L(e,t,r,n){this.ram=e,this.base=t,this.wide=r,this.high=n,this.charSet="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]↑← !\"#$%&'()*+,-./0123456789:;<=>?",this.update=function(e,t,n){let i;const o=document.getElementById("txtScreenTable");if(o&&(T("Update element found",""),i=o.rows[Math.floor((t-e.base)/r)].cells[(t-e.base)%r],i))if(n>=128)i.innerHTML=l[15&n],i.className=u[(112&n)>>4];else switch(i.innerHTML=32==(63&n)?"&nbsp;":e.charSet[63&n],64&n){case 0:i.className="txtBG";break;case 64:i.className="txtFG"}},this.createScreenTable=function(e,t,r){let n,i,o,s,a,c;if(c=null,null!==(a=document.getElementById(e+"-container"))){for(c=document.createElement("table"),c.setAttribute("id",e),c.setAttribute("tabindex",0),c.className="txtScreen",n=0;n<r;n++){for(o=document.createElement("tr"),i=0;i<t;i++)s=document.createElement("td"),s.className="txtBG",s.innerText="@",o.appendChild(s);c.appendChild(o),c.addEventListener("keypress",B)}a.appendChild(c)}return c},this.ram.addWindow(this,this.base,this.wide*this.high),this.table=this.createScreenTable("txtScreenTable",32,16)}function B(e){mc6809.keyBuffer.push(e.key),e.preventDefault()}function I(e){let t;if(this.mask=e-1,this.windows=[],e>0)for(this.ram=new Array(e),t=0;t<e;t++)this.ram[t]=0;this.wrap=function(e){return e&this.mask},this.plus=function(e){return e+1&this.mask},this.plusplus=function(e){return e+2&this.mask},this.peek=function(e){return this.ram[e&this.mask]},this.deek=function(e){return(this.ram[e&this.mask]<<8)+this.ram[e+1&this.mask]},this.poke=function(e,t){t&=255,this.ram[e]=t,this.checkWindow(e,t)},this.read=function(e){return[this.wrap(e+1),this.peek(e)]},this.fill=function(e,t){let r=0;for(;r<t.length&&(this.poke(e+r,t[r]),T("Fill",k(t[r],2)),e+r+1===this.wrap(e+r+1));)r++;return e+r},this.addWindow=function(e,t,r){const n=new M(e,t,r);return this.windows.push(n),n},this.removeWindow=function(e,t,r){let n;if(null==r)for(n=this.windows.length-1;n>=0;n--)this.windows[n].base===e&&this.windows[n].ending===e+t&&(this.windows.splice(n,1),T("Removed array splice at ",n+" with base="+e+" length="+t));else n=this.windows.indexOf(r),T("removeWindow by handle",n),n>=0&&this.windows.splice(n,1)},this.checkWindow=function(e,t){for(let r=0;r<this.windows.length;r++){const n=this.windows[r];e>=n.base&&e<n.ending&&n.holder.update(n.holder,e,t)}}}const M=function(e,t,r){this.base=t,this.ending=this.base+r,this.holder=e};class D{base;bytes;constructor(e){this.base=e,this.bytes=[]}addCode(e){T("addCode",e),this.bytes=this.bytes.concat(e)}writeCode(){return"this.ram.fill (0x"+k(this.base,4)+", "+JSON.stringify(this.bytes)+");"}}class N{labelMap;asmText;labels;mapLabels;mapAddrs;passNo;passes;asmLineNo;asmProgram;foundError;asmIntervalID;asmIntervalMils;defaultStart;dsmTable;dsmTableSize;ram;constructor(e,t,r){this.mapLabels=[],this.mapAddrs=[],this.labelMap=new P("labelMap",this),this.asmText="",this.labels=[],this.asmProgram=[],this.passNo=0,this.passes=3,this.asmLineNo=0,this.asmIntervalID=null,this.asmIntervalMils=2,this.defaultStart=16384,this.dsmTable=r,this.dsmTableSize=30,this.ram=e,null==e&&(this.ram=new I(65536)),this.cpu=t}assemble(e){this.asmProgram=e,this.labels=[],this.mapLabels=[],this.mapAddrs=[],this.labelMap.empty(),this.foundError=0,this.#e(1)}#e(e){this.passNo=e,this.ended=!1,this.dpVal=0,this.dpUse=!1,this.codeBlocks=[],this.newOrg(a.org),this.asmLineNo=0;const t=this.asmCycle.bind(this);this.asmIntervalID=setInterval(t,this.asmIntervalMils)}asmFinalise(){if(this.codeBlocks.length){let t=this.#t("START");if(t||(t=this.defaultStart),machineOrg(t,1),this.#r("green","Ready","assembly of "+this.asmProgram.length+" "+(e="line","lines",(1===this.asmProgram.length?e:"lines")+" complete"),void 0),null!=this.dsmTable){const e=this.disassemble(t,65536,this.dsmTableSize);this.dsmTable.setTable(e)}this.labelMap.fill(this.mapLabels)}var e}asmCycle(){let e;this.#r("#d07010","Assembling pass "+this.passNo,"line number "+(this.asmLineNo+1),this.asmText),this.asmLineNo<this.asmProgram.length&&!this.ended?(e=this.asmLine(this.asmProgram[this.asmLineNo],!0),this.asmLineNo++,this.foundError||e.length>0&&(T("Assemble @ ",k(this.pcVal,4)),null!=this.pcVal?(this.pcVal=this.ram.fill(this.pcVal,e),this.codeBlocks[this.codeBlocks.length-1].addCode(e)):this.#n("No value set for origin",0))):(clearInterval(this.asmIntervalID),this.asmIntervalID=null,this.passNo<this.passes?this.#e(this.passNo+1):this.asmFinalise())}#t(e){const t=/\s*([a-z_][\w_]*)/i.exec(e);if(null!==t){const e=t[1].toUpperCase();if(e in this.labels)return T("Found label '"+e+"' of value",k(this.labels[e],4)),this.labels[e]}}#i(e,t){const r=e.toUpperCase();return T("Assigning label ("+r+") with",k(t,4)),null!=this.#t(r)&&1===this.passNo?(this.#n("Attempt to redefine label",r),0):(this.labels[r]=t,1)}opFind(e,t){const r=parseInt(t),n=E.find((function(t){return t.op===e&&t.page===r}));if(n)return n;T("OpFind failed for ",k(256*r+e))}#o(e,t){const r=E.find((r=>r.mnem===e&&0!=(r.mode&t)));if(null!==r)return r;T("MnemonicFind failed for",e)}#s(e,t,r){let n,i;return T("ReadLabel",e),T("leadingSpace",r),n=/^\s*([a-z_][\w_]*):\s*(.*)/i.exec(e),null!==n?(i=n[1].toUpperCase(),T("readLabel key",i),this.#i(i,t),[n[2],i]):(n=/^([a-z_][\w_]*)\s*(.*)/i.exec(e),r||null===n||(i=n[1].toUpperCase(),this.#o(i,65535))?[e,""]:(this.#i(i,t),[n[2],i]))}#a(e,t){let r,n,i,o,s,a=0,c=!1;const l=/^\s*(('(.))|(-|\+|)(\$|%|0x|)([\w_]+))/i;let u=String(e);for(T("nextVal input",u);r=l.exec(u);){if(o=0,s=10,r[3])T("matches[3]",r[3]),i=r[3].charCodeAt(0);else if(n=r[6].toUpperCase(),T("nextVal item",n),T("nextVal radix",r[5]),T('matches[5] "'+r[5]+'"  ',r[5].charCodeAt(0)),"-"===r[4]&&(o=1),"$"!==r[5]&&"0X"!==r[5].toUpperCase()||(s=16),"%"===r[5]&&(s=2),s<=10&&n.match(/^[A-Z_]/)){if(T("FindLabel value",n),i=this.#t(n),null==i)return this.passNo>1||t?(this.#n("Unable to resolve label"),null):(T("Label not yet defined",n),null)}else T("Radix",s),i=parseInt(n,s);if(isNaN(i))return this.#n("Can't read numeric value",i),null;o&&(i=-i),a+=i,c=!0,T("Total",k(a,4)),T("Increment",k(i,4)),T("Expression",u),u=u.substring(r[0].length)}if((a<-32768||a>=65536)&&this.#n("Constant out of range ("+a+")",e),c)return a;this.#n("Unable to interpret expression'"+u+"'")}#c(e){let t="",r=null,n=!0;for(let i=0;i<e.length;i++){const o=e.charAt(i);'"'===o&&(r===o?r=null:null==r&&(r=o)),";"!==o&&"*"!==o||null!==r||!0!==n?(n=" "===o||"\t"===o,(!n||t.length>0)&&(t+=o)):i=e.length}return t.replace(/\s+$/,"")}#l(e,t){t.page&&e.push(t.page),e.push(t.op)}#u(e,t,r){let n;T("Encode value initial",t),n=t?this.#a(String(t),!1):0,T("Encode value",n),T("Encode bits",r),r>8?(n<0&&(n+=65536),n>=0&&n<65536?(e.push(n>>>8),e.push(255&n)):this.#n("Value (16 bits) expected",t)):r>0&&(n<0&&(n+=256),n>=0&&n<256?e.push(n):this.#n("Value (8 bits) expected",t))}#f(e,t){for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);T("String character",k(n,2)),n<256&&e.push(n)}}#h(e,t,r){let n=0;for(let i=0;i<t.length;i++){const o=t[i];T("Encode data",o),n=/\s*"(.*)"/.exec(o),null===n&&(T("Try to match single quotes",o),n=/\s*'(.*)'/.exec(o)),null!==n?this.#f(e,n[1]):this.#u(e,parseInt(o),r)}}newOrg(e){T("newOrg",k(e,4)),this.pcVal=e,this.codeBlocks.push(new D(e))}splitByComma(e){let t;const r=[];let n=e;for(T("splitByComma",e);n.length>0;){t="";let e=/^("(?:[^"\\]|\\.)*")|^('(?:[^'\\]|\\.)*)'/.exec(n);null!==e?t=e[0]:(e=/^([^,]*)/.exec(n),e&&(t=e[1])),""===t?n="":(r.push(t),T("item",t),n=n.substring(t.length).replace(/^\s*,/,""))}return r}#d(e){const t=this.#a(String(e),!0);t>=0&&t<256?(this.dpVal=t,this.dpUse=!0):t<0?(this.dpVal=0,this.dpUse=!1):this.#n("Direct page value must be 8 bits")}#p(e,t){let r;if(2===t.length){r=this.#a(t[0],!1);const n=this.#a(t[1],!0);if(null==r)return;if(r<0&&(r+=256),r>=0&&r<256)if(n>0&&n<65536){T("filling "+n+" bytes with value",r);for(let t=0;t<n;t++)e.push(r)}else this.#n("Value for fill count out of range");else this.#n("Value for data byte out of range")}else this.#n("Directive requires [data byte] and [count] operands")}#g(e){for(let t=0;t<e.length;t++){const r=e[t],n=/\s*([A-Z_][\w_]*)\s*=\s*(.+)/i.exec(r);if(null!=n){const e=this.#a(n[2],!0);e?this.#i(n[1],e):this.#i(n[1],0)}else this.#n("Unable to interpret constant assignment",r)}}#m(e){let t=e.shift();const r=this.#a(t,!1);if(null!=r)for(T("varSize=",r);t=e.shift();){const e=/\s*([A-Z_][\w_]*)/i.exec(t);null!=e?(this.#i(e[1],this.pcVal),this.pcVal+=r):this.#n("Invalid label in variable list",t)}else this.#n("Invalid variable size (usually 1 or 2)",t);this.newOrg(this.pcVal)}#y(e,t,r,n){switch(T("Encode directive name",t.mnem),T("Encode directive operand",r),t.mnem){case"DB":case".BYTE":case"FCB":case"FCC":this.#h(e,this.splitByComma(r),8);break;case"DW":case".WORD":case"FDB":this.#h(e,r.split(","),16);break;case"FILL":this.#p(e,r.split(","));break;case"ORG":this.newOrg(this.#a(r,!0));break;case"DS":case"RMB":this.newOrg(this.pcVal+this.#a(r,!0));break;case"SETDP":case"DIRECT":this.#d(parseInt(r));break;case"=":case"EQU":n?this.labels[n]=this.#a(r,!1):this.#n("EQU directive must have a label","");break;case"CONST":this.#g(r.split(","));break;case"VAR":this.#m(r.split(","));break;case"END":this.ended=!0}}#b(e,t,r){T("this.pcr pcIn",k(r,4));const n=this.ram.wrap(r+(8===t?1:2));T("PCR pc value",k(n,4)),T("PCR target",k(e,4)),T("PCR bits",t);let i=this.#a(String(e),!1);if(T("this.pcr nextVal",i),null==i)return t>8?[null,0,0]:[null,0];switch(i-=n,i<-32768&&(i+=65536),T("PCR offset value",k(i)),t){case 7:case 8:return(i<-128||i>=128)&&this.passNo>1&&this.#n("PC relative offset ('"+k(e,4)+"') outside 8 bit range",i),[i,255&i];case 0:case 15:case 16:return(i<-32768||i>=65536)&&this.passNo>1&&this.#n("PC relative offset ('"+e+"') outside 16 bit range",i),[i,(65535&i)>>>8,255&i]}}#v(e){function t(e){if(T("getRegister",e),e in b)return b[e]}T("pairPostByte",e);const r=/(\w+)\s*,\s*(\w+)/.exec(e),n=t(r[1].toUpperCase()),i=t(r[2].toUpperCase());if(null!=n&&null!=i)return n<<4|i;this.#n("Syntax error in register pair postbyte: '"+e+"'")}#w(e,t){let r=0;const n=e[e.length-1].toUpperCase(),i=t.split(",");T("fullPostByte thisStack",n);for(let e=0;e<i.length;e++){const t=i[e].trim().toUpperCase();T("fullPostByte register",t),t in _?t===n?this.#n("Can't stack register on its own stack",t):r|=_[t]:t.match(/\w/)&&this.#n("Unknown register",t)}return r}#_(e,t){T("Setting map label '"+e+"' with value",t),this.mapLabels[e]=t,this.mapAddrs[k(t,4)]=e}#E(e){let t=7;return e<-128?(t=15,e<-32768&&(t=32)):e>=128&&(t=8,e>=256&&(t=15,e>=32768&&(t=16,e>=65536&&(t=32)))),t}#S(e){let t=-1,r=0;T("getIndexMode",e);const n=/\s*(-{0,2})([A-z]{1,3})(\+{0,2})/.exec(e.toUpperCase());if(n){switch(T("Index mode match",n[2]),n[2]){case"X":t=0;break;case"Y":t=32;break;case"U":t=64;break;case"S":t=96;break;case"PC":t=140;break;case"PCR":t=141;break;default:this.#n("Unrecognised index register",n[2])}switch(T("index postbyte",k(t,2)),T("Postincrement",n[3]),n[3]){case"+":r=128;break;case"++":r=129}if(T("Predecrement",n[1]),n[1])if(r>0)t=-1,this.#n("Index mode error: Can't have increment and decrement at the same time",e);else switch(n[1]){case"-":r=130;break;case"--":r=131}}else this.#n("Syntax error in index register expression",e);return[t,r]}parseSizedVal(e,t,r,n){let i,o=0;T("ParseSizedVal",e);const s=/\s*([<>])(.+)/.exec(e);if(s){switch(T("SizedVal match",s[1]),s[1]){case"<":o=8;break;case">":o=16}i=this.#a(s[2],!1)}else i=this.#a(e,!1);if(null!=i)switch(o){case 16:(i<-32768||i>=65536)&&!t&&this.#n("Constant out of 16 bit range",i);break;case 8:n&&(i=i-(r<<8)&65535),(i<-128||i>=256)&&!t&&this.#n("Constant out of 8 bit range",i)}return[i,o]}#x(e,t,r){let n,i,o,s,a,c,l,u,d,p,g,m,y;c=0,d=-1;let b=!1;return s=0,i=0,o=0,n=/\s*#\s*(.+)/.exec(t),null!=n?(s=this.#a(n[1],!1),i=0!=(2&e)?16:8,a=4):(n=/\s*[(\[]\s*(.+?)[)\]]\s*/.exec(t),null!=n&&(T("Indirect addressing",n[1]),t=n[1],c=1),n=/\s*(\S*?)\s*,\s*(\S+)/.exec(t),null!=n?(p=n[1].toUpperCase(),T("Indexed addressing",n[2]),T("Offset",p),a=f,[l,u]=this.#S(n[2]),p&&(n=/^([BAD])$/.exec(p),null!=n?(T("Register offset",n[1]),l|=128|{B:5,A:6,D:11}[n[1]]):(T("Constant offset",k(p,4)),[s,o]=this.parseSizedVal(p,!0,0,!1),b=!0,T("forceBits="+o,s))),T("indexMode",l),T("increment",u),d=l|u,u?b&&0!==s&&this.#n("Indexing error: can't have offset with auto inc/decrement",s):(T("non-autoincrement mode postByte",k(d,2)),l<128&&0===s?d|=132:b&&(T("Indexed constant offset",s),141===l?(0===o&&(o=16),null===s&&(s=0),g=this.#b(s,o,r),m=g[0],s=g[1],3===g.length&&(s=s<<8|g[2]),l=140,d=l):m=s,s>=-16&&s<16&&l<128&&!c?(d|=31&s,T("5 bit indexed postByte",d)):(d|=l<128?136:140,T("PCR signed value",m),i=this.#E(m),T("PCR opSize bits",i),o>0&&(T("Deal with forceBits",o),this.passNo>1&&i+1>o&&this.#n("Constant offset out of "+o+" bit range",m),i=o-1),i>7&&(d|=1,i=16),T(i+" bit indexed postByte",k(d,2))))),c&&(d|=16)):([s,o]=this.parseSizedVal(t,!1,this.dpVal,this.dpUse),T("Extended or indirect mode",s),i=this.#E(s),8===o&&0===c?(a=8,T("Direct mode bit size",i),(i>8||s<0)&&this.#n("Direct mode address ($"+k(s,4)+") out of range",s)):(c?(d=159,a=f):(y=s-(this.dpVal<<8)&65535,T("withDP",k(y,4)),this.dpUse&&null!=s&&y<256&&16!==o?(T("Using DP",s),s=y,i=8,a=8):(a=h,i=16)),s<0&&this.#n("Extended mode requires a 16 bit unsigned value ",s)))),[a,s,i,d]}asmLine(e,t){let r,n,i,o,s,a,c,l=[],u="";this.asmText=this.#c(e),t&&([this.asmText,u]=this.#s(this.asmText,this.pcVal,/^\s+/.test(e)),u&&(this.lastLabel=u)),this.asmText=this.asmText.replace(/^\s*/,""),T("asmText",this.asmText);const f=/\s*([a-zA-Z=.]\w*)($|\s*(.+))/.exec(this.asmText);if(null!==f){const e=f[1];T("asmLine match:",e),r=this.#o(e.toUpperCase(),65535),null!==r?(T("Opcode:",k(r.op,2)),n=r.mode,i=f[3],0!=(1&n)?i?this.#n("Junk after instruction: '"+i+"'"):this.#l(l,r):0!=(n&g)?this.#y(l,r,i,u):0==(1&n)&&(T("Memory mode",n),T("modes.register",p),0!=(n&d)?(this.#l(l,r),T("ASM mode pcr instruction length",l.length),c=this.#b(i,0!=(2&n)?16:8,this.pcVal+l.length),c.shift(),l=l.concat(c)):0!=(n&p)?(T("Modes register",""),a=0!=(2&n)?this.#v(i):this.#w(e,i),null!==a&&(T("Postbyte value",a),this.#l(l,r),l.push(a))):(T("this pcVal",k(this.pcVal)),[n,o,s,a]=this.#x(r.mode,i,this.pcVal+(r.page?3:2)),T("Mem mode",n),T("postByte",k(a,2)),r=this.#o(e.toUpperCase(),n),null!==r?(T("mnemonicFind Bits",s),0!=(4&r.mode)&&s>8&&0==(2&r.mode)?this.#n("16 bit value found where 8 bit expected: '"+o+"'"):(this.#l(l,r),a>=0&&l.push(a),this.#u(l,o,s))):this.#n(m[n]+" addressing mode not allowed with instruction")))):this.#n("Unknown instruction",e)}return this.lastLabel&&l.length>0&&0==(n&g)&&(this.#_(this.lastLabel,this.pcVal),this.lastLabel=""),l}#r(e,t,r,n){let i,o=n;o&&(o=o.replace(/</,"&lt;"),o=o.replace(/>/,"&gt;")),i="<span style='color: "+e+"' 'font-size: large'>"+t+"</span> <i>"+r+"</i>",null!=n&&(i+="<br />Input: <span style='color: blue'>"+o+"</span>"),document.dispatchEvent(new CustomEvent("assemblerEvent",{detail:{message:i}}))}#n(e,t=null){const r=e+(null==t?"":" "+t);this.foundError=1,this.#r("red","Error @ line "+(this.asmLineNo+1)+":",r,this.asmText),clearInterval(this.asmIntervalID),this.asmIntervalID=null}#k=function(e,t){const r=[];for(let n=0;n<8;++n)0!=(e&1<<n)&&r.push(t[n].substring(3));return r.join(",")};#A(e,t){function r(e){return e in t?t[e].substring(3):"ERR"}return r((240&e)>>>4)+","+r(15&e)}disassemble(e,t,r){let n,i,o,s,a,c=e;const l=[];function u(e){let t;return[c,t]=e.ram.read(c),a.bytes.push(t),t}function g(e,t,r){let n=u(e);return t?(n=n<<8|u(e),_(e.mapAddrs,parseInt(k(n,4)),r)):_(e.mapAddrs,parseInt(k(n,2)),r)}function m(e,t){let r="";const n=["X","Y","U","S"][(96&t)>>>5];if(0==(128&t))T("5 bit",""),r=A(31&t,5,"$")+","+n;else{switch(15&t){case 0:r=","+n+"+";break;case 1:r=","+n+"++";break;case 2:r=",-"+n;break;case 3:r=",--"+n;break;case 4:r=","+n;break;case 5:r="B,"+n;break;case 6:r="A,"+n;break;case 7:case 10:case 14:r="ERR";break;case 8:r=A(parseInt(g(e,0,""),16),8,"$")+", "+n;break;case 9:r=A(parseInt(g(e,2,""),16),16,"$")+", "+n;break;case 11:r="D,"+n;break;case 12:r=b(e,parseInt(g(e,0,""),16),0,c)+",PCR";break;case 13:r=b(e,parseInt(g(e,2,""),16),2,c)+",PCR";break;case 15:r=g(e,2,"$")}0!=(16&t)&&(r="["+r+"]")}return r}function b(e,t,r,n){let i=t;return r||(i|=0!=(128&t)?65280:0),_(e.mapAddrs,parseInt(k(n+i&65535,4)),"$")}function _(e,t,r){return t in e?e[t]:r+t}for(T("Disassembling from",k(e,4)),T("PC",k(c,4)),T("endAddress",k(t,4)),T("maxLines",r);c<t&&l.length<r;)i=0,s=null,a=new U(c),n=u(this),s=this.opFind(n,i),null!=s&&0!=(256&s.mode)&&(T("Pager",n),i=n,n=u(this),s=this.opFind(n,i)),s?(a.operation=s.mnem,0!=(1&s.mode)||(0!=(4&s.mode)?a.operand="#"+g(this,0!=(2&s.mode),"$"):0!=(8&s.mode)?a.operand="<"+g(this,0,"$"):0!=(s.mode&h)?a.operand=g(this,2,"$"):0!=(s.mode&f)?a.operand=m(this,u(this)):0!=(s.mode&p)?(o=u(this),0!=(2&s.mode)?a.operand=this.#A(o,y):a.operand=this.#k(o,"S"===a.operation[a.operation.length-1]?v:w)):0!=(s.mode&d)&&(a.operand=b(this,parseInt(g(this,0!=(2&s.mode),""),16),0!=(2&s.mode),c)))):a.operation="ERR",l.push(a);return l}}function U(e){this.address=e,this.label="",this.bytes=[],this.operation="",this.operand="",this.maxInstructionLength=5,this.show=function(){let e=k(this.address,4)+": ";for(let t=0;t<this.maxInstructionLength;t++)t<this.bytes.length?e+=k(this.bytes[t],2)+" ":e+="   ";return e+this.operation+" "+this.operand}}var F=r(5108);function z(e,t){let r=e.toString();for(;r.length<t;)r="0"+r;return r}function q(e){const t=255&e;return 128&t?(127&t)-128:t}function V(e){const t=65535&e;return 32768&t?(32767&t)-32768:t}function Z(e,r){this.cpu=e,this.base=r,e.ram.addWindow(this,r,32),this.update=function(e,r,n){let a;switch(r-this.base){case i:this.cpu.refreshOn||machineRefresh();break;case t:this.cpu.refresh(1),this.cpu.refreshOn=!1;break;case o:e.cpu.graphicsRAM.setMode(n);break;case s:if(0===n)if(a=e.cpu.keyBuffer.shift(),a){switch(T("Keypress",a,!0),a){case"Enter":a=13;break;case"Backspace":a=8;break;case"Escape":a=27;break;default:a=a.charCodeAt(0)}T("Keycode",a,!0),e.cpu.ram.poke(r,a)}else e.cpu.ram.poke(r,255);else 255===n&&(e.cpu.keyBuffer=[])}}}function H(e,t,r){this.verify=function(){t.pcVal=this.address,t.assembler.foundError=0,t.assembler.passNo=2;const e=t.asmLine(this.input.value);return t.assembler.foundError?(this.input.style.color="#f02020",null):(e.length>0&&(T("cellEdit Assemble @ ",k(this.address,4)),t.pcVal=t.ram.fill(this.address,e)),this.input.value)},t.cellEditing=this,this.parent=e,this.address=r,this.oldContents=this.parent.innerText,this.input=document.createElement("input"),this.input.setAttribute("type","text"),this.input.setAttribute("value",this.oldContents),this.input.className="cellEdit",this.input.addEventListener("contextmenu",(function(e){T("input right click",e),e.preventDefault()}),!0),this.input.addEventListener("keydown",(function(e){let r;e.defaultPrevented||(r=e.key.toString().toUpperCase(),T("Event triggered",r),"ESCAPE"===r&&(t.closeEdit(!1),e.preventDefault()),"ENTER"===r&&(t.closeEdit(!0),e.preventDefault()))}),!0),this.parent.innerHTML="",this.parent.appendChild(this.input),this.input.focus(),this.input.select(),this.input.setSelectionRange(this.oldContents.length,this.oldContents.length)}function $(e,t,r,n,i){this.bits=8,this.binary="",this.regValue=r,this.regLabel="",this.regName="",this.cpu=n,this.notify=0,T("Init Register called",e),this.digGroups=function(e,t){const r=[];for(;e.length>=t;)r.push(e.substring(0,t)),e=e.substring(t);return r},this.toggleBit=function(e){T("toggleBit",e),this.change(this.regValue^1<<e,1),this.selectInput(null,0)},this.selectInput=function(e,t){T("Hex cell select",t),this.cpu.hexInputCell&&(this.cpu.hexInputCell.style.backgroundColor=""),e!==this.cpu.hexInputCell?(this.cpu.hexInputCell=e,this.cpu.hexInputCellNo=t,this.cpu.hexInputRegister=this,e&&(e.style.backgroundColor="#20c020")):this.cpu.hexInputCell=null},this.digitRow=function(e,t,r,n,i){let o,s;const a=e.insertRow();for(i||(s=a.insertCell(),s.innerHTML=this.regLabel+"&nbsp;",s.className="reglabel"),o=0;o<r;o++)s=a.insertCell(),s.setAttribute("name",this.regName),s.className=t,this.binary.length>1?(s.innerHTML=this.binary[o],n&&(T("Notifiable binary cell",o),function(e,t){s.onclick=function(){e.toggleBit(t)}}(this,r-o-1))):(s.innerHTML="-",n&&function(e,t,r){t.onclick=function(){e.selectInput(t,r)}}(this,s,r-o-1))},this.createHTML=function(e){let t,r,n;this.regLabel=e,this.regName="reg"+e;const i=document.getElementById(this.regName);if(n=this.bits,this.binary.length<=1&&(n/=4),null!=i)switch(this.binary&&(t=i.insertRow(),r=t.insertCell(),r.innerHTML=this.regLabel,r.setAttribute("colspan",n),r.className="reglabel"),this.binary){case"":this.digitRow(i,"anydig hex",n,1,0);break;case"Y":this.digitRow(i,"anydig hex big",n,1,1),this.digitRow(i,"anydig bin",n,0,1);break;default:this.digitRow(i,"anydig label",n,0,1),this.digitRow(i,"anydig flag",n,1,1)}},this.refresh=function(e){if(!this.cpu.refreshOn&&!e)return;const t=65535&this.regValue,r=this.digGroups(z(t,this.bits),4),n=this.digGroups(z(t,this.bits),1),i=this.digGroups(k(t,this.bits/4),1);document.getElementsByName(this.regName).forEach((e=>{switch(e.className){case"anydig hex":case"anydig hex big":e.innerHTML=i.shift();break;case"anydig bin":e.innerHTML=r.shift();break;case"anydig flag":e.innerHTML=n.shift()}}))},this.update=function(e){this.setValue(e),this.refresh()},this.change=function(e,t){this.regValue=e,this.refresh(t),this.notify&&this.cpu.notify(this.regName,t)},this.setValue=function(e){let t;switch(this.bits){case 8:t=255;break;case 16:t=65535}this.regValue=e&t},this.setbits=function(e){8!==e&&16!==e||(this.bits=e)},this.setbinary=function(e){""!==e&&"Y"!==e&&e.length!==this.bits||(this.binary=e)},this.inputHex=function(e,t){let r;T("inputHex",t),e.hexInputCell&&(r=15<<4*e.hexInputCellNo^65535,e.hexInputRegister.change(e.hexInputRegister.regValue&r|t<<4*e.hexInputCellNo,1),e.hexInputCellNo>0?e.hexInputRegister.selectInput(e.hexInputCell.nextSibling,e.hexInputCellNo-1):e.hexInputRegister.selectInput(null,0))},this.setbits(t),this.setValue(r),this.setbinary(i),this.createHTML(e)}function G(e){this.r1=0,this.r2=0,this.ea=0,this.eaLast=0,this.notick=0,this.quit=0,this.indexReg="",this.indexInc=0,this.indexBase=0,this.syncing=0,this.waiting=0,this.condition=0,this.nextPage=0,this.regs=e.registers,this.cpu=e,this.iLines={irq:0,firq:0,nmi:0,reset:0},this.execute=function(e){let t,r,n,i;this.notick=0,this.quit=0,t=0,this.nextPage=0;const o=e.split(";");for(;t<o.length&&0===this.quit;)r=/(\w+)(\s*)(\w*)/.exec(o[t]),r?(n=r[1],r.length>2&&(i=r[3]),this[n](i)):T("Operation unknown",o[t]+" in "+e,!0),t++;0===this.notick&&this.cpu.registers.regPC.refresh(),this.cpu.opPage=this.nextPage},this.interrupt=function(e){T("ALU interrupt",e),e in this.iLines&&(T("set iLine",e),this.iLines[e]=1)},this.checkInterrupts=function(){this.iLines.reset&&(this.syncing=0,this.waiting=1,T("found interrupt","reset"),this.serviceInterrupt(0,65534,"FI"),this.iLines.reset=0),this.iLines.nmi&&(this.syncing=0,T("found interrupt","nmi"),this.serviceInterrupt(1,65532,"FI"),this.iLines.nmi=0),this.iLines.firq&&(this.syncing=0,this.iLines.firq=0,this.cpu.flagCheck("F")||(T("found interrupt","firq"),this.serviceInterrupt(0,65526,"FI"))),this.iLines.irq&&(this.syncing=0,this.iLines.irq=0,this.cpu.flagCheck("I")||(T("found interrupt","irq"),this.serviceInterrupt(1,65528,"FI")))},this.swi=function(e){switch(e){case"1":this.serviceInterrupt(1,65530,"FI");break;case"2":this.serviceInterrupt(1,65524,"");break;case"3":this.serviceInterrupt(1,65522,"")}},this.serviceInterrupt=function(e,t,r){T("serviceInterrupt",k(t,4)),this.waiting?this.waiting=0:e?(this.cpu.flags("E"),T("Interrupt push CC value",k(this.cpu.registers.regCC.regValue)),this.pushPostByte("regS",255)):(this.cpu.flags("e"),this.pushPostByte("regS",129)),this.cpu.flags(r),this.ea=t,this.ftch16(),machineOrg(this.r1,0)},this.chk=function(e){const t=this.cpu.registers.regCC.regValue;switch(this.condition=0,e){case"Z":0!=(t&this.cpu.flagBits.Z)&&(this.condition=1);break;case"C":0!=(t&this.cpu.flagBits.C)&&(this.condition=1);break;case"N":0!=(t&this.cpu.flagBits.N)&&(this.condition=1);break;case"V":0!=(t&this.cpu.flagBits.V)&&(this.condition=1);break;case"LS":(t&this.cpu.flagBits.C||t&this.cpu.flagBits.Z)&&(this.condition=1);break;case"LT":(t&this.cpu.flagBits.V)!=(t&this.cpu.flagBits.N)&&(this.condition=1);break;case"LE":(t&this.cpu.flagBits.Z||(t&this.cpu.flagBits.V)!=(t&this.cpu.flagBits.N))&&(this.condition=1)}},this.sync=function(){this.syncing=1},this.exx=function(){const e=this.r1;this.r1=this.r2,this.r2=e},this.mnus=function(){this.r1=this.cpu.ram.wrap(this.r1-1)},this.qt=function(){0!==this.condition&&(this.quit=1)},this.qf=function(){0===this.condition&&(this.quit=1)},this.ld=function(e){return"regD"===e?this.regs.regA.regValue<<8|this.regs.regB.regValue:this.regs[e].regValue},this.ld1=function(e){this.r1=this.ld(e)},this.ld2=function(e){this.r2=this.ld(e)},this.st=function(e,t){"regD"===e?(this.regs.regA.change(t>>>8,0),this.regs.regB.change(255&t,0)):this.regs[e].change(t,0)},this.st1=function(e){this.st(e,this.r1)},this.st2=function(e){this.st(e,this.r2)},this.regPairRead=function(e){let t=this.ld(y[e]);return 0!=(8&e)&&(t|=t<<8),t},this.regPairWrite=function(e,t){const r=0!=(8&e)?255&t:t;this.st(y[e],r)},this.rgop=function(e){this.pcb();const t=this.r1>>>4,r=15&this.r1;switch(this.r1=this.regPairRead(t),this.r2=this.regPairRead(r),e){case"tfr":this.regPairWrite(r,this.r1);break;case"exg":this.regPairWrite(r,this.r1),this.regPairWrite(t,this.r2)}},this.stck16=function(e){const t=this.regs[e].regValue;let r=this.regs.regS.regValue;r=this.cpu.ram.wrap(r-1),this.cpu.ram.poke(r,t),r=this.cpu.ram.wrap(r-1),this.cpu.ram.poke(r,t>>>8),this.regs.regS.change(r,0)},this.wait=function(){this.regs.regCC.change(this.r1|this.cpu.flagBits.E,0),T("Wait PC",k(this.regs.regPC.regValue,4)),this.pushPostByte("regS",255),this.waiting=1},this.push=function(e){this.pcb(),this.pushPostByte(e,this.r1)},this.pushPostByte=function(e,t){let r,n=this.regs[e].regValue;const i="regS"===e?v:w;let o=128,s=8;for(;o>0;)s--,0!=(t&o)&&(r=this.regs[i[s]].regValue,n=this.cpu.ram.wrap(n-1),this.cpu.ram.poke(n,r),s>=4&&(n=this.cpu.ram.wrap(n-1),this.cpu.ram.poke(n,r>>>8))),o>>>=1;this.regs[e].change(n,0),this.eaLast=n},this.rti=function(){this.pullPostByte("regS",_.CC),T("RTI cc value",k(this.cpu.registers.regCC.regValue,2)),this.cpu.flagCheck("E")?this.pullPostByte("regS",255^_.CC):this.pullPostByte("regS",_.PC)},this.pull=function(e){this.pcb(),this.pullPostByte(e,this.r1)},this.pullPostByte=function(e,t){let r,n=this.regs[e].regValue;const i="regS"===e?v:w;let o=1,s=0;for(this.eaLast=n;o>0;)0!=(t&o)&&(s>=4?(r=this.cpu.ram.peek(n)<<8,n=this.cpu.ram.wrap(n+1)):r=0,r|=this.cpu.ram.peek(n),n=this.cpu.ram.wrap(n+1),this.regs[i[s]].change(r,0)),s++,o=o<<1&255;this.regs[e].change(n,0)},this.page=function(e){this.nextPage=e},this.nop=function(){},this.err=function(){},this.or8=function(){this.r1=this.r1|this.r2,this.cpu.flags("v"+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n"))},this.clr8=function(){this.r1=0,this.cpu.flags("nZvc")},this.tst8=function(){this.cpu.flags("v"+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n"))},this.and8=function(){this.r1=this.r2&this.r1&255,this.cpu.flags("v"+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n"))},this.eor8=function(){this.r1=255&(this.r2^this.r1),this.cpu.flags("v"+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n"))},this.or8=function(){this.r1=255&(this.r2|this.r1),this.cpu.flags("v"+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n"))},this.sub8=function(){const e=this.r2^this.r1,t=this.r2-this.r1,r=0!=(e&(this.r2^t)&128)?"V":"v";this.r1=255&t,this.cpu.flags(r+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n")+(256&t?"C":"c"))},this.sub16=function(){const e=this.r2^this.r1,t=this.r2-this.r1,r=e&(this.r2^t)&32768?"V":"v";this.r1=65535&t,this.cpu.flags(r+(this.r1?"z":"Z")+(0!=(32768&this.r1)?"N":"n")+(65536&t?"C":"c"))},this.sbc8=function(){const e=this.r2^this.r1^128,t=this.r2-this.r1-(this.cpu.flagCheck("C")?1:0),r=e&(this.r2^t)&128?"V":"v";this.r1=255&t,this.cpu.flags(r+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n")+(256&t?"C":"c"))},this.add8=function(){const e=this.r2^this.r1^128,t=this.r2+this.r1;let r=(15&this.r2)+(15&this.r1)>=16?"H":"h";r+=e&(this.r2^t)&128?"V":"v",this.r1=255&t,this.cpu.flags(r+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n")+(0!=(256&t)?"C":"c"))},this.add16=function(){const e=this.r2^this.r1^32768,t=this.r2+this.r1,r=e&(this.r2^t)&32768?"V":"v";this.r1=65535&t,this.cpu.flags(r+(this.r1?"z":"Z")+(0!=(32768&this.r1)?"N":"n")+(0!=(65536&t)?"C":"c"))},this.adc8=function(){const e=this.r2^this.r1^128,t=this.r2+this.r1+(this.cpu.flagCheck("C")?1:0),r=e&(this.r2^t)&128?"V":"v";this.r1=255&t,this.cpu.flags(r+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n")+(0!=(256&t)?"C":"c"))},this.mul=function(){const e=(255&this.regs.regA.regValue)*(255&this.regs.regB.regValue),t=128&e?"C":"c";this.regs.regA.change(e>>>8,0),this.regs.regB.change(255&e,0),this.cpu.flags(t+(e?"z":"Z"))},this.abx=function(){this.regs.regX.change(this.regs.regX.regValue+this.regs.regB.regValue&65535,0)},this.zero=function(){this.cpu.flags(this.r1?"z":"Z")},this.tst16=function(){this.cpu.flags("v"+(this.r1?"z":"Z")+(0!=(32768&this.r1)?"N":"n"))},this.inc8=function(){const e=127===this.r1?"V":"v";this.r1=this.r1+1&255,this.cpu.flags(e+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n"))},this.dec8=function(){const e=128===this.r1?"V":"v";this.r1=this.r1-1&255,this.cpu.flags(e+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n"))},this.neg8=function(){const e=(this.r1?"C":"c")+(128===this.r1?"V":"v");this.r1=256-this.r1&255,this.cpu.flags(e+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n"))},this.com8=function(){this.r1=255&(255^this.r1),this.cpu.flags("vC"+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n"))},this.lsr8=function(){const e="n"+(0!=(1&this.r1)?"C":"c");this.r1=this.r1>>>1&255,this.cpu.flags(e+(this.r1?"z":"Z"))},this.ror8=function(){const e="n"+(0!=(1&this.r1)?"C":"c"),t=this.cpu.flagCheck("C")?128:0;this.r1=255&(this.r1>>>1|t),this.cpu.flags(e+(this.r1?"z":"Z"))},this.asr8=function(){const e=0!=(1&this.r1)?"C":"c",t=128&this.r1;this.r1=255&(this.r1>>>1|t),this.cpu.flags(e+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n"))},this.lsl8=function(){const e=128&this.r1,t=e?"C":"c";this.r1=this.r1<<1&255,this.cpu.flags(t+((128&this.r1)!==e?"V":"v")+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n"))},this.rol8=function(){const e=128&this.r1,t=this.cpu.flagCheck("C")?1:0,r=e?"C":"c";this.r1=255&(this.r1<<1|t),this.cpu.flags(r+((128&this.r1)!==e?"V":"v")+(this.r1?"z":"Z")+(0!=(128&this.r1)?"N":"n"))},this.sx=function(){this.r1&=255,this.r1|=0!=(128&this.r1)?65280:0},this.shft=function(){this.r1=this.r1>>>8;const e=this.r1?"z":"Z";this.cpu.flags(e+(0!=(128&this.r1)?"N":"n"))},this.daa=function(){let e=this.regs.regA.regValue;T("DAA b",e);let t=e>>>4,r=15&e;T("DAA ln",r),(this.cpu.flagCheck("C")||t>9||t>8&&r>9)&&(t+=6),(this.cpu.flagCheck("H")||r>9)&&(r+=6,t+=1);const n=0!=(16&t)?"C":"c";e=(15&t)<<4|15&r,this.regs.regA.change(e,0),this.cpu.flags(n+(e?"z":"Z")+(0!=(128&e)?"N":"n"))},this.indx=function(){let e=0,t=0;switch(this.indexReg="",this.indexInc=0,this.indexBase=0,this.pcb(),(96&this.r1)>>>5){case 0:this.indexReg="regX";break;case 1:this.indexReg="regY";break;case 2:this.indexReg="regU";break;case 3:this.indexReg="regS"}if(0==(128&this.r1))e=0!=(16&this.r1)?(15&this.r1)-16:15&this.r1;else switch(t=16&this.r1,15&this.r1){case 0:this.indexInc=1;break;case 1:this.indexInc=2;break;case 2:this.indexInc=-1;break;case 3:this.indexInc=-2;break;case 4:case 7:case 10:case 14:break;case 5:e=q(this.regs.regB.regValue);break;case 6:e=q(this.regs.regA.regValue);break;case 8:this.pcb(),e=q(this.r1);break;case 9:this.pcw(),e=V(this.r1);break;case 11:e=V(this.ld("regD"));break;case 12:this.indexReg="regPC",this.pcb(),e=q(this.r1);break;case 13:this.indexReg="regPC",this.pcw(),e=V(this.r1);break;case 15:this.indexReg="",this.pcw(),e=V(this.r1)}this.indexReg&&(this.indexBase=this.regs[this.indexReg].regValue,this.indexInc<0&&(this.indexBase+=this.indexInc,this.regs[this.indexReg].change(65535&this.indexBase,0))),this.ea=this.indexBase+e,t&&(T("Indirection from",k(this.ea,4)),this.ftch16(this.ea),this.ea=this.r1,T("Indirection ea",k(this.ea,4)))},this.idxu=function(){this.indexInc>0&&this.regs[this.indexReg].change(this.indexBase+this.indexInc&65535,0)},this.pcb=function(){this.ea=this.regs.regPC.regValue,this.r1=this.cpu.ram.peek(this.ea),this.ea=this.cpu.ram.wrap(this.ea+1),this.regs.regPC.setValue(this.ea)},this.pcw=function(){this.ea=this.regs.regPC.regValue,this.r1=this.cpu.ram.peek(this.ea),this.ea=this.cpu.ram.wrap(this.ea+1),this.r1=(this.r1<<8)+this.cpu.ram.peek(this.ea),this.ea=this.cpu.ram.wrap(this.ea+1),this.regs.regPC.setValue(this.ea)},this.rel8=function(){this.pcb(),this.r1|=0!=(128&this.r1)?65280:0,this.r1=this.cpu.ram.wrap(this.ea+this.r1)},this.rel16=function(){this.pcw(),this.r1=this.cpu.ram.wrap(this.ea+this.r1)},this.drct=function(){this.pcb(),this.ea=(this.regs.regDP.regValue<<8)+this.r1},this.ea1=function(){this.r1=this.ea},this.ea2=function(){this.r2=this.ea},this.xtnd=function(){this.pcw(),this.ea=this.r1},this.pull8=function(e){this.ea=this.regs[e].regValue,this.r1=this.cpu.ram.peek(this.ea),this.regs[e].change(this.cpu.ram.wrap(this.ea+1),0)},this.pull16=function(e){this.ea=this.regs[e].regValue,this.r1=this.cpu.ram.peek(this.ea)<<8|this.cpu.ram.peek(this.cpu.ram.wrap(this.ea+1)),this.regs[e].change(this.cpu.ram.wrap(this.ea+2),0)},this.ftch8=function(){this.eaLast=this.ea,this.r1=this.cpu.ram.peek(this.ea)},this.ftch16=function(){this.eaLast=this.ea,this.r1=(this.cpu.ram.peek(this.ea)<<8)+this.cpu.ram.peek(this.cpu.ram.wrap(this.ea+1))},this.stor8=function(){this.eaLast=this.ea,this.cpu.ram.poke(this.ea,this.r1)},this.stor16=function(){this.eaLast=this.ea,this.cpu.ram.poke(this.ea,this.r1>>>8),this.cpu.ram.poke(this.cpu.ram.wrap(this.ea+1),this.r1)},this.r1ea=function(){this.ea=this.r1},this.ntck=function(){this.notick=1}}function W(e,t,r){this.table=null,this.cpu=t,this.lastWatch=null,this.update=function(e,t,r){if(T("Watchwindow update",k(t,4)),!this.cpu.refreshOn)return;let n;const i=this.cpu.ram.wrap(65520&t),o=k(i,4);let s=0;for(;s<this.table.rows.length;)n=this.table.rows[s],n.cells[1].innerText===o&&this.setHex(n,i),s++},this.refresh=function(e){let t;if(this.cpu.refreshOn||e)for(t=0;t<this.table.rows.length;t++)this.setHex(this.table.rows[t],parseInt("0x"+this.table.rows[t].cells[1].innerText))},this.createTable=function(e){let t;null!==(t=document.getElementById(e+"-container"))&&(T("Found container",e),this.table=document.createElement("table"),this.table.setAttribute("id",e),this.table.className="watchWindow",t.appendChild(this.table))},this.setHex=function(e,t){let r;for(r=0;r<16;r++)e.cells[r+2].innerText=k(this.cpu.ram.peek(t+r),2)},this.addWatch=function(e){let r,n;const i=[];if(null!==this.table){const o=this.table.insertRow(),s=o.insertCell(),a=o.insertCell();for(T("addWatch",0),n=0;n<16;n++)i[n]=o.insertCell(),i[n].className="watchHex",function(e,t,n){i[t].onclick=function(o){i[t].innerText=k(n.regValue,2),e.poke(r+t,n.regValue)}}(this.cpu.ram,n,this.cpu.registers.regA),function(e,t,n){i[t].oncontextmenu=function(o){return o.preventDefault(),i[t].innerText=k(n.regValue,2),e.poke(r+t,n.regValue),!1}}(this.cpu.ram,n,this.cpu.registers.regB);s.className="watchControl",s.innerHTML="&#x2718;",s.onclick=function(e){var r;T("removeWatch ",(r=e.target.parentNode).cells[1].innerText),t.ram.removeWindow(parseInt(r.cells[1].innerText,16),16),r.parentNode.removeChild(r)},a.className="watchAddr",r=this.cpu.ram.wrap(65520&e),a.innerText=k(r,4),this.setHex(o,r),this.cpu.ram.addWindow(this,r,16),this.lastWatch=r}},this.createTable(e),this.addWatch(r)}function Y(){this.flagBits={C:1,V:2,Z:4,N:8,I:16,H:32,F:64,E:128},this.registers=[],this.ops=E,this.ram=new I(65536),this.videoRAM=new L(this.ram,1024,32,16),this.graphicsRAM=new j(this.ram,1536,256,192,2,2),this.dsmTableSize=30,this.dsmTable=new C("DSMTable",this,this.dsmTableSize),this.labelMap=new P("labelMap",this),this.watchList=null,this.labels=[],this.codeBlocks=[],this.opPage=0,this.ended=!1,this.dpVal=0,this.dpUse=!1,this.pcVal=null,this.assembling=!1,this.intervalID=null,this.irqID=null,this.firqID=null,this.irqMils=500,this.firqMils=50,this.hexInputCell=null,this.hexInputCellNo=0,this.hexInputRegister=null,this.intervalMils=1e3,this.intervalTimes=1,this.speedMils={1:1e3,2:500,3:250,4:100,5:50,6:25,7:10,8:5,9:2,10:1},this.speedMils={1:1e3,2:500,3:250,4:100,5:50,6:10,7:1,8:.1,9:.01,10:.002},this.refreshOn=!0,this.SI=null,this.breakpoints=[],this.breakpoints[a.org]=!0,this.defaultStart=16384,this.cellEditing=null,this.keyBuffer=[],this.failCount=0,this.assembler=new N(this.ram,this,this.dsmTable),this.assemble=function(e){this.assembler.assemble(e)},this.asmLine=function(e){return this.assembler.asmLine(e,!1)},this.asmCycle=function(){this.assembler.asmCycle()},this.disassemble=function(e,t,r){return this.assembler.disassemble(e,t,r)},this.closeEdit=function(e){let t;if(T("closeEdit, update=",e),this.cellEditing){if(e){if(t=this.cellEditing.verify(),null==t)return!1}else t=this.cellEditing.oldContents;return T("newValue",t),this.cellEditing.parent.removeChild(this.cellEditing.input),this.cellEditing.parent.innerText=t,this.cellEditing=null,this.dsmTable.reloadTable(this.dsmTable.baseAddress),!0}return!1},this.flags=function(e){let t,r,n,i,o;for(r=this.registers.regCC.regValue,t=0;t<e.length;t++)n=e[t],i=n.toUpperCase(),o=this.flagBits[i],r&=~o,n===i&&(r|=o);this.registers.regCC.change(r,0)},this.flagCheck=function(e){return T("flagCheck",this.registers.regCC.regValue),T("flagCheck",this.flagBits[e]),0!=(this.registers.regCC.regValue&this.flagBits[e])?1:0},this.addReg=function(e,t,r,n){T("CPU addReg","reg"+e),this.registers["reg"+e]=new $(e,t,r,this,n)},this.refresh=function(e){let t;for(t in this.registers)Object.prototype.hasOwnProperty.call(this.registers,t)&&this.registers[t].refresh(e);this.registers.regPC.notify=1,this.dsmTable.lineOn(this.registers.regPC.regValue,e),this.watchList.refresh(e)},this.notify=function(e,t){"regPC"===e&&this.dsmTable.lineOn(this.registers.regPC.regValue,t)},this.loadOS=function(){this.ram.fill(16384,[57]),this.ram.fill(61440,[22,0,75,22,0,20,22,0,17,22,0,14,22,0,11,22,0,8,22,0,6,189,64,0,32,251,59,52,4,31,137,79,88,73,49,141,0,40,52,32,49,141,0,28,49,171,16,172,225,53,4,36,2,173,180,59,57,93,38,4,127,255,128,57,127,255,129,57,247,255,130,57,240,56,240,57,240,68,26,80,28,80,16,206,128,0,141,3,22,255,186,204,0,0,31,139,31,1,31,2,31,3,57]),this.ram.fill(65520,[]),this.ram.fill(65522,[240,18,240,15,240,12,240,9,240,6,240,3,240,0])},this.jumpTo=function(e,t){null==e.intervalID&&machineOrg(t,1)},this.editCode=function(e,t,r){const n=t.target.parentNode.lastChild;return T("editCode",0),new H(n,e,r),!1},this.setBreakpoint=function(e,t,r){const n=t.target.parentNode.firstChild;return r in e.breakpoints?(delete e.breakpoints[r],n.style.backgroundColor=""):(e.breakpoints[r]=!0,n.style.backgroundColor="red"),!1},this.cycle=function(){let e,t,r,n,i;for(n=null==this.intervalID?1:this.intervalTimes,r=1;r<=n;r++){if(this.cycles++,!this.alu.syncing&&!this.alu.waiting)do{e=this.ram.peek(this.registers.regPC.regValue),this.registers.regPC.setValue(this.ram.plus(this.registers.regPC.regValue));try{t=this.assembler.opFind(e,this.opPage)}catch(e){this.failCount++,F.log("caught opfind failure in cycle"),this.failCount>10&&(this.failCount=0,this.stop())}null!=t&&this.alu.execute(t.code)}while(this.opPage);this.alu.checkInterrupts(),i=this.registers.regPC.regValue,this.breakpoints[i]&&(r=n,this.stop(),this.refresh(!0))}this.dsmTable.lineOn(i,0)},this.stop=function(){function e(e){return null!=e&&clearInterval(e),null}this.alu.waiting=0,this.alu.syncing=0,this.intervalID=e(this.intervalID),this.irqID=e(this.irqID),this.firqID=e(this.firqID)},this.ready=function(){this.alu=new G(this),this.cycles=0,this.loadOS(),this.SI=new Z(this,e)},this.execute=function(){this.stop(),this.intervalID=setInterval(machineCycle,this.intervalMils),this.irqID=setInterval(doIRQ,this.irqMils),this.firqID=setInterval(doFIRQ,this.firqMils)},this.setSpeed=function(e){let t=this.speedMils[e];t<1?(this.intervalTimes=Math.round(1/t),t=1):this.intervalTimes=1,this.intervalMils=t,null!=this.intervalID&&this.execute()},this.addEvents=function(){let e;const t=this;null!==(e=document.getElementById("registers-container"))&&(e.addEventListener("keypress",(function(e){let r;e.defaultPrevented||(r=e.key.toString().toUpperCase(),T("Event keypress triggered",r),r in c&&t.hexInputCell&&(T("Key Event triggered",r,!0),t.hexInputRegister.inputHex(t,c[r]),e.preventDefault()))}),!0),document.addEventListener("keydown",(function(e){T("keydown event",e.key,!0),"Backspace"!==e.key&&"Escape"!==e.key||(T("Escape or backspace",e.key,!0),null!=mc6809.intervalID&&(T("Escape or backspace","running",!0),B(e)))}),!0))},this.addRegisters=function(){this.addReg("PC",16,0,"",0),this.addReg("X",16,0,"",0),this.addReg("Y",16,0,"",0),this.addReg("U",16,0,"",0),this.addReg("S",16,0,"",0),this.addReg("A",8,0,"Y",1),this.addReg("B",8,0,"Y",1),this.addReg("CC",8,80,"EFHINZVC",1),this.addReg("DP",8,0,"",0)},this.addRegisters(),this.watchList=new W("watchWindow",this,32752),this.watchList.addWatch(65408),this.addEvents()}})(),bundle=n})();</script>
<script>/**
 * Custom slider for controlling CPU step interval.
 */
class SlideControl {
  #cpu;
  #value;
  #speed;
  #readout;
  #slider;

  /**
   * Inject CPU and set default interval.
   *
   * @param {CPU} cpu bound CPU
   * @param {number} speed default step interval
   */
  constructor(cpu, speed) {
    this.#cpu = cpu;
    this.#speed = Math.trunc(speed);
    this.#slider = null;
    this.#readout = null;
    this.#value = 0;
  }

  /**
   * Bind control to given UI elements.
   *
   * @param {String} slideElement slide control element name
   * @param {String} textElement text readout element name
   */
  bindId(slideElement, textElement) {
    this.#readout = document.getElementById(textElement);
    this.#slider = document.getElementById(slideElement);
    this.#slider.addEventListener('click', this.update.bind(this), false);
    this.#slider.min = 1;
    this.#slider.max = 10;
    this.#speed = Math.max(this.#slider.min, this.#speed);
    this.#slider.value = Math.min(this.#speed, this.#slider.max);
    this.#cpu.intervalMils = this.#cpu.speedMils[this.#slider.value];
    this.#value = parseInt(this.#slider.value);
    this.#readout.innerHTML = this.#value;
  }

  /**
   * Update CPU with new interval step.
   *
   * @param {Object} event slide control change event
   */
  update(event) {
    this.#value = parseInt(event.srcElement.value);
    this.#readout.innerHTML = this.#value;
    this.#cpu.setSpeed(this.#value);
  }
}

/**
 * Event consumer for assembly status updates.
 *
 * @param {Object} event assembly status event
 */
function statusEventHandler(event) {
  const statusBox = document.getElementById('assemblyStatus');
  if (statusBox != null) {
    statusBox.innerHTML = event.detail.message;
  }
  event.preventDefault();
}

/**
 * Disassemble visible code.
 *
 * @param {String} id target elementId name
 */
function codeDump(id) { // eslint-disable-line no-unused-vars
  let block;
  let text = '';
  for (block in mc6809.codeBlocks) {
    if (Object.prototype.hasOwnProperty.call(mc6809.codeBlocks, block)) {
      text += mc6809.codeBlocks[block].writeCode() + '\n';
    }
  }
  const element = document.getElementById(id);
  if (element !== null) {
    element.value = text;
  }
}

/**
 * Start assembly process.
 *
 * @param {String} id elementId name of source container
 */
function compileRun(id) { // eslint-disable-line no-unused-vars
  const element = document.getElementById(id);
  if (element) {
    mc6809.assemble(element.value.split('\n'));
    mc6809.refresh(1);
  }
}

/**
 * Refresh UI with machine state.
 */
function machineRefresh() {
  const refresh= document.getElementById('refreshCheck');
  if (refresh) {
    if (refresh.checked) {
      mc6809.refresh(1);
    }
    mc6809.refreshOn = refresh.checked;
  }
}

/**
 * Add watchpoint frame.
 *
 * @param {String} where address reference (EA/X/APPEND)
 */
function addWatchpoint(where) { // eslint-disable-line no-unused-vars
  switch (where.toUpperCase()) {
    case 'EA':
      mc6809.watchList.addWatch(mc6809.alu.eaLast);
      break;
    case 'X':
      mc6809.watchList.addWatch(mc6809.registers['regX'].regValue);
      break;
    case 'APPEND':
      mc6809.watchList.addWatch(mc6809.watchList.lastWatch + 0x10);
      break;
  }
}

/**
 * Force CPU reset.
 */
function machineReset() { // eslint-disable-line no-unused-vars
  machineInterrupt('reset');
}

/**
 * Trigger named interrupt.
 *
 * @param {String} irqName interrupt name (NMI/IRQ/FIRQ)
 */
function machineInterrupt(irqName) {
  bundle.trc('machineInterrupt', irqName);
  mc6809.alu.interrupt(irqName);
  mc6809.alu.checkInterrupts();
  mc6809.refresh(1);
  mc6809.execute();
}

/**
 * Stop CPU auto-cycle.
 */
function machineHalt() { // eslint-disable-line no-unused-vars
  console.dir(document.getElementById('registers-container'));
  mc6809.stop();
  mc6809.refresh(1);
}

/**
 * Start CPU auto-cycle.
 */
function machineRun() { // eslint-disable-line no-unused-vars
  machineRefresh();
  mc6809.execute();
}

/**
 * CPU cycle callback.
 */
function machineCycle() { // eslint-disable-line no-unused-vars
  mc6809.cycle();
}

/**
 * Step CPU by 1 instruction.
 */
function machineStep() { // eslint-disable-line no-unused-vars
  mc6809.stop();
  mc6809.cycle();
  if (!mc6809.refreshOn) {
    mc6809.refresh(1);
  }
}

/**
 * Trigger Interrupt (IRQ).
 */
function doIRQ() { // eslint-disable-line no-unused-vars
  mc6809.alu.interrupt('irq');
  mc6809.alu.checkInterrupts();
}

/**
 * Trigger Fast Interrupt (FIRQ).
 */
function doFIRQ() { // eslint-disable-line no-unused-vars
  mc6809.alu.interrupt('firq');
  mc6809.alu.checkInterrupts();
}

/**
 * Refresh UI with updated program counter.
 *
 * @param {number} PC program counter
 * @param {boolean} force force update
 */
function machineOrg(PC, force) { // eslint-disable-line no-unused-vars
  mc6809.registers['regPC'].change(PC, 0);
  mc6809.dsmTable.lineOn(mc6809.registers['regPC'].regValue, force);
}

document.addEventListener('assemblerEvent', statusEventHandler);
const mc6809 = new bundle.CPU();
mc6809.ready();
const speed = new SlideControl(mc6809, 5);
speed.bindId('speed', 'speedVal');
document.getElementById('assembly-code').value =
    document.getElementById('demo-helloworld').value;
machineInterrupt('reset');
mc6809.refresh(1);
mc6809.execute();
</script>

</body>

</html>
